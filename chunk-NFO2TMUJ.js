import{a as vi,b as xi,c as Di,d as Si,e as ki,f as Ri}from"./chunk-KFME4GF7.js";import{a as Lt}from"./chunk-BZSBJEUM.js";import{a as ht}from"./chunk-KLX5RSOU.js";import{a as Ei,b as Fi,c as kn,d as Ii,e as Pt}from"./chunk-CDWPNKGH.js";import{a as Mi}from"./chunk-N7K2W4GS.js";import{a as _t,b as gt}from"./chunk-KF5FKLM2.js";import{a as yi,c as Ci,f as wi,g as bi,h as Te}from"./chunk-B5TLS7NU.js";import{Aa as pt,Ba as te,Da as he,Ga as fe,Ha as Ae,I as Re,Ja as ie,Ka as ft,N as Ue,O as ce,P as ze,Q as mt,R as hi,S as We,T as ut,Y as fi,a as ui,ga as Ee,ha as _i,ia as Fe,ja as Ie,ka as Me,ma as $e,oa as M,qa as de,ra as J,ta as S,va as ee,wa as gi,x as pi,xa as me,ya as ue,za as pe}from"./chunk-IHNP6RTA.js";import{h as mi}from"./chunk-3CV2CJ2A.js";import{$a as g,$b as L,Ac as Gt,Bb as F,Ca as ne,Cb as H,Da as ii,Db as V,Ea as ni,Eb as O,Fb as c,Ga as le,Gb as d,Ha as Q,Hb as G,Ib as Le,Ic as di,Jb as Pe,Kb as X,Lb as z,Na as oi,Ob as k,Qb as v,Rb as lt,Sb as ke,Tb as Tt,Ub as ci,Vb as be,Wb as Nt,Xb as oe,Yb as re,Za as ri,Zb as ct,_b as h,ab as y,ac as W,ba as at,cb as Ce,e as Sn,f as Mt,fc as Z,ga as ei,gc as j,ib as Ge,ja as Oe,kb as ai,la as ti,lb as je,m as Wt,ma as Se,o as Zt,ob as $,qa as P,qb as we,sa as B,u as At,ub as I,vb as si,vc as dt,w as Jt,wb as D,wc as He,xa as st,xb as Qe,ya as T,yb as Be,za as N,zb as li,zc as ve}from"./chunk-QIAB43MT.js";var En=(n,t)=>t.id;function Fn(n,t){if(n&1){let r=z();c(0,"mat-list-option",1),k("click",function(){let i=T(r).$implicit,o=v(2);return N(o.selectAnalysisGroup(i))}),c(1,"b"),h(2),d(),c(3,"span",2),h(4),d()(),G(5,"mat-divider")}if(n&2){let r=t.$implicit,e=v(2);D("value",r),g(2),L(r.name),g(2),W(" ",e.dataService.getAnalysisGroupTypeLabel(r.analysis_group_type)," ")}}function In(n,t){if(n&1&&(c(0,"mat-selection-list",0),V(1,Fn,6,3,null,null,En),d()),n&2){let r=v();D("multiple",!1),g(),O(r.analysisGroupQuery.results)}}var xr=(()=>{let t=class t{constructor(e){this.dataService=e,this.selectedAnalysisGroup=new Q}selectAnalysisGroup(e){this.selectedAnalysisGroup.emit(e)}};t.\u0275fac=function(i){return new(i||t)(y(ht))},t.\u0275cmp=P({type:t,selectors:[["app-analysis-group-list"]],inputs:{analysisGroupQuery:"analysisGroupQuery"},outputs:{selectedAnalysisGroup:"selectedAnalysisGroup"},standalone:!0,features:[j],decls:1,vars:1,consts:[[3,"multiple"],[3,"click","value"],["matListItemLine",""]],template:function(i,o){i&1&&I(0,In,3,1,"mat-selection-list",0),i&2&&F(o.analysisGroupQuery?0:-1)},dependencies:[yi,wi,bi,Ci]});let n=t;return n})();var Hi="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Ui="ARRAYBUFFER not supported by this environment",zi="UINT8ARRAY not supported by this environment";function Ai(n,t,r,e){let i,o,a,s=t||[0],l=(r=r||0)>>>3,p=e===-1?3:0;for(i=0;i<n.length;i+=1)a=i+l,o=a>>>2,s.length<=o&&s.push(0),s[o]|=n[i]<<8*(p+e*(a%4));return{value:s,binLen:8*n.length+r}}function Xe(n,t,r){switch(t){case"UTF8":case"UTF16BE":case"UTF16LE":break;default:throw new Error("encoding must be UTF8, UTF16BE, or UTF16LE")}switch(n){case"HEX":return function(e,i,o){return function(a,s,l,p){let f,m,_,w;if(a.length%2!=0)throw new Error("String of HEX type must be in byte increments");let x=s||[0],R=(l=l||0)>>>3,E=p===-1?3:0;for(f=0;f<a.length;f+=2){if(m=parseInt(a.substr(f,2),16),isNaN(m))throw new Error("String of HEX type contains invalid characters");for(w=(f>>>1)+R,_=w>>>2;x.length<=_;)x.push(0);x[_]|=m<<8*(E+p*(w%4))}return{value:x,binLen:4*a.length+l}}(e,i,o,r)};case"TEXT":return function(e,i,o){return function(a,s,l,p,f){let m,_,w,x,R,E,U,C,K=0,A=l||[0],Y=(p=p||0)>>>3;if(s==="UTF8")for(U=f===-1?3:0,w=0;w<a.length;w+=1)for(m=a.charCodeAt(w),_=[],128>m?_.push(m):2048>m?(_.push(192|m>>>6),_.push(128|63&m)):55296>m||57344<=m?_.push(224|m>>>12,128|m>>>6&63,128|63&m):(w+=1,m=65536+((1023&m)<<10|1023&a.charCodeAt(w)),_.push(240|m>>>18,128|m>>>12&63,128|m>>>6&63,128|63&m)),x=0;x<_.length;x+=1){for(E=K+Y,R=E>>>2;A.length<=R;)A.push(0);A[R]|=_[x]<<8*(U+f*(E%4)),K+=1}else for(U=f===-1?2:0,C=s==="UTF16LE"&&f!==1||s!=="UTF16LE"&&f===1,w=0;w<a.length;w+=1){for(m=a.charCodeAt(w),C===!0&&(x=255&m,m=x<<8|m>>>8),E=K+Y,R=E>>>2;A.length<=R;)A.push(0);A[R]|=m<<8*(U+f*(E%4)),K+=2}return{value:A,binLen:8*K+p}}(e,t,i,o,r)};case"B64":return function(e,i,o){return function(a,s,l,p){let f,m,_,w,x,R,E,U=0,C=s||[0],K=(l=l||0)>>>3,A=p===-1?3:0,Y=a.indexOf("=");if(a.search(/^[a-zA-Z0-9=+/]+$/)===-1)throw new Error("Invalid character in base-64 string");if(a=a.replace(/=/g,""),Y!==-1&&Y<a.length)throw new Error("Invalid '=' found in base-64 string");for(m=0;m<a.length;m+=4){for(x=a.substr(m,4),w=0,_=0;_<x.length;_+=1)f=Hi.indexOf(x.charAt(_)),w|=f<<18-6*_;for(_=0;_<x.length-1;_+=1){for(E=U+K,R=E>>>2;C.length<=R;)C.push(0);C[R]|=(w>>>16-8*_&255)<<8*(A+p*(E%4)),U+=1}}return{value:C,binLen:8*U+l}}(e,i,o,r)};case"BYTES":return function(e,i,o){return function(a,s,l,p){let f,m,_,w,x=s||[0],R=(l=l||0)>>>3,E=p===-1?3:0;for(m=0;m<a.length;m+=1)f=a.charCodeAt(m),w=m+R,_=w>>>2,x.length<=_&&x.push(0),x[_]|=f<<8*(E+p*(w%4));return{value:x,binLen:8*a.length+l}}(e,i,o,r)};case"ARRAYBUFFER":try{new ArrayBuffer(0)}catch{throw new Error(Ui)}return function(e,i,o){return function(a,s,l,p){return Ai(new Uint8Array(a),s,l,p)}(e,i,o,r)};case"UINT8ARRAY":try{new Uint8Array(0)}catch{throw new Error(zi)}return function(e,i,o){return Ai(e,i,o,r)};default:throw new Error("format must be HEX, TEXT, B64, BYTES, ARRAYBUFFER, or UINT8ARRAY")}}function Ti(n,t,r,e){switch(n){case"HEX":return function(i){return function(o,a,s,l){let p="0123456789abcdef",f,m,_="",w=a/8,x=s===-1?3:0;for(f=0;f<w;f+=1)m=o[f>>>2]>>>8*(x+s*(f%4)),_+=p.charAt(m>>>4&15)+p.charAt(15&m);return l.outputUpper?_.toUpperCase():_}(i,t,r,e)};case"B64":return function(i){return function(o,a,s,l){let p,f,m,_,w,x="",R=a/8,E=s===-1?3:0;for(p=0;p<R;p+=3)for(_=p+1<R?o[p+1>>>2]:0,w=p+2<R?o[p+2>>>2]:0,m=(o[p>>>2]>>>8*(E+s*(p%4))&255)<<16|(_>>>8*(E+s*((p+1)%4))&255)<<8|w>>>8*(E+s*((p+2)%4))&255,f=0;f<4;f+=1)x+=8*p+6*f<=a?Hi.charAt(m>>>6*(3-f)&63):l.b64Pad;return x}(i,t,r,e)};case"BYTES":return function(i){return function(o,a,s){let l,p,f="",m=a/8,_=s===-1?3:0;for(l=0;l<m;l+=1)p=o[l>>>2]>>>8*(_+s*(l%4))&255,f+=String.fromCharCode(p);return f}(i,t,r)};case"ARRAYBUFFER":try{new ArrayBuffer(0)}catch{throw new Error(Ui)}return function(i){return function(o,a,s){let l,p=a/8,f=new ArrayBuffer(p),m=new Uint8Array(f),_=s===-1?3:0;for(l=0;l<p;l+=1)m[l]=o[l>>>2]>>>8*(_+s*(l%4))&255;return f}(i,t,r)};case"UINT8ARRAY":try{new Uint8Array(0)}catch{throw new Error(zi)}return function(i){return function(o,a,s){let l,p=a/8,f=s===-1?3:0,m=new Uint8Array(p);for(l=0;l<p;l+=1)m[l]=o[l>>>2]>>>8*(f+s*(l%4))&255;return m}(i,t,r)};default:throw new Error("format must be HEX, B64, BYTES, ARRAYBUFFER, or UINT8ARRAY")}}var et=4294967296,b=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],xe=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428],De=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],tt="Chosen SHA variant is not supported",$i="Cannot set numRounds with MAC";function Ct(n,t){let r,e,i=n.binLen>>>3,o=t.binLen>>>3,a=i<<3,s=4-i<<3;if(i%4!=0){for(r=0;r<o;r+=4)e=i+r>>>2,n.value[e]|=t.value[r>>>2]<<a,n.value.push(0),n.value[e+1]|=t.value[r>>>2]>>>s;return(n.value.length<<2)-4>=o+i&&n.value.pop(),{value:n.value,binLen:n.binLen+t.binLen}}return{value:n.value.concat(t.value),binLen:n.binLen+t.binLen}}function Ni(n){let t={outputUpper:!1,b64Pad:"=",outputLen:-1},r=n||{},e="Output length must be a multiple of 8";if(t.outputUpper=r.outputUpper||!1,r.b64Pad&&(t.b64Pad=r.b64Pad),r.outputLen){if(r.outputLen%8!=0)throw new Error(e);t.outputLen=r.outputLen}else if(r.shakeLen){if(r.shakeLen%8!=0)throw new Error(e);t.outputLen=r.shakeLen}if(typeof t.outputUpper!="boolean")throw new Error("Invalid outputUpper formatting option");if(typeof t.b64Pad!="string")throw new Error("Invalid b64Pad formatting option");return t}function Ne(n,t,r,e){let i=n+" must include a value and format";if(!t){if(!e)throw new Error(i);return e}if(t.value===void 0||!t.format)throw new Error(i);return Xe(t.format,t.encoding||"UTF8",r)(t.value)}var Ke=class{constructor(t,r,e){let i=e||{};if(this.t=r,this.i=i.encoding||"UTF8",this.numRounds=i.numRounds||1,isNaN(this.numRounds)||this.numRounds!==parseInt(this.numRounds,10)||1>this.numRounds)throw new Error("numRounds must a integer >= 1");this.o=t,this.h=[],this.u=0,this.l=!1,this.A=0,this.H=!1,this.S=[],this.p=[]}update(t){let r,e=0,i=this.m>>>5,o=this.C(t,this.h,this.u),a=o.binLen,s=o.value,l=a>>>5;for(r=0;r<l;r+=i)e+this.m<=a&&(this.U=this.v(s.slice(r,r+i),this.U),e+=this.m);return this.A+=e,this.h=s.slice(e>>>5),this.u=a%this.m,this.l=!0,this}getHash(t,r){let e,i,o=this.R,a=Ni(r);if(this.K){if(a.outputLen===-1)throw new Error("Output length must be specified in options");o=a.outputLen}let s=Ti(t,o,this.T,a);if(this.H&&this.g)return s(this.g(a));for(i=this.F(this.h.slice(),this.u,this.A,this.L(this.U),o),e=1;e<this.numRounds;e+=1)this.K&&o%32!=0&&(i[i.length-1]&=16777215>>>24-o%32),i=this.F(i,o,0,this.B(this.o),o);return s(i)}setHMACKey(t,r,e){if(!this.M)throw new Error("Variant does not support HMAC");if(this.l)throw new Error("Cannot set MAC key after calling update");let i=Xe(r,(e||{}).encoding||"UTF8",this.T);this.k(i(t))}k(t){let r=this.m>>>3,e=r/4-1,i;if(this.numRounds!==1)throw new Error($i);if(this.H)throw new Error("MAC key already set");for(r<t.binLen/8&&(t.value=this.F(t.value,t.binLen,0,this.B(this.o),this.R));t.value.length<=e;)t.value.push(0);for(i=0;i<=e;i+=1)this.S[i]=909522486^t.value[i],this.p[i]=1549556828^t.value[i];this.U=this.v(this.S,this.U),this.A=this.m,this.H=!0}getHMAC(t,r){let e=Ni(r);return Ti(t,this.R,this.T,e)(this.Y())}Y(){let t;if(!this.H)throw new Error("Cannot call getHMAC without first setting MAC key");let r=this.F(this.h.slice(),this.u,this.A,this.L(this.U),this.R);return t=this.v(this.p,this.B(this.o)),t=this.F(r,this.R,this.m,t,this.R),t}};function qe(n,t){return n<<t|n>>>32-t}function ge(n,t){return n>>>t|n<<32-t}function qi(n,t){return n>>>t}function Gi(n,t,r){return n^t^r}function Ki(n,t,r){return n&t^~n&r}function Xi(n,t,r){return n&t^n&r^t&r}function Mn(n){return ge(n,2)^ge(n,13)^ge(n,22)}function q(n,t){let r=(65535&n)+(65535&t);return(65535&(n>>>16)+(t>>>16)+(r>>>16))<<16|65535&r}function An(n,t,r,e){let i=(65535&n)+(65535&t)+(65535&r)+(65535&e);return(65535&(n>>>16)+(t>>>16)+(r>>>16)+(e>>>16)+(i>>>16))<<16|65535&i}function Je(n,t,r,e,i){let o=(65535&n)+(65535&t)+(65535&r)+(65535&e)+(65535&i);return(65535&(n>>>16)+(t>>>16)+(r>>>16)+(e>>>16)+(i>>>16)+(o>>>16))<<16|65535&o}function Tn(n){return ge(n,7)^ge(n,18)^qi(n,3)}function Nn(n){return ge(n,6)^ge(n,11)^ge(n,25)}function Gn(n){return[1732584193,4023233417,2562383102,271733878,3285377520]}function Yi(n,t){let r,e,i,o,a,s,l,p=[];for(r=t[0],e=t[1],i=t[2],o=t[3],a=t[4],l=0;l<80;l+=1)p[l]=l<16?n[l]:qe(p[l-3]^p[l-8]^p[l-14]^p[l-16],1),s=l<20?Je(qe(r,5),Ki(e,i,o),a,1518500249,p[l]):l<40?Je(qe(r,5),Gi(e,i,o),a,1859775393,p[l]):l<60?Je(qe(r,5),Xi(e,i,o),a,2400959708,p[l]):Je(qe(r,5),Gi(e,i,o),a,3395469782,p[l]),a=o,o=i,i=qe(e,30),e=r,r=s;return t[0]=q(r,t[0]),t[1]=q(e,t[1]),t[2]=q(i,t[2]),t[3]=q(o,t[3]),t[4]=q(a,t[4]),t}function Ln(n,t,r,e){let i,o=15+(t+65>>>9<<4),a=t+r;for(;n.length<=o;)n.push(0);for(n[t>>>5]|=128<<24-t%32,n[o]=4294967295&a,n[o-1]=a/et|0,i=0;i<n.length;i+=16)e=Yi(n.slice(i,i+16),e);return e}var Pn=class extends Ke{constructor(n,t,r){if(n!=="SHA-1")throw new Error(tt);super(n,t,r);let e=r||{};this.M=!0,this.g=this.Y,this.T=-1,this.C=Xe(this.t,this.i,this.T),this.v=Yi,this.L=function(i){return i.slice()},this.B=Gn,this.F=Ln,this.U=[1732584193,4023233417,2562383102,271733878,3285377520],this.m=512,this.R=160,this.K=!1,e.hmacKey&&this.k(Ne("hmacKey",e.hmacKey,this.T))}};function Li(n){let t;return t=n=="SHA-224"?xe.slice():De.slice(),t}function Pi(n,t){let r,e,i,o,a,s,l,p,f,m,_,w=[];for(r=t[0],e=t[1],i=t[2],o=t[3],a=t[4],s=t[5],l=t[6],p=t[7],_=0;_<64;_+=1)w[_]=_<16?n[_]:An(ge(x=w[_-2],17)^ge(x,19)^qi(x,10),w[_-7],Tn(w[_-15]),w[_-16]),f=Je(p,Nn(a),Ki(a,s,l),b[_],w[_]),m=q(Mn(r),Xi(r,e,i)),p=l,l=s,s=a,a=q(o,f),o=i,i=e,e=r,r=q(f,m);var x;return t[0]=q(r,t[0]),t[1]=q(e,t[1]),t[2]=q(i,t[2]),t[3]=q(o,t[3]),t[4]=q(a,t[4]),t[5]=q(s,t[5]),t[6]=q(l,t[6]),t[7]=q(p,t[7]),t}var Vn=class extends Ke{constructor(n,t,r){if(n!=="SHA-224"&&n!=="SHA-256")throw new Error(tt);super(n,t,r);let e=r||{};this.g=this.Y,this.M=!0,this.T=-1,this.C=Xe(this.t,this.i,this.T),this.v=Pi,this.L=function(i){return i.slice()},this.B=Li,this.F=function(i,o,a,s){return function(l,p,f,m,_){let w,x,R=15+(p+65>>>9<<4),E=p+f;for(;l.length<=R;)l.push(0);for(l[p>>>5]|=128<<24-p%32,l[R]=4294967295&E,l[R-1]=E/et|0,w=0;w<l.length;w+=16)m=Pi(l.slice(w,w+16),m);return x=_==="SHA-224"?[m[0],m[1],m[2],m[3],m[4],m[5],m[6]]:m,x}(i,o,a,s,n)},this.U=Li(n),this.m=512,this.R=n==="SHA-224"?224:256,this.K=!1,e.hmacKey&&this.k(Ne("hmacKey",e.hmacKey,this.T))}},u=class{constructor(t,r){this.N=t,this.I=r}};function Vi(n,t){let r;return t>32?(r=64-t,new u(n.I<<t|n.N>>>r,n.N<<t|n.I>>>r)):t!==0?(r=32-t,new u(n.N<<t|n.I>>>r,n.I<<t|n.N>>>r)):n}function ye(n,t){let r;return t<32?(r=32-t,new u(n.N>>>t|n.I<<r,n.I>>>t|n.N<<r)):(r=64-t,new u(n.I>>>t|n.N<<r,n.N>>>t|n.I<<r))}function Qi(n,t){return new u(n.N>>>t,n.I>>>t|n.N<<32-t)}function On(n,t,r){return new u(n.N&t.N^n.N&r.N^t.N&r.N,n.I&t.I^n.I&r.I^t.I&r.I)}function jn(n){let t=ye(n,28),r=ye(n,34),e=ye(n,39);return new u(t.N^r.N^e.N,t.I^r.I^e.I)}function ae(n,t){let r,e;r=(65535&n.I)+(65535&t.I),e=(n.I>>>16)+(t.I>>>16)+(r>>>16);let i=(65535&e)<<16|65535&r;return r=(65535&n.N)+(65535&t.N)+(e>>>16),e=(n.N>>>16)+(t.N>>>16)+(r>>>16),new u((65535&e)<<16|65535&r,i)}function Bn(n,t,r,e){let i,o;i=(65535&n.I)+(65535&t.I)+(65535&r.I)+(65535&e.I),o=(n.I>>>16)+(t.I>>>16)+(r.I>>>16)+(e.I>>>16)+(i>>>16);let a=(65535&o)<<16|65535&i;return i=(65535&n.N)+(65535&t.N)+(65535&r.N)+(65535&e.N)+(o>>>16),o=(n.N>>>16)+(t.N>>>16)+(r.N>>>16)+(e.N>>>16)+(i>>>16),new u((65535&o)<<16|65535&i,a)}function Hn(n,t,r,e,i){let o,a;o=(65535&n.I)+(65535&t.I)+(65535&r.I)+(65535&e.I)+(65535&i.I),a=(n.I>>>16)+(t.I>>>16)+(r.I>>>16)+(e.I>>>16)+(i.I>>>16)+(o>>>16);let s=(65535&a)<<16|65535&o;return o=(65535&n.N)+(65535&t.N)+(65535&r.N)+(65535&e.N)+(65535&i.N)+(a>>>16),a=(n.N>>>16)+(t.N>>>16)+(r.N>>>16)+(e.N>>>16)+(i.N>>>16)+(o>>>16),new u((65535&a)<<16|65535&o,s)}function Ze(n,t){return new u(n.N^t.N,n.I^t.I)}function Un(n){let t=ye(n,19),r=ye(n,61),e=Qi(n,6);return new u(t.N^r.N^e.N,t.I^r.I^e.I)}function zn(n){let t=ye(n,1),r=ye(n,8),e=Qi(n,7);return new u(t.N^r.N^e.N,t.I^r.I^e.I)}function $n(n){let t=ye(n,14),r=ye(n,18),e=ye(n,41);return new u(t.N^r.N^e.N,t.I^r.I^e.I)}var qn=[new u(b[0],3609767458),new u(b[1],602891725),new u(b[2],3964484399),new u(b[3],2173295548),new u(b[4],4081628472),new u(b[5],3053834265),new u(b[6],2937671579),new u(b[7],3664609560),new u(b[8],2734883394),new u(b[9],1164996542),new u(b[10],1323610764),new u(b[11],3590304994),new u(b[12],4068182383),new u(b[13],991336113),new u(b[14],633803317),new u(b[15],3479774868),new u(b[16],2666613458),new u(b[17],944711139),new u(b[18],2341262773),new u(b[19],2007800933),new u(b[20],1495990901),new u(b[21],1856431235),new u(b[22],3175218132),new u(b[23],2198950837),new u(b[24],3999719339),new u(b[25],766784016),new u(b[26],2566594879),new u(b[27],3203337956),new u(b[28],1034457026),new u(b[29],2466948901),new u(b[30],3758326383),new u(b[31],168717936),new u(b[32],1188179964),new u(b[33],1546045734),new u(b[34],1522805485),new u(b[35],2643833823),new u(b[36],2343527390),new u(b[37],1014477480),new u(b[38],1206759142),new u(b[39],344077627),new u(b[40],1290863460),new u(b[41],3158454273),new u(b[42],3505952657),new u(b[43],106217008),new u(b[44],3606008344),new u(b[45],1432725776),new u(b[46],1467031594),new u(b[47],851169720),new u(b[48],3100823752),new u(b[49],1363258195),new u(b[50],3750685593),new u(b[51],3785050280),new u(b[52],3318307427),new u(b[53],3812723403),new u(b[54],2003034995),new u(b[55],3602036899),new u(b[56],1575990012),new u(b[57],1125592928),new u(b[58],2716904306),new u(b[59],442776044),new u(b[60],593698344),new u(b[61],3733110249),new u(b[62],2999351573),new u(b[63],3815920427),new u(3391569614,3928383900),new u(3515267271,566280711),new u(3940187606,3454069534),new u(4118630271,4000239992),new u(116418474,1914138554),new u(174292421,2731055270),new u(289380356,3203993006),new u(460393269,320620315),new u(685471733,587496836),new u(852142971,1086792851),new u(1017036298,365543100),new u(1126000580,2618297676),new u(1288033470,3409855158),new u(1501505948,4234509866),new u(1607167915,987167468),new u(1816402316,1246189591)];function Oi(n){return n==="SHA-384"?[new u(3418070365,xe[0]),new u(1654270250,xe[1]),new u(2438529370,xe[2]),new u(355462360,xe[3]),new u(1731405415,xe[4]),new u(41048885895,xe[5]),new u(3675008525,xe[6]),new u(1203062813,xe[7])]:[new u(De[0],4089235720),new u(De[1],2227873595),new u(De[2],4271175723),new u(De[3],1595750129),new u(De[4],2917565137),new u(De[5],725511199),new u(De[6],4215389547),new u(De[7],327033209)]}function ji(n,t){let r,e,i,o,a,s,l,p,f,m,_,w,x=[];for(r=t[0],e=t[1],i=t[2],o=t[3],a=t[4],s=t[5],l=t[6],p=t[7],_=0;_<80;_+=1)_<16?(w=2*_,x[_]=new u(n[w],n[w+1])):x[_]=Bn(Un(x[_-2]),x[_-7],zn(x[_-15]),x[_-16]),f=Hn(p,$n(a),(E=s,U=l,new u((R=a).N&E.N^~R.N&U.N,R.I&E.I^~R.I&U.I)),qn[_],x[_]),m=ae(jn(r),On(r,e,i)),p=l,l=s,s=a,a=ae(o,f),o=i,i=e,e=r,r=ae(f,m);var R,E,U;return t[0]=ae(r,t[0]),t[1]=ae(e,t[1]),t[2]=ae(i,t[2]),t[3]=ae(o,t[3]),t[4]=ae(a,t[4]),t[5]=ae(s,t[5]),t[6]=ae(l,t[6]),t[7]=ae(p,t[7]),t}var Kn=class extends Ke{constructor(n,t,r){if(n!=="SHA-384"&&n!=="SHA-512")throw new Error(tt);super(n,t,r);let e=r||{};this.g=this.Y,this.M=!0,this.T=-1,this.C=Xe(this.t,this.i,this.T),this.v=ji,this.L=function(i){return i.slice()},this.B=Oi,this.F=function(i,o,a,s){return function(l,p,f,m,_){let w,x,R=31+(p+129>>>10<<5),E=p+f;for(;l.length<=R;)l.push(0);for(l[p>>>5]|=128<<24-p%32,l[R]=4294967295&E,l[R-1]=E/et|0,w=0;w<l.length;w+=32)m=ji(l.slice(w,w+32),m);return x=_==="SHA-384"?[m[0].N,m[0].I,m[1].N,m[1].I,m[2].N,m[2].I,m[3].N,m[3].I,m[4].N,m[4].I,m[5].N,m[5].I]:[m[0].N,m[0].I,m[1].N,m[1].I,m[2].N,m[2].I,m[3].N,m[3].I,m[4].N,m[4].I,m[5].N,m[5].I,m[6].N,m[6].I,m[7].N,m[7].I],x}(i,o,a,s,n)},this.U=Oi(n),this.m=1024,this.R=n==="SHA-384"?384:512,this.K=!1,e.hmacKey&&this.k(Ne("hmacKey",e.hmacKey,this.T))}},Xn=[new u(0,1),new u(0,32898),new u(2147483648,32906),new u(2147483648,2147516416),new u(0,32907),new u(0,2147483649),new u(2147483648,2147516545),new u(2147483648,32777),new u(0,138),new u(0,136),new u(0,2147516425),new u(0,2147483658),new u(0,2147516555),new u(2147483648,139),new u(2147483648,32905),new u(2147483648,32771),new u(2147483648,32770),new u(2147483648,128),new u(0,32778),new u(2147483648,2147483658),new u(2147483648,2147516545),new u(2147483648,32896),new u(0,2147483649),new u(2147483648,2147516424)],Yn=[[0,36,3,41,18],[1,44,10,45,2],[62,6,43,15,61],[28,55,25,21,56],[27,20,39,8,14]];function Ot(n){let t,r=[];for(t=0;t<5;t+=1)r[t]=[new u(0,0),new u(0,0),new u(0,0),new u(0,0),new u(0,0)];return r}function Qn(n){let t,r=[];for(t=0;t<5;t+=1)r[t]=n[t].slice();return r}function yt(n,t){let r,e,i,o,a=[],s=[];if(n!==null)for(e=0;e<n.length;e+=2)t[(e>>>1)%5][(e>>>1)/5|0]=Ze(t[(e>>>1)%5][(e>>>1)/5|0],new u(n[e+1],n[e]));for(r=0;r<24;r+=1){for(o=Ot(),e=0;e<5;e+=1)a[e]=(l=t[e][0],p=t[e][1],f=t[e][2],m=t[e][3],_=t[e][4],new u(l.N^p.N^f.N^m.N^_.N,l.I^p.I^f.I^m.I^_.I));for(e=0;e<5;e+=1)s[e]=Ze(a[(e+4)%5],Vi(a[(e+1)%5],1));for(e=0;e<5;e+=1)for(i=0;i<5;i+=1)t[e][i]=Ze(t[e][i],s[e]);for(e=0;e<5;e+=1)for(i=0;i<5;i+=1)o[i][(2*e+3*i)%5]=Vi(t[e][i],Yn[e][i]);for(e=0;e<5;e+=1)for(i=0;i<5;i+=1)t[e][i]=Ze(o[e][i],new u(~o[(e+1)%5][i].N&o[(e+2)%5][i].N,~o[(e+1)%5][i].I&o[(e+2)%5][i].I));t[0][0]=Ze(t[0][0],Xn[r])}var l,p,f,m,_;return t}function Wi(n){let t,r,e=0,i=[0,0],o=[4294967295&n,n/et&2097151];for(t=6;t>=0;t--)r=o[t>>2]>>>8*t&255,r===0&&e===0||(i[e+1>>2]|=r<<8*(e+1),e+=1);return e=e!==0?e:1,i[0]|=e,{value:e+1>4?i:[i[0]],binLen:8+8*e}}function Vt(n){return Ct(Wi(n.binLen),n)}function Bi(n,t){let r,e=Wi(t);e=Ct(e,n);let i=t>>>2,o=(i-e.value.length%i)%i;for(r=0;r<o;r++)e.value.push(0);return e.value}var Wn=class extends Ke{constructor(n,t,r){let e=6,i=0;super(n,t,r);let o=r||{};if(this.numRounds!==1){if(o.kmacKey||o.hmacKey)throw new Error($i);if(this.o==="CSHAKE128"||this.o==="CSHAKE256")throw new Error("Cannot set numRounds for CSHAKE variants")}switch(this.T=1,this.C=Xe(this.t,this.i,this.T),this.v=yt,this.L=Qn,this.B=Ot,this.U=Ot(),this.K=!1,n){case"SHA3-224":this.m=i=1152,this.R=224,this.M=!0,this.g=this.Y;break;case"SHA3-256":this.m=i=1088,this.R=256,this.M=!0,this.g=this.Y;break;case"SHA3-384":this.m=i=832,this.R=384,this.M=!0,this.g=this.Y;break;case"SHA3-512":this.m=i=576,this.R=512,this.M=!0,this.g=this.Y;break;case"SHAKE128":e=31,this.m=i=1344,this.R=-1,this.K=!0,this.M=!1,this.g=null;break;case"SHAKE256":e=31,this.m=i=1088,this.R=-1,this.K=!0,this.M=!1,this.g=null;break;case"KMAC128":e=4,this.m=i=1344,this.X(r),this.R=-1,this.K=!0,this.M=!1,this.g=this._;break;case"KMAC256":e=4,this.m=i=1088,this.X(r),this.R=-1,this.K=!0,this.M=!1,this.g=this._;break;case"CSHAKE128":this.m=i=1344,e=this.O(r),this.R=-1,this.K=!0,this.M=!1,this.g=null;break;case"CSHAKE256":this.m=i=1088,e=this.O(r),this.R=-1,this.K=!0,this.M=!1,this.g=null;break;default:throw new Error(tt)}this.F=function(a,s,l,p,f){return function(m,_,w,x,R,E,U){let C,K,A=0,Y=[],rt=R>>>5,Dn=_>>>5;for(C=0;C<Dn&&_>=R;C+=rt)x=yt(m.slice(C,C+rt),x),_-=R;for(m=m.slice(C),_%=R;m.length<rt;)m.push(0);for(C=_>>>3,m[C>>2]^=E<<C%4*8,m[rt-1]^=2147483648,x=yt(m,x);32*Y.length<U&&(K=x[A%5][A/5|0],Y.push(K.I),!(32*Y.length>=U));)Y.push(K.N),A+=1,64*A%R==0&&(yt(null,x),A=0);return Y}(a,s,0,p,i,e,f)},o.hmacKey&&this.k(Ne("hmacKey",o.hmacKey,this.T))}O(n,t){let r=function(i){let o=i||{};return{funcName:Ne("funcName",o.funcName,1,{value:[],binLen:0}),customization:Ne("Customization",o.customization,1,{value:[],binLen:0})}}(n||{});t&&(r.funcName=t);let e=Ct(Vt(r.funcName),Vt(r.customization));if(r.customization.binLen!==0||r.funcName.binLen!==0){let i=Bi(e,this.m>>>3);for(let o=0;o<i.length;o+=this.m>>>5)this.U=this.v(i.slice(o,o+(this.m>>>5)),this.U),this.A+=this.m;return 4}return 31}X(n){let t=function(e){let i=e||{};return{kmacKey:Ne("kmacKey",i.kmacKey,1),funcName:{value:[1128353099],binLen:32},customization:Ne("Customization",i.customization,1,{value:[],binLen:0})}}(n||{});this.O(n,t.funcName);let r=Bi(Vt(t.kmacKey),this.m>>>3);for(let e=0;e<r.length;e+=this.m>>>5)this.U=this.v(r.slice(e,e+(this.m>>>5)),this.U),this.A+=this.m;this.H=!0}_(n){let t=Ct({value:this.h.slice(),binLen:this.u},function(r){let e,i,o=0,a=[0,0],s=[4294967295&r,r/et&2097151];for(e=6;e>=0;e--)i=s[e>>2]>>>8*e&255,i===0&&o===0||(a[o>>2]|=i<<8*o,o+=1);return o=o!==0?o:1,a[o>>2]|=o<<8*o,{value:o+1>4?a:[a[0]],binLen:8+8*o}}(n.outputLen));return this.F(t.value,t.binLen,this.A,this.L(this.U),n.outputLen)}},wt=class{constructor(t,r,e){if(t=="SHA-1")this.P=new Pn(t,r,e);else if(t=="SHA-224"||t=="SHA-256")this.P=new Vn(t,r,e);else if(t=="SHA-384"||t=="SHA-512")this.P=new Kn(t,r,e);else{if(t!="SHA3-224"&&t!="SHA3-256"&&t!="SHA3-384"&&t!="SHA3-512"&&t!="SHAKE128"&&t!="SHAKE256"&&t!="CSHAKE128"&&t!="CSHAKE256"&&t!="KMAC128"&&t!="KMAC256")throw new Error(tt);this.P=new Wn(t,r,e)}}update(t){return this.P.update(t),this}getHash(t,r){return this.P.getHash(t,r)}setHMACKey(t,r,e){this.P.setHMACKey(t,r,e)}getHMAC(t,r){return this.P.getHMAC(t,r)}};function Zn(n,t){n&1&&G(0,"div",2)}var Jn=new Oe("MAT_PROGRESS_BAR_DEFAULT_OPTIONS");var bt=(()=>{let t=class t{constructor(e,i,o,a,s){this._elementRef=e,this._ngZone=i,this._changeDetectorRef=o,this._animationMode=a,this._isNoopAnimation=!1,this._defaultColor="primary",this._value=0,this._bufferValue=0,this.animationEnd=new Q,this._mode="determinate",this._transitionendHandler=l=>{this.animationEnd.observers.length===0||!l.target||!l.target.classList.contains("mdc-linear-progress__primary-bar")||(this.mode==="determinate"||this.mode==="buffer")&&this._ngZone.run(()=>this.animationEnd.next({value:this.value}))},this._isNoopAnimation=a==="NoopAnimations",s&&(s.color&&(this.color=this._defaultColor=s.color),this.mode=s.mode||this.mode)}get color(){return this._color||this._defaultColor}set color(e){this._color=e}get value(){return this._value}set value(e){this._value=Zi(e||0),this._changeDetectorRef.markForCheck()}get bufferValue(){return this._bufferValue||0}set bufferValue(e){this._bufferValue=Zi(e||0),this._changeDetectorRef.markForCheck()}get mode(){return this._mode}set mode(e){this._mode=e,this._changeDetectorRef.markForCheck()}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{this._elementRef.nativeElement.addEventListener("transitionend",this._transitionendHandler)})}ngOnDestroy(){this._elementRef.nativeElement.removeEventListener("transitionend",this._transitionendHandler)}_getPrimaryBarTransform(){return`scaleX(${this._isIndeterminate()?1:this.value/100})`}_getBufferBarFlexBasis(){return`${this.mode==="buffer"?this.bufferValue:100}%`}_isIndeterminate(){return this.mode==="indeterminate"||this.mode==="query"}};t.\u0275fac=function(i){return new(i||t)(y(le),y(Ge),y(dt),y(oi,8),y(Jn,8))},t.\u0275cmp=P({type:t,selectors:[["mat-progress-bar"]],hostAttrs:["role","progressbar","aria-valuemin","0","aria-valuemax","100","tabindex","-1",1,"mat-mdc-progress-bar","mdc-linear-progress"],hostVars:10,hostBindings:function(i,o){i&2&&(si("aria-valuenow",o._isIndeterminate()?null:o.value)("mode",o.mode),li("mat-"+o.color),Be("_mat-animation-noopable",o._isNoopAnimation)("mdc-linear-progress--animation-ready",!o._isNoopAnimation)("mdc-linear-progress--indeterminate",o._isIndeterminate()))},inputs:{color:"color",value:[2,"value","value",Gt],bufferValue:[2,"bufferValue","bufferValue",Gt],mode:"mode"},outputs:{animationEnd:"animationEnd"},exportAs:["matProgressBar"],standalone:!0,features:[we,j],decls:7,vars:5,consts:[["aria-hidden","true",1,"mdc-linear-progress__buffer"],[1,"mdc-linear-progress__buffer-bar"],[1,"mdc-linear-progress__buffer-dots"],["aria-hidden","true",1,"mdc-linear-progress__bar","mdc-linear-progress__primary-bar"],[1,"mdc-linear-progress__bar-inner"],["aria-hidden","true",1,"mdc-linear-progress__bar","mdc-linear-progress__secondary-bar"]],template:function(i,o){i&1&&(c(0,"div",0),G(1,"div",1),I(2,Zn,1,0,"div",2),d(),c(3,"div",3),G(4,"span",4),d(),c(5,"div",5),G(6,"span",4),d()),i&2&&(g(),Qe("flex-basis",o._getBufferBarFlexBasis()),g(),F(o.mode==="buffer"?2:-1),g(),Qe("transform",o._getPrimaryBarTransform()))},styles:[`@keyframes mdc-linear-progress-primary-indeterminate-translate{0%{transform:translateX(0)}20%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(0)}59.15%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(var(--mdc-linear-progress-primary-half))}100%{transform:translateX(var(--mdc-linear-progress-primary-full))}}@keyframes mdc-linear-progress-primary-indeterminate-scale{0%{transform:scaleX(0.08)}36.65%{animation-timing-function:cubic-bezier(0.334731, 0.12482, 0.785844, 1);transform:scaleX(0.08)}69.15%{animation-timing-function:cubic-bezier(0.06, 0.11, 0.6, 1);transform:scaleX(0.661479)}100%{transform:scaleX(0.08)}}@keyframes mdc-linear-progress-secondary-indeterminate-translate{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:translateX(0)}25%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:translateX(var(--mdc-linear-progress-secondary-quarter))}48.35%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:translateX(var(--mdc-linear-progress-secondary-half))}100%{transform:translateX(var(--mdc-linear-progress-secondary-full))}}@keyframes mdc-linear-progress-secondary-indeterminate-scale{0%{animation-timing-function:cubic-bezier(0.205028, 0.057051, 0.57661, 0.453971);transform:scaleX(0.08)}19.15%{animation-timing-function:cubic-bezier(0.152313, 0.196432, 0.648374, 1.004315);transform:scaleX(0.457104)}44.15%{animation-timing-function:cubic-bezier(0.257759, -0.003163, 0.211762, 1.38179);transform:scaleX(0.72796)}100%{transform:scaleX(0.08)}}@keyframes mdc-linear-progress-primary-indeterminate-translate-reverse{0%{transform:translateX(0)}20%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(0)}59.15%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(var(--mdc-linear-progress-primary-half-neg))}100%{transform:translateX(var(--mdc-linear-progress-primary-full-neg))}}@keyframes mdc-linear-progress-secondary-indeterminate-translate-reverse{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:translateX(0)}25%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:translateX(var(--mdc-linear-progress-secondary-quarter-neg))}48.35%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:translateX(var(--mdc-linear-progress-secondary-half-neg))}100%{transform:translateX(var(--mdc-linear-progress-secondary-full-neg))}}@keyframes mdc-linear-progress-buffering-reverse{from{transform:translateX(-10px)}}.mdc-linear-progress{position:relative;width:100%;transform:translateZ(0);outline:1px solid rgba(0,0,0,0);overflow-x:hidden;transition:opacity 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}@media screen and (forced-colors: active){.mdc-linear-progress{outline-color:CanvasText}}.mdc-linear-progress__bar{position:absolute;top:0;bottom:0;margin:auto 0;width:100%;animation:none;transform-origin:top left;transition:transform 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-linear-progress__bar-inner{display:inline-block;position:absolute;width:100%;animation:none;border-top-style:solid}.mdc-linear-progress__buffer{display:flex;position:absolute;top:0;bottom:0;margin:auto 0;width:100%;overflow:hidden}.mdc-linear-progress__buffer-dots{background-repeat:repeat-x;flex:auto;transform:rotate(180deg);-webkit-mask-image:url("data:image/svg+xml,%3Csvg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' enable-background='new 0 0 5 2' xml:space='preserve' viewBox='0 0 5 2' preserveAspectRatio='xMinYMin slice'%3E%3Ccircle cx='1' cy='1' r='1'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml,%3Csvg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' enable-background='new 0 0 5 2' xml:space='preserve' viewBox='0 0 5 2' preserveAspectRatio='xMinYMin slice'%3E%3Ccircle cx='1' cy='1' r='1'/%3E%3C/svg%3E");animation:mdc-linear-progress-buffering 250ms infinite linear}.mdc-linear-progress__buffer-bar{flex:0 1 100%;transition:flex-basis 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-linear-progress__primary-bar{transform:scaleX(0)}.mdc-linear-progress__secondary-bar{display:none}.mdc-linear-progress--indeterminate .mdc-linear-progress__bar{transition:none}.mdc-linear-progress--indeterminate .mdc-linear-progress__primary-bar{left:-145.166611%}.mdc-linear-progress--indeterminate .mdc-linear-progress__secondary-bar{left:-54.888891%;display:block}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar{animation:mdc-linear-progress-primary-indeterminate-translate 2s infinite linear}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar>.mdc-linear-progress__bar-inner{animation:mdc-linear-progress-primary-indeterminate-scale 2s infinite linear}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar{animation:mdc-linear-progress-secondary-indeterminate-translate 2s infinite linear}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar>.mdc-linear-progress__bar-inner{animation:mdc-linear-progress-secondary-indeterminate-scale 2s infinite linear}[dir=rtl] .mdc-linear-progress:not([dir=ltr]) .mdc-linear-progress__bar,.mdc-linear-progress[dir=rtl]:not([dir=ltr]) .mdc-linear-progress__bar{right:0;-webkit-transform-origin:center right;transform-origin:center right}[dir=rtl] .mdc-linear-progress:not([dir=ltr]).mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar,.mdc-linear-progress[dir=rtl]:not([dir=ltr]).mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar{animation-name:mdc-linear-progress-primary-indeterminate-translate-reverse}[dir=rtl] .mdc-linear-progress:not([dir=ltr]).mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar,.mdc-linear-progress[dir=rtl]:not([dir=ltr]).mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar{animation-name:mdc-linear-progress-secondary-indeterminate-translate-reverse}[dir=rtl] .mdc-linear-progress:not([dir=ltr]) .mdc-linear-progress__buffer-dots,.mdc-linear-progress[dir=rtl]:not([dir=ltr]) .mdc-linear-progress__buffer-dots{animation:mdc-linear-progress-buffering-reverse 250ms infinite linear;transform:rotate(0)}[dir=rtl] .mdc-linear-progress:not([dir=ltr]).mdc-linear-progress--indeterminate .mdc-linear-progress__primary-bar,.mdc-linear-progress[dir=rtl]:not([dir=ltr]).mdc-linear-progress--indeterminate .mdc-linear-progress__primary-bar{right:-145.166611%;left:auto}[dir=rtl] .mdc-linear-progress:not([dir=ltr]).mdc-linear-progress--indeterminate .mdc-linear-progress__secondary-bar,.mdc-linear-progress[dir=rtl]:not([dir=ltr]).mdc-linear-progress--indeterminate .mdc-linear-progress__secondary-bar{right:-54.888891%;left:auto}.mdc-linear-progress--closed{opacity:0}.mdc-linear-progress--closed-animation-off .mdc-linear-progress__buffer-dots{animation:none}.mdc-linear-progress--closed-animation-off.mdc-linear-progress--indeterminate .mdc-linear-progress__bar,.mdc-linear-progress--closed-animation-off.mdc-linear-progress--indeterminate .mdc-linear-progress__bar .mdc-linear-progress__bar-inner{animation:none}@keyframes mdc-linear-progress-buffering{from{transform:rotate(180deg) translateX(calc(var(--mdc-linear-progress-track-height) * -2.5))}}.mdc-linear-progress__bar-inner{border-color:var(--mdc-linear-progress-active-indicator-color)}.mdc-linear-progress__buffer-dots{background-color:var(--mdc-linear-progress-track-color)}@media(forced-colors: active){.mdc-linear-progress__buffer-dots{background-color:ButtonBorder}}@media all and (-ms-high-contrast: none),(-ms-high-contrast: active){.mdc-linear-progress__buffer-dots{background-color:rgba(0,0,0,0);background-image:url("data:image/svg+xml,%3Csvg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' enable-background='new 0 0 5 2' xml:space='preserve' viewBox='0 0 5 2' preserveAspectRatio='none slice'%3E%3Ccircle cx='1' cy='1' r='1' fill='rgba(244, 67, 54, 0.25)'/%3E%3C/svg%3E")}}.mdc-linear-progress__buffer-bar{background-color:var(--mdc-linear-progress-track-color)}.mdc-linear-progress{height:max(var(--mdc-linear-progress-track-height), var(--mdc-linear-progress-active-indicator-height))}@media all and (-ms-high-contrast: none),(-ms-high-contrast: active){.mdc-linear-progress{height:4px}}.mdc-linear-progress__bar{height:var(--mdc-linear-progress-active-indicator-height)}.mdc-linear-progress__bar-inner{border-top-width:var(--mdc-linear-progress-active-indicator-height)}.mdc-linear-progress__buffer{height:var(--mdc-linear-progress-track-height)}@media all and (-ms-high-contrast: none),(-ms-high-contrast: active){.mdc-linear-progress__buffer-dots{background-size:10px var(--mdc-linear-progress-track-height)}}.mdc-linear-progress__buffer{border-radius:var(--mdc-linear-progress-track-shape)}.mat-mdc-progress-bar{display:block;text-align:start;--mdc-linear-progress-primary-half: 83.67142%;--mdc-linear-progress-primary-full: 200.611057%;--mdc-linear-progress-secondary-quarter: 37.651913%;--mdc-linear-progress-secondary-half: 84.386165%;--mdc-linear-progress-secondary-full: 160.277782%;--mdc-linear-progress-primary-half-neg: -83.67142%;--mdc-linear-progress-primary-full-neg: -200.611057%;--mdc-linear-progress-secondary-quarter-neg: -37.651913%;--mdc-linear-progress-secondary-half-neg: -84.386165%;--mdc-linear-progress-secondary-full-neg: -160.277782%}.mat-mdc-progress-bar[mode=query]{transform:scaleX(-1)}.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__buffer-dots,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__primary-bar,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__secondary-bar,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__bar-inner.mdc-linear-progress__bar-inner{animation:none}.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__primary-bar,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__buffer-bar{transition:transform 1ms}`],encapsulation:2,changeDetection:0});let n=t;return n})();function Zi(n,t=0,r=100){return Math.max(t,Math.min(r,n))}var eo=(n,t)=>t.name;function to(n,t){if(n&1&&G(0,"mat-progress-bar",3),n&2){let r=t.$implicit,e=v();D("value",e.fileProgressMap[r.name].progress/e.fileProgressMap[r.name].total*100)("mode","determinate")}}var tn=(()=>{let t=class t{constructor(e){this.web=e,this.fileProgressMap={},this.fileList=[],this.fileType="",this.fileCategory="",this.analysisGroupId=0,this.fileUploaded=new Q,this.allowFileType=["csv","tsv","txt"]}uploadData(e){return Mt(this,null,function*(){let i=e.target.files;if(i){this.fileList=[];for(let o=0;o<i.length;o++)this.fileList.push(i[o]),this.fileProgressMap[i[o].name]={progress:0,total:i[o].size};for(let o=0;o<i.length;o++)yield this.uploadFile(i[o])}})}getFileExntension(e){let i=e.name.split(".");return i.length>1?i[i.length-1]:""}uploadFile(e){return Mt(this,null,function*(){let o=e.size,a=new wt("SHA-256","ARRAYBUFFER");if(this.fileType=this.getFileExntension(e),this.allowFileType.indexOf(this.fileType)!==-1)if(1048576>o){let s=yield e.arrayBuffer();a.update(s);let l=a.getHash("HEX"),p=yield this.web.uploadDataChunkComplete("",l,e,e.name).toPromise();this.fileProgressMap[e.name].progress=o,p?.completed_at&&this.web.bindUploadedFile(this.analysisGroupId,this.fileType,this.fileCategory,e.name,p?.id).subscribe(f=>{this.fileUploaded.emit(f)})}else{let s="",l=0;for(;o>l;){let p=l+1048576;p>=o&&(p=o);let f=yield e.slice(l,p).arrayBuffer();a.update(f);let m=new File([f],e.name,{type:e.type});console.log(m.size);let _=`bytes ${l}-${p-1}/${o}`;console.log(_);let w=yield this.web.uploadDataChunk(s,m,e.name,_).toPromise();w&&(s=w.url,l=w.offset,this.fileProgressMap[e.name].progress=l)}if(s!==""){let p=a.getHash("HEX"),f=yield this.web.uploadDataChunkComplete(s,p).toPromise();f?.completed_at&&this.web.bindUploadedFile(this.analysisGroupId,this.fileType,this.fileCategory,e.name,f?.id).subscribe(m=>{this.fileProgressMap[e.name].progress=o,this.fileUploaded.emit(m)})}}})}};t.\u0275fac=function(i){return new(i||t)(y(ie))},t.\u0275cmp=P({type:t,selectors:[["app-upload-file"]],inputs:{fileType:"fileType",fileCategory:"fileCategory",analysisGroupId:"analysisGroupId"},outputs:{fileUploaded:"fileUploaded"},standalone:!0,features:[j],decls:8,vars:0,consts:[["file",""],["mat-icon-button","","type","button",3,"click"],["type","file","hidden","",3,"change"],[3,"value","mode"]],template:function(i,o){if(i&1){let a=z();c(0,"form")(1,"button",1),k("click",function(){T(a);let l=ct(5);return N(l.click())}),c(2,"mat-icon"),h(3,"upload"),d()(),c(4,"input",2,0),k("change",function(l){return T(a),N(o.uploadData(l))}),d()(),V(6,to,1,2,"mat-progress-bar",3,eo)}i&2&&(g(6),O(o.fileList))},dependencies:[ze,Ue,bt,te,ee,J]});let n=t;return n})();var no=[[["caption"]],[["colgroup"],["col"]],"*"],oo=["caption","colgroup, col","*"];function ro(n,t){n&1&&ke(0,2)}function ao(n,t){n&1&&(c(0,"thead",0),X(1,1),d(),c(2,"tbody",0),X(3,2)(4,3),d(),c(5,"tfoot",0),X(6,4),d())}function so(n,t){n&1&&X(0,1)(1,2)(2,3)(3,4)}var se=new Oe("CDK_TABLE");var Rt=(()=>{let t=class t{constructor(e){this.template=e}};t.\u0275fac=function(i){return new(i||t)(y(Ce))},t.\u0275dir=B({type:t,selectors:[["","cdkCellDef",""]],standalone:!0});let n=t;return n})(),Et=(()=>{let t=class t{constructor(e){this.template=e}};t.\u0275fac=function(i){return new(i||t)(y(Ce))},t.\u0275dir=B({type:t,selectors:[["","cdkHeaderCellDef",""]],standalone:!0});let n=t;return n})(),rn=(()=>{let t=class t{constructor(e){this.template=e}};t.\u0275fac=function(i){return new(i||t)(y(Ce))},t.\u0275dir=B({type:t,selectors:[["","cdkFooterCellDef",""]],standalone:!0});let n=t;return n})(),Ye=(()=>{let t=class t{get name(){return this._name}set name(e){this._setNameInput(e)}get sticky(){return this._sticky}set sticky(e){e!==this._sticky&&(this._sticky=e,this._hasStickyChanged=!0)}get stickyEnd(){return this._stickyEnd}set stickyEnd(e){e!==this._stickyEnd&&(this._stickyEnd=e,this._hasStickyChanged=!0)}constructor(e){this._table=e,this._hasStickyChanged=!1,this._sticky=!1,this._stickyEnd=!1}hasStickyChanged(){let e=this._hasStickyChanged;return this.resetStickyChanged(),e}resetStickyChanged(){this._hasStickyChanged=!1}_updateColumnCssClassName(){this._columnCssClassName=[`cdk-column-${this.cssClassFriendlyName}`]}_setNameInput(e){e&&(this._name=e,this.cssClassFriendlyName=e.replace(/[^a-z0-9_-]/gi,"-"),this._updateColumnCssClassName())}};t.\u0275fac=function(i){return new(i||t)(y(se,8))},t.\u0275dir=B({type:t,selectors:[["","cdkColumnDef",""]],contentQueries:function(i,o,a){if(i&1&&(be(a,Rt,5),be(a,Et,5),be(a,rn,5)),i&2){let s;oe(s=re())&&(o.cell=s.first),oe(s=re())&&(o.headerCell=s.first),oe(s=re())&&(o.footerCell=s.first)}},inputs:{name:[0,"cdkColumnDef","name"],sticky:[2,"sticky","sticky",ve],stickyEnd:[2,"stickyEnd","stickyEnd",ve]},standalone:!0,features:[Z([{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:t}]),we]});let n=t;return n})(),xt=class{constructor(t,r){r.nativeElement.classList.add(...t._columnCssClassName)}},an=(()=>{let t=class t extends xt{constructor(e,i){super(e,i)}};t.\u0275fac=function(i){return new(i||t)(y(Ye),y(le))},t.\u0275dir=B({type:t,selectors:[["cdk-header-cell"],["th","cdk-header-cell",""]],hostAttrs:["role","columnheader",1,"cdk-header-cell"],standalone:!0,features:[$]});let n=t;return n})();var sn=(()=>{let t=class t extends xt{constructor(e,i){super(e,i);let o=e._table?._getCellRole();o&&i.nativeElement.setAttribute("role",o)}};t.\u0275fac=function(i){return new(i||t)(y(Ye),y(le))},t.\u0275dir=B({type:t,selectors:[["cdk-cell"],["td","cdk-cell",""]],hostAttrs:[1,"cdk-cell"],standalone:!0,features:[$]});let n=t;return n})(),Dt=class{constructor(){this.tasks=[],this.endTasks=[]}},St=new Oe("_COALESCED_STYLE_SCHEDULER"),Bt=(()=>{let t=class t{constructor(e){this._currentSchedule=null,this._ngZone=Se(Ge)}schedule(e){this._createScheduleIfNeeded(),this._currentSchedule.tasks.push(e)}scheduleEnd(e){this._createScheduleIfNeeded(),this._currentSchedule.endTasks.push(e)}_createScheduleIfNeeded(){this._currentSchedule||(this._currentSchedule=new Dt,this._ngZone.runOutsideAngular(()=>queueMicrotask(()=>{for(;this._currentSchedule.tasks.length||this._currentSchedule.endTasks.length;){let e=this._currentSchedule;this._currentSchedule=new Dt;for(let i of e.tasks)i();for(let i of e.endTasks)i()}this._currentSchedule=null})))}};t.\u0275fac=function(i){return new(i||t)(ti(Ge))},t.\u0275prov=ei({token:t,factory:t.\u0275fac});let n=t;return n})();var Ht=(()=>{let t=class t{constructor(e,i){this.template=e,this._differs=i}ngOnChanges(e){if(!this._columnsDiffer){let i=e.columns&&e.columns.currentValue||[];this._columnsDiffer=this._differs.find(i).create(),this._columnsDiffer.diff(i)}}getColumnsDiff(){return this._columnsDiffer.diff(this.columns)}extractCellTemplate(e){return this instanceof ot?e.headerCell.template:this instanceof Ut?e.footerCell.template:e.cell.template}};t.\u0275fac=function(i){return new(i||t)(y(Ce),y(He))},t.\u0275dir=B({type:t,features:[st]});let n=t;return n})(),ot=(()=>{let t=class t extends Ht{get sticky(){return this._sticky}set sticky(e){e!==this._sticky&&(this._sticky=e,this._hasStickyChanged=!0)}constructor(e,i,o){super(e,i),this._table=o,this._hasStickyChanged=!1,this._sticky=!1}ngOnChanges(e){super.ngOnChanges(e)}hasStickyChanged(){let e=this._hasStickyChanged;return this.resetStickyChanged(),e}resetStickyChanged(){this._hasStickyChanged=!1}};t.\u0275fac=function(i){return new(i||t)(y(Ce),y(He),y(se,8))},t.\u0275dir=B({type:t,selectors:[["","cdkHeaderRowDef",""]],inputs:{columns:[0,"cdkHeaderRowDef","columns"],sticky:[2,"cdkHeaderRowDefSticky","sticky",ve]},standalone:!0,features:[we,$,st]});let n=t;return n})(),Ut=(()=>{let t=class t extends Ht{get sticky(){return this._sticky}set sticky(e){e!==this._sticky&&(this._sticky=e,this._hasStickyChanged=!0)}constructor(e,i,o){super(e,i),this._table=o,this._hasStickyChanged=!1,this._sticky=!1}ngOnChanges(e){super.ngOnChanges(e)}hasStickyChanged(){let e=this._hasStickyChanged;return this.resetStickyChanged(),e}resetStickyChanged(){this._hasStickyChanged=!1}};t.\u0275fac=function(i){return new(i||t)(y(Ce),y(He),y(se,8))},t.\u0275dir=B({type:t,selectors:[["","cdkFooterRowDef",""]],inputs:{columns:[0,"cdkFooterRowDef","columns"],sticky:[2,"cdkFooterRowDefSticky","sticky",ve]},standalone:!0,features:[we,$,st]});let n=t;return n})(),Ft=(()=>{let t=class t extends Ht{constructor(e,i,o){super(e,i),this._table=o}};t.\u0275fac=function(i){return new(i||t)(y(Ce),y(He),y(se,8))},t.\u0275dir=B({type:t,selectors:[["","cdkRowDef",""]],inputs:{columns:[0,"cdkRowDefColumns","columns"],when:[0,"cdkRowDefWhen","when"]},standalone:!0,features:[$]});let n=t;return n})(),Ve=(()=>{let t=class t{constructor(e){this._viewContainer=e,t.mostRecentCellOutlet=this}ngOnDestroy(){t.mostRecentCellOutlet===this&&(t.mostRecentCellOutlet=null)}};t.mostRecentCellOutlet=null,t.\u0275fac=function(i){return new(i||t)(y(je))},t.\u0275dir=B({type:t,selectors:[["","cdkCellOutlet",""]],standalone:!0});let n=t;return n})(),zt=(()=>{let t=class t{};t.\u0275fac=function(i){return new(i||t)},t.\u0275cmp=P({type:t,selectors:[["cdk-header-row"],["tr","cdk-header-row",""]],hostAttrs:["role","row",1,"cdk-header-row"],standalone:!0,features:[j],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(i,o){i&1&&X(0,0)},dependencies:[Ve],encapsulation:2});let n=t;return n})();var $t=(()=>{let t=class t{};t.\u0275fac=function(i){return new(i||t)},t.\u0275cmp=P({type:t,selectors:[["cdk-row"],["tr","cdk-row",""]],hostAttrs:["role","row",1,"cdk-row"],standalone:!0,features:[j],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(i,o){i&1&&X(0,0)},dependencies:[Ve],encapsulation:2});let n=t;return n})(),ln=(()=>{let t=class t{constructor(e){this.templateRef=e,this._contentClassName="cdk-no-data-row"}};t.\u0275fac=function(i){return new(i||t)(y(Ce))},t.\u0275dir=B({type:t,selectors:[["ng-template","cdkNoDataRow",""]],standalone:!0});let n=t;return n})(),nn=["top","bottom","left","right"],jt=class{constructor(t,r,e,i,o=!0,a=!0,s){this._isNativeHtmlTable=t,this._stickCellCss=r,this.direction=e,this._coalescedStyleScheduler=i,this._isBrowser=o,this._needsPositionStickyOnElement=a,this._positionListener=s,this._cachedCellWidths=[],this._borderCellCss={top:`${r}-border-elem-top`,bottom:`${r}-border-elem-bottom`,left:`${r}-border-elem-left`,right:`${r}-border-elem-right`}}clearStickyPositioning(t,r){let e=[];for(let i of t)if(i.nodeType===i.ELEMENT_NODE){e.push(i);for(let o=0;o<i.children.length;o++)e.push(i.children[o])}this._coalescedStyleScheduler.schedule(()=>{for(let i of e)this._removeStickyStyle(i,r)})}updateStickyColumns(t,r,e,i=!0){if(!t.length||!this._isBrowser||!(r.some(o=>o)||e.some(o=>o))){this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:[]}),this._positionListener.stickyEndColumnsUpdated({sizes:[]}));return}this._coalescedStyleScheduler.schedule(()=>{let o=t[0],a=o.children.length,s=this._getCellWidths(o,i),l=this._getStickyStartColumnPositions(s,r),p=this._getStickyEndColumnPositions(s,e),f=r.lastIndexOf(!0),m=e.indexOf(!0),_=this.direction==="rtl",w=_?"right":"left",x=_?"left":"right";for(let R of t)for(let E=0;E<a;E++){let U=R.children[E];r[E]&&this._addStickyStyle(U,w,l[E],E===f),e[E]&&this._addStickyStyle(U,x,p[E],E===m)}this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:f===-1?[]:s.slice(0,f+1).map((R,E)=>r[E]?R:null)}),this._positionListener.stickyEndColumnsUpdated({sizes:m===-1?[]:s.slice(m).map((R,E)=>e[E+m]?R:null).reverse()}))})}stickRows(t,r,e){this._isBrowser&&this._coalescedStyleScheduler.schedule(()=>{let i=e==="bottom"?t.slice().reverse():t,o=e==="bottom"?r.slice().reverse():r,a=[],s=[],l=[];for(let f=0,m=0;f<i.length;f++){if(!o[f])continue;a[f]=m;let _=i[f];l[f]=this._isNativeHtmlTable?Array.from(_.children):[_];let w=_.getBoundingClientRect().height;m+=w,s[f]=w}let p=o.lastIndexOf(!0);for(let f=0;f<i.length;f++){if(!o[f])continue;let m=a[f],_=f===p;for(let w of l[f])this._addStickyStyle(w,e,m,_)}e==="top"?this._positionListener?.stickyHeaderRowsUpdated({sizes:s,offsets:a,elements:l}):this._positionListener?.stickyFooterRowsUpdated({sizes:s,offsets:a,elements:l})})}updateStickyFooterContainer(t,r){this._isNativeHtmlTable&&this._coalescedStyleScheduler.schedule(()=>{let e=t.querySelector("tfoot");e&&(r.some(i=>!i)?this._removeStickyStyle(e,["bottom"]):this._addStickyStyle(e,"bottom",0,!1))})}_removeStickyStyle(t,r){for(let i of r)t.style[i]="",t.classList.remove(this._borderCellCss[i]);nn.some(i=>r.indexOf(i)===-1&&t.style[i])?t.style.zIndex=this._getCalculatedZIndex(t):(t.style.zIndex="",this._needsPositionStickyOnElement&&(t.style.position=""),t.classList.remove(this._stickCellCss))}_addStickyStyle(t,r,e,i){t.classList.add(this._stickCellCss),i&&t.classList.add(this._borderCellCss[r]),t.style[r]=`${e}px`,t.style.zIndex=this._getCalculatedZIndex(t),this._needsPositionStickyOnElement&&(t.style.cssText+="position: -webkit-sticky; position: sticky; ")}_getCalculatedZIndex(t){let r={top:100,bottom:10,left:1,right:1},e=0;for(let i of nn)t.style[i]&&(e+=r[i]);return e?`${e}`:""}_getCellWidths(t,r=!0){if(!r&&this._cachedCellWidths.length)return this._cachedCellWidths;let e=[],i=t.children;for(let o=0;o<i.length;o++){let a=i[o];e.push(a.getBoundingClientRect().width)}return this._cachedCellWidths=e,e}_getStickyStartColumnPositions(t,r){let e=[],i=0;for(let o=0;o<t.length;o++)r[o]&&(e[o]=i,i+=t[o]);return e}_getStickyEndColumnPositions(t,r){let e=[],i=0;for(let o=t.length;o>0;o--)r[o]&&(e[o]=i,i+=t[o]);return e}};var kt=new Oe("CDK_SPL");var qt=(()=>{let t=class t{constructor(e,i){this.viewContainer=e,this.elementRef=i;let o=Se(se);o._rowOutlet=this,o._outletAssigned()}};t.\u0275fac=function(i){return new(i||t)(y(je),y(le))},t.\u0275dir=B({type:t,selectors:[["","rowOutlet",""]],standalone:!0});let n=t;return n})(),Kt=(()=>{let t=class t{constructor(e,i){this.viewContainer=e,this.elementRef=i;let o=Se(se);o._headerRowOutlet=this,o._outletAssigned()}};t.\u0275fac=function(i){return new(i||t)(y(je),y(le))},t.\u0275dir=B({type:t,selectors:[["","headerRowOutlet",""]],standalone:!0});let n=t;return n})(),Xt=(()=>{let t=class t{constructor(e,i){this.viewContainer=e,this.elementRef=i;let o=Se(se);o._footerRowOutlet=this,o._outletAssigned()}};t.\u0275fac=function(i){return new(i||t)(y(je),y(le))},t.\u0275dir=B({type:t,selectors:[["","footerRowOutlet",""]],standalone:!0});let n=t;return n})(),Yt=(()=>{let t=class t{constructor(e,i){this.viewContainer=e,this.elementRef=i;let o=Se(se);o._noDataRowOutlet=this,o._outletAssigned()}};t.\u0275fac=function(i){return new(i||t)(y(je),y(le))},t.\u0275dir=B({type:t,selectors:[["","noDataRowOutlet",""]],standalone:!0});let n=t;return n})();var Qt=(()=>{let t=class t{_getCellRole(){if(this._cellRoleInternal===void 0){let e=this._elementRef.nativeElement.getAttribute("role"),i=e==="grid"||e==="treegrid"?"gridcell":"cell";this._cellRoleInternal=this._isNativeHtmlTable&&i==="cell"?null:i}return this._cellRoleInternal}get trackBy(){return this._trackByFn}set trackBy(e){this._trackByFn=e}get dataSource(){return this._dataSource}set dataSource(e){this._dataSource!==e&&this._switchDataSource(e)}get multiTemplateDataRows(){return this._multiTemplateDataRows}set multiTemplateDataRows(e){this._multiTemplateDataRows=e,this._rowOutlet&&this._rowOutlet.viewContainer.length&&(this._forceRenderDataRows(),this.updateStickyColumnStyles())}get fixedLayout(){return this._fixedLayout}set fixedLayout(e){this._fixedLayout=e,this._forceRecalculateCellWidths=!0,this._stickyColumnStylesNeedReset=!0}constructor(e,i,o,a,s,l,p,f,m,_,w,x){this._differs=e,this._changeDetectorRef=i,this._elementRef=o,this._dir=s,this._platform=p,this._viewRepeater=f,this._coalescedStyleScheduler=m,this._viewportRuler=_,this._stickyPositioningListener=w,this._onDestroy=new Wt,this._columnDefsByName=new Map,this._customColumnDefs=new Set,this._customRowDefs=new Set,this._customHeaderRowDefs=new Set,this._customFooterRowDefs=new Set,this._headerRowDefChanged=!0,this._footerRowDefChanged=!0,this._stickyColumnStylesNeedReset=!0,this._forceRecalculateCellWidths=!0,this._cachedRenderRowsMap=new Map,this.stickyCssClass="cdk-table-sticky",this.needsPositionStickyOnElement=!0,this._isShowingNoDataRow=!1,this._hasAllOutlets=!1,this._hasInitialized=!1,this._cellRoleInternal=void 0,this._multiTemplateDataRows=!1,this._fixedLayout=!1,this.contentChanged=new Q,this.viewChange=new Zt({start:0,end:Number.MAX_VALUE}),this._injector=Se(ni),a||o.nativeElement.setAttribute("role","table"),this._document=l,this._isServer=!p.isBrowser,this._isNativeHtmlTable=o.nativeElement.nodeName==="TABLE"}ngOnInit(){this._setupStickyStyler(),this._dataDiffer=this._differs.find([]).create((e,i)=>this.trackBy?this.trackBy(i.dataIndex,i.data):i),this._viewportRuler.change().pipe(at(this._onDestroy)).subscribe(()=>{this._forceRecalculateCellWidths=!0})}ngAfterContentInit(){this._hasInitialized=!0}ngAfterContentChecked(){this._canRender()&&this._render()}ngOnDestroy(){[this._rowOutlet?.viewContainer,this._headerRowOutlet?.viewContainer,this._footerRowOutlet?.viewContainer,this._cachedRenderRowsMap,this._customColumnDefs,this._customRowDefs,this._customHeaderRowDefs,this._customFooterRowDefs,this._columnDefsByName].forEach(e=>{e?.clear()}),this._headerRowDefs=[],this._footerRowDefs=[],this._defaultRowDef=null,this._onDestroy.next(),this._onDestroy.complete(),mt(this.dataSource)&&this.dataSource.disconnect(this)}renderRows(){this._renderRows=this._getAllRenderRows();let e=this._dataDiffer.diff(this._renderRows);if(!e){this._updateNoDataRow(),this.contentChanged.next();return}let i=this._rowOutlet.viewContainer;this._viewRepeater.applyChanges(e,i,(o,a,s)=>this._getEmbeddedViewArgs(o.item,s),o=>o.item.data,o=>{o.operation===hi.INSERTED&&o.context&&this._renderCellTemplateForItem(o.record.item.rowDef,o.context)}),this._updateRowIndexContext(),e.forEachIdentityChange(o=>{let a=i.get(o.currentIndex);a.context.$implicit=o.item.data}),this._updateNoDataRow(),ai(()=>{this.updateStickyColumnStyles()},{injector:this._injector}),this.contentChanged.next()}addColumnDef(e){this._customColumnDefs.add(e)}removeColumnDef(e){this._customColumnDefs.delete(e)}addRowDef(e){this._customRowDefs.add(e)}removeRowDef(e){this._customRowDefs.delete(e)}addHeaderRowDef(e){this._customHeaderRowDefs.add(e),this._headerRowDefChanged=!0}removeHeaderRowDef(e){this._customHeaderRowDefs.delete(e),this._headerRowDefChanged=!0}addFooterRowDef(e){this._customFooterRowDefs.add(e),this._footerRowDefChanged=!0}removeFooterRowDef(e){this._customFooterRowDefs.delete(e),this._footerRowDefChanged=!0}setNoDataRow(e){this._customNoDataRow=e}updateStickyHeaderRowStyles(){let e=this._getRenderedRows(this._headerRowOutlet);if(this._isNativeHtmlTable){let o=on(this._headerRowOutlet,"thead");o&&(o.style.display=e.length?"":"none")}let i=this._headerRowDefs.map(o=>o.sticky);this._stickyStyler.clearStickyPositioning(e,["top"]),this._stickyStyler.stickRows(e,i,"top"),this._headerRowDefs.forEach(o=>o.resetStickyChanged())}updateStickyFooterRowStyles(){let e=this._getRenderedRows(this._footerRowOutlet);if(this._isNativeHtmlTable){let o=on(this._footerRowOutlet,"tfoot");o&&(o.style.display=e.length?"":"none")}let i=this._footerRowDefs.map(o=>o.sticky);this._stickyStyler.clearStickyPositioning(e,["bottom"]),this._stickyStyler.stickRows(e,i,"bottom"),this._stickyStyler.updateStickyFooterContainer(this._elementRef.nativeElement,i),this._footerRowDefs.forEach(o=>o.resetStickyChanged())}updateStickyColumnStyles(){let e=this._getRenderedRows(this._headerRowOutlet),i=this._getRenderedRows(this._rowOutlet),o=this._getRenderedRows(this._footerRowOutlet);(this._isNativeHtmlTable&&!this._fixedLayout||this._stickyColumnStylesNeedReset)&&(this._stickyStyler.clearStickyPositioning([...e,...i,...o],["left","right"]),this._stickyColumnStylesNeedReset=!1),e.forEach((a,s)=>{this._addStickyColumnStyles([a],this._headerRowDefs[s])}),this._rowDefs.forEach(a=>{let s=[];for(let l=0;l<i.length;l++)this._renderRows[l].rowDef===a&&s.push(i[l]);this._addStickyColumnStyles(s,a)}),o.forEach((a,s)=>{this._addStickyColumnStyles([a],this._footerRowDefs[s])}),Array.from(this._columnDefsByName.values()).forEach(a=>a.resetStickyChanged())}_outletAssigned(){!this._hasAllOutlets&&this._rowOutlet&&this._headerRowOutlet&&this._footerRowOutlet&&this._noDataRowOutlet&&(this._hasAllOutlets=!0,this._canRender()&&this._render())}_canRender(){return this._hasAllOutlets&&this._hasInitialized}_render(){this._cacheRowDefs(),this._cacheColumnDefs(),!this._headerRowDefs.length&&!this._footerRowDefs.length&&this._rowDefs.length;let i=this._renderUpdatedColumns()||this._headerRowDefChanged||this._footerRowDefChanged;this._stickyColumnStylesNeedReset=this._stickyColumnStylesNeedReset||i,this._forceRecalculateCellWidths=i,this._headerRowDefChanged&&(this._forceRenderHeaderRows(),this._headerRowDefChanged=!1),this._footerRowDefChanged&&(this._forceRenderFooterRows(),this._footerRowDefChanged=!1),this.dataSource&&this._rowDefs.length>0&&!this._renderChangeSubscription?this._observeRenderChanges():this._stickyColumnStylesNeedReset&&this.updateStickyColumnStyles(),this._checkStickyStates()}_getAllRenderRows(){let e=[],i=this._cachedRenderRowsMap;this._cachedRenderRowsMap=new Map;for(let o=0;o<this._data.length;o++){let a=this._data[o],s=this._getRenderRowsForData(a,o,i.get(a));this._cachedRenderRowsMap.has(a)||this._cachedRenderRowsMap.set(a,new WeakMap);for(let l=0;l<s.length;l++){let p=s[l],f=this._cachedRenderRowsMap.get(p.data);f.has(p.rowDef)?f.get(p.rowDef).push(p):f.set(p.rowDef,[p]),e.push(p)}}return e}_getRenderRowsForData(e,i,o){return this._getRowDefs(e,i).map(s=>{let l=o&&o.has(s)?o.get(s):[];if(l.length){let p=l.shift();return p.dataIndex=i,p}else return{data:e,rowDef:s,dataIndex:i}})}_cacheColumnDefs(){this._columnDefsByName.clear(),vt(this._getOwnDefs(this._contentColumnDefs),this._customColumnDefs).forEach(i=>{this._columnDefsByName.has(i.name),this._columnDefsByName.set(i.name,i)})}_cacheRowDefs(){this._headerRowDefs=vt(this._getOwnDefs(this._contentHeaderRowDefs),this._customHeaderRowDefs),this._footerRowDefs=vt(this._getOwnDefs(this._contentFooterRowDefs),this._customFooterRowDefs),this._rowDefs=vt(this._getOwnDefs(this._contentRowDefs),this._customRowDefs);let e=this._rowDefs.filter(i=>!i.when);!this.multiTemplateDataRows&&e.length>1,this._defaultRowDef=e[0]}_renderUpdatedColumns(){let e=(s,l)=>s||!!l.getColumnsDiff(),i=this._rowDefs.reduce(e,!1);i&&this._forceRenderDataRows();let o=this._headerRowDefs.reduce(e,!1);o&&this._forceRenderHeaderRows();let a=this._footerRowDefs.reduce(e,!1);return a&&this._forceRenderFooterRows(),i||o||a}_switchDataSource(e){this._data=[],mt(this.dataSource)&&this.dataSource.disconnect(this),this._renderChangeSubscription&&(this._renderChangeSubscription.unsubscribe(),this._renderChangeSubscription=null),e||(this._dataDiffer&&this._dataDiffer.diff([]),this._rowOutlet&&this._rowOutlet.viewContainer.clear()),this._dataSource=e}_observeRenderChanges(){if(!this.dataSource)return;let e;mt(this.dataSource)?e=this.dataSource.connect(this):Jt(this.dataSource)?e=this.dataSource:Array.isArray(this.dataSource)&&(e=At(this.dataSource)),this._renderChangeSubscription=e.pipe(at(this._onDestroy)).subscribe(i=>{this._data=i||[],this.renderRows()})}_forceRenderHeaderRows(){this._headerRowOutlet.viewContainer.length>0&&this._headerRowOutlet.viewContainer.clear(),this._headerRowDefs.forEach((e,i)=>this._renderRow(this._headerRowOutlet,e,i)),this.updateStickyHeaderRowStyles()}_forceRenderFooterRows(){this._footerRowOutlet.viewContainer.length>0&&this._footerRowOutlet.viewContainer.clear(),this._footerRowDefs.forEach((e,i)=>this._renderRow(this._footerRowOutlet,e,i)),this.updateStickyFooterRowStyles()}_addStickyColumnStyles(e,i){let o=Array.from(i.columns||[]).map(l=>{let p=this._columnDefsByName.get(l);return p}),a=o.map(l=>l.sticky),s=o.map(l=>l.stickyEnd);this._stickyStyler.updateStickyColumns(e,a,s,!this._fixedLayout||this._forceRecalculateCellWidths)}_getRenderedRows(e){let i=[];for(let o=0;o<e.viewContainer.length;o++){let a=e.viewContainer.get(o);i.push(a.rootNodes[0])}return i}_getRowDefs(e,i){if(this._rowDefs.length==1)return[this._rowDefs[0]];let o=[];if(this.multiTemplateDataRows)o=this._rowDefs.filter(a=>!a.when||a.when(i,e));else{let a=this._rowDefs.find(s=>s.when&&s.when(i,e))||this._defaultRowDef;a&&o.push(a)}return o.length,o}_getEmbeddedViewArgs(e,i){let o=e.rowDef,a={$implicit:e.data};return{templateRef:o.template,context:a,index:i}}_renderRow(e,i,o,a={}){let s=e.viewContainer.createEmbeddedView(i.template,a,o);return this._renderCellTemplateForItem(i,a),s}_renderCellTemplateForItem(e,i){for(let o of this._getCellTemplates(e))Ve.mostRecentCellOutlet&&Ve.mostRecentCellOutlet._viewContainer.createEmbeddedView(o,i);this._changeDetectorRef.markForCheck()}_updateRowIndexContext(){let e=this._rowOutlet.viewContainer;for(let i=0,o=e.length;i<o;i++){let s=e.get(i).context;s.count=o,s.first=i===0,s.last=i===o-1,s.even=i%2===0,s.odd=!s.even,this.multiTemplateDataRows?(s.dataIndex=this._renderRows[i].dataIndex,s.renderIndex=i):s.index=this._renderRows[i].dataIndex}}_getCellTemplates(e){return!e||!e.columns?[]:Array.from(e.columns,i=>{let o=this._columnDefsByName.get(i);return e.extractCellTemplate(o)})}_forceRenderDataRows(){this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear(),this.renderRows()}_checkStickyStates(){let e=(i,o)=>i||o.hasStickyChanged();this._headerRowDefs.reduce(e,!1)&&this.updateStickyHeaderRowStyles(),this._footerRowDefs.reduce(e,!1)&&this.updateStickyFooterRowStyles(),Array.from(this._columnDefsByName.values()).reduce(e,!1)&&(this._stickyColumnStylesNeedReset=!0,this.updateStickyColumnStyles())}_setupStickyStyler(){let e=this._dir?this._dir.value:"ltr";this._stickyStyler=new jt(this._isNativeHtmlTable,this.stickyCssClass,e,this._coalescedStyleScheduler,this._platform.isBrowser,this.needsPositionStickyOnElement,this._stickyPositioningListener),(this._dir?this._dir.change:At()).pipe(at(this._onDestroy)).subscribe(i=>{this._stickyStyler.direction=i,this.updateStickyColumnStyles()})}_getOwnDefs(e){return e.filter(i=>!i._table||i._table===this)}_updateNoDataRow(){let e=this._customNoDataRow||this._noDataRow;if(!e)return;let i=this._rowOutlet.viewContainer.length===0;if(i===this._isShowingNoDataRow)return;let o=this._noDataRowOutlet.viewContainer;if(i){let a=o.createEmbeddedView(e.templateRef),s=a.rootNodes[0];a.rootNodes.length===1&&s?.nodeType===this._document.ELEMENT_NODE&&(s.setAttribute("role","row"),s.classList.add(e._contentClassName))}else o.clear();this._isShowingNoDataRow=i,this._changeDetectorRef.markForCheck()}};t.\u0275fac=function(i){return new(i||t)(y(He),y(dt),y(le),ii("role"),y(pi,8),y(di),y(ui),y(We),y(St),y(fi),y(kt,12),y(Ge,8))},t.\u0275cmp=P({type:t,selectors:[["cdk-table"],["table","cdk-table",""]],contentQueries:function(i,o,a){if(i&1&&(be(a,ln,5),be(a,Ye,5),be(a,Ft,5),be(a,ot,5),be(a,Ut,5)),i&2){let s;oe(s=re())&&(o._noDataRow=s.first),oe(s=re())&&(o._contentColumnDefs=s),oe(s=re())&&(o._contentRowDefs=s),oe(s=re())&&(o._contentHeaderRowDefs=s),oe(s=re())&&(o._contentFooterRowDefs=s)}},hostAttrs:[1,"cdk-table"],hostVars:2,hostBindings:function(i,o){i&2&&Be("cdk-table-fixed-layout",o.fixedLayout)},inputs:{trackBy:"trackBy",dataSource:"dataSource",multiTemplateDataRows:[2,"multiTemplateDataRows","multiTemplateDataRows",ve],fixedLayout:[2,"fixedLayout","fixedLayout",ve]},outputs:{contentChanged:"contentChanged"},exportAs:["cdkTable"],standalone:!0,features:[Z([{provide:se,useExisting:t},{provide:We,useClass:ut},{provide:St,useClass:Bt},{provide:kt,useValue:null}]),we,j],ngContentSelectors:oo,decls:5,vars:2,consts:[["role","rowgroup"],["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(i,o){i&1&&(lt(no),ke(0),ke(1,1),I(2,ro,1,0)(3,ao,7,0)(4,so,4,0)),i&2&&(g(2),F(o._isServer?2:-1),g(),F(o._isNativeHtmlTable?3:4))},dependencies:[Kt,qt,Yt,Xt],styles:[".cdk-table-fixed-layout{table-layout:fixed}"],encapsulation:2});let n=t;return n})();function vt(n,t){return n.concat(Array.from(t))}function on(n,t){let r=t.toUpperCase(),e=n.viewContainer.element.nativeElement;for(;e;){let i=e.nodeType===1?e.nodeName:null;if(i===r)return e;if(i==="TABLE")break;e=e.parentNode}return null}var lo=[[["caption"]],[["colgroup"],["col"]],"*"],co=["caption","colgroup, col","*"];function mo(n,t){n&1&&ke(0,2)}function uo(n,t){n&1&&(c(0,"thead",0),X(1,1),d(),c(2,"tbody",2),X(3,3)(4,4),d(),c(5,"tfoot",0),X(6,5),d())}function po(n,t){n&1&&X(0,1)(1,3)(2,4)(3,5)}var cn=(()=>{let t=class t extends Qt{constructor(){super(...arguments),this.stickyCssClass="mat-mdc-table-sticky",this.needsPositionStickyOnElement=!1}};t.\u0275fac=(()=>{let e;return function(o){return(e||(e=ne(t)))(o||t)}})(),t.\u0275cmp=P({type:t,selectors:[["mat-table"],["table","mat-table",""]],hostAttrs:[1,"mat-mdc-table","mdc-data-table__table"],hostVars:2,hostBindings:function(i,o){i&2&&Be("mdc-table-fixed-layout",o.fixedLayout)},exportAs:["matTable"],standalone:!0,features:[Z([{provide:Qt,useExisting:t},{provide:se,useExisting:t},{provide:St,useClass:Bt},{provide:We,useClass:ut},{provide:kt,useValue:null}]),$,j],ngContentSelectors:co,decls:5,vars:2,consts:[["role","rowgroup"],["headerRowOutlet",""],["role","rowgroup",1,"mdc-data-table__content"],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(i,o){i&1&&(lt(lo),ke(0),ke(1,1),I(2,mo,1,0)(3,uo,7,0)(4,po,4,0)),i&2&&(g(2),F(o._isServer?2:-1),g(),F(o._isNativeHtmlTable?3:4))},dependencies:[Kt,qt,Yt,Xt],styles:[".mat-mdc-table-sticky{position:sticky !important}.mdc-data-table{-webkit-overflow-scrolling:touch;display:inline-flex;flex-direction:column;box-sizing:border-box;position:relative}.mdc-data-table__table-container{-webkit-overflow-scrolling:touch;overflow-x:auto;width:100%}.mdc-data-table__table{min-width:100%;border:0;white-space:nowrap;border-spacing:0;table-layout:fixed}.mdc-data-table__cell{box-sizing:border-box;overflow:hidden;text-align:left;text-overflow:ellipsis}[dir=rtl] .mdc-data-table__cell,.mdc-data-table__cell[dir=rtl]{text-align:right}.mdc-data-table__cell--numeric{text-align:right}[dir=rtl] .mdc-data-table__cell--numeric,.mdc-data-table__cell--numeric[dir=rtl]{text-align:left}.mdc-data-table__header-cell{box-sizing:border-box;text-overflow:ellipsis;overflow:hidden;outline:none;text-align:left}[dir=rtl] .mdc-data-table__header-cell,.mdc-data-table__header-cell[dir=rtl]{text-align:right}.mdc-data-table__header-cell--numeric{text-align:right}[dir=rtl] .mdc-data-table__header-cell--numeric,.mdc-data-table__header-cell--numeric[dir=rtl]{text-align:left}.mdc-data-table__header-cell-wrapper{align-items:center;display:inline-flex;vertical-align:middle}.mdc-data-table__cell,.mdc-data-table__header-cell{padding:0 16px 0 16px}.mdc-data-table__header-cell--checkbox,.mdc-data-table__cell--checkbox{padding-left:4px;padding-right:0}[dir=rtl] .mdc-data-table__header-cell--checkbox,[dir=rtl] .mdc-data-table__cell--checkbox,.mdc-data-table__header-cell--checkbox[dir=rtl],.mdc-data-table__cell--checkbox[dir=rtl]{padding-left:0;padding-right:4px}mat-table{display:block}mat-header-row{min-height:56px}mat-row,mat-footer-row{min-height:48px}mat-row,mat-header-row,mat-footer-row{display:flex;border-width:0;border-bottom-width:1px;border-style:solid;align-items:center;box-sizing:border-box}mat-cell:first-of-type,mat-header-cell:first-of-type,mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] mat-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}mat-cell:last-of-type,mat-header-cell:last-of-type,mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] mat-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}mat-cell,mat-header-cell,mat-footer-cell{flex:1;display:flex;align-items:center;overflow:hidden;word-wrap:break-word;min-height:inherit}.mat-mdc-table{table-layout:auto;white-space:normal;background-color:var(--mat-table-background-color)}.mat-mdc-header-row{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;height:var(--mat-table-header-container-height, 56px);color:var(--mat-table-header-headline-color, rgba(0, 0, 0, 0.87));font-family:var(--mat-table-header-headline-font, Roboto, sans-serif);line-height:var(--mat-table-header-headline-line-height);font-size:var(--mat-table-header-headline-size, 14px);font-weight:var(--mat-table-header-headline-weight, 500)}.mat-mdc-row{height:var(--mat-table-row-item-container-height, 52px);color:var(--mat-table-row-item-label-text-color, rgba(0, 0, 0, 0.87))}.mat-mdc-row,.mdc-data-table__content{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-table-row-item-label-text-font, Roboto, sans-serif);line-height:var(--mat-table-row-item-label-text-line-height);font-size:var(--mat-table-row-item-label-text-size, 14px);font-weight:var(--mat-table-row-item-label-text-weight)}.mat-mdc-footer-row{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;height:var(--mat-table-footer-container-height, 52px);color:var(--mat-table-row-item-label-text-color, rgba(0, 0, 0, 0.87));font-family:var(--mat-table-footer-supporting-text-font, Roboto, sans-serif);line-height:var(--mat-table-footer-supporting-text-line-height);font-size:var(--mat-table-footer-supporting-text-size, 14px);font-weight:var(--mat-table-footer-supporting-text-weight);letter-spacing:var(--mat-table-footer-supporting-text-tracking)}.mat-mdc-header-cell{border-bottom-color:var(--mat-table-row-item-outline-color, rgba(0, 0, 0, 0.12));border-bottom-width:var(--mat-table-row-item-outline-width, 1px);border-bottom-style:solid;letter-spacing:var(--mat-table-header-headline-tracking);font-weight:inherit;line-height:inherit}.mat-mdc-cell{border-bottom-color:var(--mat-table-row-item-outline-color, rgba(0, 0, 0, 0.12));border-bottom-width:var(--mat-table-row-item-outline-width, 1px);border-bottom-style:solid;letter-spacing:var(--mat-table-row-item-label-text-tracking);line-height:inherit}.mdc-data-table__row:last-child .mat-mdc-cell{border-bottom:none}.mat-mdc-footer-cell{letter-spacing:var(--mat-table-row-item-label-text-tracking)}mat-row.mat-mdc-row,mat-header-row.mat-mdc-header-row,mat-footer-row.mat-mdc-footer-row{border-bottom:none}.mat-mdc-table tbody,.mat-mdc-table tfoot,.mat-mdc-table thead,.mat-mdc-cell,.mat-mdc-footer-cell,.mat-mdc-header-row,.mat-mdc-row,.mat-mdc-footer-row,.mat-mdc-table .mat-mdc-header-cell{background:inherit}.mat-mdc-table mat-header-row.mat-mdc-header-row,.mat-mdc-table mat-row.mat-mdc-row,.mat-mdc-table mat-footer-row.mat-mdc-footer-cell{height:unset}mat-header-cell.mat-mdc-header-cell,mat-cell.mat-mdc-cell,mat-footer-cell.mat-mdc-footer-cell{align-self:stretch}"],encapsulation:2});let n=t;return n})(),dn=(()=>{let t=class t extends Rt{};t.\u0275fac=(()=>{let e;return function(o){return(e||(e=ne(t)))(o||t)}})(),t.\u0275dir=B({type:t,selectors:[["","matCellDef",""]],standalone:!0,features:[Z([{provide:Rt,useExisting:t}]),$]});let n=t;return n})(),mn=(()=>{let t=class t extends Et{};t.\u0275fac=(()=>{let e;return function(o){return(e||(e=ne(t)))(o||t)}})(),t.\u0275dir=B({type:t,selectors:[["","matHeaderCellDef",""]],standalone:!0,features:[Z([{provide:Et,useExisting:t}]),$]});let n=t;return n})();var un=(()=>{let t=class t extends Ye{get name(){return this._name}set name(e){this._setNameInput(e)}_updateColumnCssClassName(){super._updateColumnCssClassName(),this._columnCssClassName.push(`mat-column-${this.cssClassFriendlyName}`)}};t.\u0275fac=(()=>{let e;return function(o){return(e||(e=ne(t)))(o||t)}})(),t.\u0275dir=B({type:t,selectors:[["","matColumnDef",""]],inputs:{name:[0,"matColumnDef","name"]},standalone:!0,features:[Z([{provide:Ye,useExisting:t},{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:t}]),$]});let n=t;return n})(),pn=(()=>{let t=class t extends an{};t.\u0275fac=(()=>{let e;return function(o){return(e||(e=ne(t)))(o||t)}})(),t.\u0275dir=B({type:t,selectors:[["mat-header-cell"],["th","mat-header-cell",""]],hostAttrs:["role","columnheader",1,"mat-mdc-header-cell","mdc-data-table__header-cell"],standalone:!0,features:[$]});let n=t;return n})();var hn=(()=>{let t=class t extends sn{};t.\u0275fac=(()=>{let e;return function(o){return(e||(e=ne(t)))(o||t)}})(),t.\u0275dir=B({type:t,selectors:[["mat-cell"],["td","mat-cell",""]],hostAttrs:[1,"mat-mdc-cell","mdc-data-table__cell"],standalone:!0,features:[$]});let n=t;return n})();var fn=(()=>{let t=class t extends ot{};t.\u0275fac=(()=>{let e;return function(o){return(e||(e=ne(t)))(o||t)}})(),t.\u0275dir=B({type:t,selectors:[["","matHeaderRowDef",""]],inputs:{columns:[0,"matHeaderRowDef","columns"],sticky:[2,"matHeaderRowDefSticky","sticky",ve]},standalone:!0,features:[Z([{provide:ot,useExisting:t}]),we,$]});let n=t;return n})();var _n=(()=>{let t=class t extends Ft{};t.\u0275fac=(()=>{let e;return function(o){return(e||(e=ne(t)))(o||t)}})(),t.\u0275dir=B({type:t,selectors:[["","matRowDef",""]],inputs:{columns:[0,"matRowDefColumns","columns"],when:[0,"matRowDefWhen","when"]},standalone:!0,features:[Z([{provide:Ft,useExisting:t}]),$]});let n=t;return n})(),gn=(()=>{let t=class t extends zt{};t.\u0275fac=(()=>{let e;return function(o){return(e||(e=ne(t)))(o||t)}})(),t.\u0275cmp=P({type:t,selectors:[["mat-header-row"],["tr","mat-header-row",""]],hostAttrs:["role","row",1,"mat-mdc-header-row","mdc-data-table__header-row"],exportAs:["matHeaderRow"],standalone:!0,features:[Z([{provide:zt,useExisting:t}]),$,j],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(i,o){i&1&&X(0,0)},dependencies:[Ve],encapsulation:2});let n=t;return n})();var yn=(()=>{let t=class t extends $t{};t.\u0275fac=(()=>{let e;return function(o){return(e||(e=ne(t)))(o||t)}})(),t.\u0275cmp=P({type:t,selectors:[["mat-row"],["tr","mat-row",""]],hostAttrs:["role","row",1,"mat-mdc-row","mdc-data-table__row"],exportAs:["matRow"],standalone:!0,features:[Z([{provide:$t,useExisting:t}]),$,j],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(i,o){i&1&&X(0,0)},dependencies:[Ve],encapsulation:2});let n=t;return n})();var ho=["table"];function fo(n,t){if(n&1&&(c(0,"mat-option",7),h(1),d()),n&2){let r=t.$implicit;D("value",r),g(),L(r)}}function _o(n,t){n&1&&(c(0,"th",16),h(1," Sample "),d())}function go(n,t){if(n&1&&(c(0,"td",17),h(1),d()),n&2){let r=t.$implicit;g(),W(" ",r.value.Sample," ")}}function yo(n,t){n&1&&(c(0,"th",16),h(1," Condition "),d())}function Co(n,t){if(n&1){let r=z();c(0,"td",17)(1,"mat-form-field")(2,"input",18,1),k("change",function(i){T(r);let o=ct(3),a=v(2);return N(a.handleAutoCompleteChange(i,o.value))}),d(),c(4,"mat-label"),h(5),d()()()}if(n&2){let r=t.$implicit;g(2),Tt("placeholder",r.value.Sample),Tt("value",r.value.Condition),g(3),L(r.value.Sample)}}function wo(n,t){n&1&&G(0,"tr",19)}function bo(n,t){n&1&&G(0,"tr",20)}function vo(n,t){if(n&1&&(c(0,"table",8,0),Le(2,10),I(3,_o,2,0,"th",11)(4,go,2,1,"td",12),Pe(),Le(5,13),I(6,yo,2,0,"th",11)(7,Co,6,3,"td",12),Pe(),I(8,wo,1,0,"tr",14)(9,bo,1,0,"tr",15),d()),n&2){let r=v();D("dataSource",r.annotationData),g(8),D("matHeaderRowDef",r.displayedColumns),g(),D("matRowDefColumns",r.displayedColumns)}}var Cn=(()=>{let t=class t{set annotation(e){e&&(this._annotation=e,this.annotationData=e.annotations.map(i=>this.fb.group({Sample:new S(i.Sample,M.required),Condition:new S(i.Condition,M.required)})),this.form.patchValue({columns:this.annotationData.map(i=>i.value.Sample)}))}get annotation(){return this._annotation}set projectFile(e){this._projectFile=e,this.web.getProjectFileColumns(e.id).subscribe(i=>{let o=[];i.forEach(a=>{o.includes(a)||o.push(a)}),this.columns=o})}get projectFile(){return this._projectFile}onSelectionChange(e){let i=e.source,o=-1,a=i.selected,s;for(let p=0;p<a.length;p++)if(!this.lastSelection.find(f=>f===a[p].value)){s=a[p];break}let l=i.options.toArray();o=l.indexOf(s),this.shiftPressed&&this.lastSelectedIndex>-1&&l.forEach((p,f)=>{this.isBetween(f,this.lastSelectedIndex,o)&&(console.log(p),p.select())}),this.lastSelection=this.form.value.columns?.slice(),this.lastSelectedIndex=o,this.table?.renderRows()}constructor(e,i,o){this.fb=e,this.web=i,this.dialogRef=o,this.columns=[],this.shiftPressed=!1,this.displayedColumns=["Sample","Condition"],this.form=this.fb.group({columns:new S([])}),this.annotationData=[],this.lastSelectedIndex=-1,this.lastSelection=[],window.addEventListener("keydown",a=>{a.key==="Shift"&&(this.shiftPressed=!0)}),window.addEventListener("keyup",a=>{a.key==="Shift"&&(this.shiftPressed=!1)}),this.form.controls.columns.valueChanges.subscribe(a=>{if(a){let s=a.map(l=>{let p=l.split(/\./g);return console.log(p),p.length>2?{Sample:l,Condition:p.slice(0,p.length-1).join(".")}:p.length===2?{Sample:l,Condition:p[0]}:{Sample:l,Condition:""}});for(let l=0;l<s.length;l++)this.annotationData.find(p=>p.value.Sample===s[l].Sample)||this.annotationData.push(this.fb.group({Sample:new S(s[l].Sample,M.required),Condition:new S(s[l].Condition,M.required)}));for(let l=0;l<this.annotationData.length;l++)this.annotationData[l].value.Sample&&(a.includes(this.annotationData[l].value.Sample)||this.annotationData.splice(l,1))}})}cancel(){this.dialogRef.close()}save(){let e=!0,i=this.annotationData.map(o=>(o.valid||(e=!1),o.value));e&&this.dialogRef.close(i)}handleAutoCompleteChange(e,i){console.log(e,i)}isBetween(e,i,o){return i<o?e>=i&&e<=o:e>=o&&e<=i}};t.\u0275fac=function(i){return new(i||t)(y(pe),y(ie),y(Ee))},t.\u0275cmp=P({type:t,selectors:[["app-analysis-group-sample-annotation-modal"]],viewQuery:function(i,o){if(i&1&&Nt(ho,5),i&2){let a;oe(a=re())&&(o.table=a.first)}},inputs:{annotation:"annotation",projectFile:"projectFile"},standalone:!0,features:[j],decls:16,vars:3,consts:[["table",""],["optionCondition",""],["mat-dialog-title",""],["mat-dialog-content",""],[3,"formGroup"],[2,"width","300px"],["formControlName","columns",3,"selectionChange","multiple"],[3,"value"],["mat-table","",3,"dataSource"],["mat-button","",3,"click"],["matColumnDef","Sample"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","Condition"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],["matInput","",2,"border-radius","0",3,"change","placeholder","value"],["mat-header-row",""],["mat-row",""]],template:function(i,o){i&1&&(c(0,"h2",2),h(1,"Sample Annotation"),d(),c(2,"div",3)(3,"form",4)(4,"mat-form-field",5)(5,"mat-select",6),k("selectionChange",function(s){return o.onSelectionChange(s)}),V(6,fo,2,2,"mat-option",7,H),d(),c(8,"mat-label"),h(9,"Columns"),d()()(),I(10,vo,10,3,"table",8),d(),c(11,"mat-dialog-actions")(12,"button",9),k("click",function(){return o.save()}),h(13,"Submit"),d(),c(14,"button",9),k("click",function(){return o.cancel()}),h(15,"Close"),d()()),i&2&&(g(3),D("formGroup",o.form),g(2),D("multiple",!0),g(),O(o.columns),g(4),F(o.annotationData.length>0?10:-1))},dependencies:[Fe,Ie,te,ee,de,J,me,ue,fe,Te,Re,he,Ae,pt,Me,ce,cn,un,pn,hn,gn,yn,_n,fn,dn,mn]});let n=t;return n})();function xo(n,t){if(n&1&&(c(0,"mat-option",7),h(1),d()),n&2){let r=t.$implicit;D("value",r),g(),L(r)}}function Do(n,t){if(n&1&&(c(0,"mat-option",7),h(1),d()),n&2){let r=t.$implicit;D("value",r),g(),L(r)}}function So(n,t){if(n&1&&(c(0,"mat-option",7),h(1),d()),n&2){let r=t.$implicit;D("value",r),g(),L(r)}}function ko(n,t){if(n&1&&(c(0,"mat-option",7),h(1),d()),n&2){let r=t.$implicit;D("value",r),g(),L(r)}}function Ro(n,t){if(n&1&&(c(0,"mat-option",7),h(1),d()),n&2){let r=t.$implicit;D("value",r),g(),L(r)}}function Eo(n,t){if(n&1&&(c(0,"mat-option",7),h(1),d()),n&2){let r=t.$implicit;D("value",r),g(),L(r)}}function Fo(n,t){if(n&1&&(c(0,"mat-form-field")(1,"mat-select",14),V(2,Eo,2,2,"mat-option",7,H),d(),c(4,"mat-label"),h(5,"Comparison Label"),d()()),n&2){let r=v(4);g(2),O(r.comparison_labels)}}function Io(n,t){n&1&&(c(0,"mat-form-field"),G(1,"input",15),c(2,"mat-label"),h(3,"Comparison Label"),d()())}function Mo(n,t){if(n&1){let r=z();c(0,"mat-tab",4),Le(1),c(2,"div")(3,"form",5)(4,"div")(5,"mat-form-field")(6,"mat-select",6),V(7,xo,2,2,"mat-option",7,H),d(),c(9,"mat-label"),h(10,"Condition A"),d()()(),c(11,"div")(12,"mat-form-field")(13,"mat-select",8),V(14,Do,2,2,"mat-option",7,H),d(),c(16,"mat-label"),h(17,"Condition B"),d()()(),c(18,"div")(19,"mat-form-field")(20,"mat-select",9),V(21,So,2,2,"mat-option",7,H),d(),c(23,"mat-label"),h(24,"Fold Change Column"),d()()(),c(25,"div")(26,"mat-form-field")(27,"mat-select",10),V(28,ko,2,2,"mat-option",7,H),d(),c(30,"mat-label"),h(31,"P-Value Column"),d()()(),c(32,"div")(33,"mat-form-field")(34,"mat-select",11),V(35,Ro,2,2,"mat-option",7,H),d(),c(37,"mat-label"),h(38,"Comparison Column"),d()()(),h(39," If the comparison column has been selected, please select the comparison label column below. If not, please write the comparison label in the text box below. "),c(40,"div"),I(41,Fo,6,0,"mat-form-field")(42,Io,4,0,"mat-form-field"),d()()(),c(43,"div",12)(44,"button",13),k("click",function(){T(r);let i=v().$implicit,o=v(2);return N(o.copyComparison(i))}),c(45,"mat-icon"),h(46,"content_copy"),d()(),c(47,"button",13),k("click",function(){T(r);let i=v().$index,o=v(2);return N(o.removeComparison(i))}),c(48,"mat-icon"),h(49,"remove"),d()()(),Pe(),d()}if(n&2){let r=v().$implicit,e=v(2);D("label",r.value.comparison_label),g(3),D("formGroup",r),g(4),O(e.conditions),g(7),O(e.conditions),g(7),O(e.columns),g(7),O(e.columns),g(7),O(e.columns),g(6),F(r.value.comparison_col?41:42)}}function Ao(n,t){if(n&1&&I(0,Mo,50,3,"mat-tab",4),n&2){let r=t.$implicit;F(r.value.comparison_label?0:-1)}}function To(n,t){if(n&1&&(c(0,"mat-tab-group",2),V(1,Ao,1,1,null,null,H),d()),n&2){let r=v();g(),O(r.form)}}var wn=(()=>{let t=class t{set comparisonMatrix(e){this._comparisonMatrix=e,this.form=e.matrix.map(i=>this.fb.group({condition_A:new S(i.condition_A,M.required),condition_B:new S(i.condition_B,M.required),fold_change_col:new S(i.fold_change_col,M.required),p_value_col:new S(i.p_value_col,M.required),comparison_label:new S(i.comparison_label,M.required),comparison_col:new S(i.comparison_col)}));for(let i of this.form)i.controls.comparison_col.value&&this.web.getUniqueComparisonLabel(e.file,i.controls.comparison_col.value).subscribe(o=>{this.comparison_labels=o}),i.controls.comparison_col.valueChanges.subscribe(o=>{o&&this.web.getUniqueComparisonLabel(e.file,o).subscribe(a=>{this.comparison_labels=a})}),i.controls.comparison_label.valueChanges.subscribe(o=>{o||i.controls.comparison_label.setValue("temp_title")})}set projectFile(e){this._projectFile=e,this.web.getProjectFileColumns(e.id).subscribe(i=>{let o=[];i.forEach(a=>{o.includes(a)||o.push(a)}),this.columns=o})}get projectFile(){return this._projectFile}set sampleAnnotations(e){this._sampleAnnotations=e,e&&(this.conditions=[],e.annotations.forEach(i=>{console.log(i.Condition),this.conditions.includes(i.Condition)||this.conditions.push(i.Condition)}))}get sampleAnnotations(){return this._sampleAnnotations}constructor(e,i,o){this.web=e,this.fb=i,this.dialogRef=o,this.comparison_labels=[],this.columns=[],this.conditions=[],this.form=[]}addComparison(){let e=this.fb.group({condition_A:new S(null,M.required),condition_B:new S(null,M.required),fold_change_col:new S(null,M.required),p_value_col:new S(null,M.required),comparison_label:new S(`comparison_${this.form.length+1}`,M.required),comparison_col:new S(null)});this.form.push(e),e.controls.comparison_col.valueChanges.subscribe(i=>{i&&this.web.getUniqueComparisonLabel(this.comparisonMatrix.file,i).subscribe(o=>{this.comparison_labels=o})}),e.controls.comparison_label.valueChanges.subscribe(i=>{i||e.controls.comparison_label.setValue("temp_title")})}removeComparison(e){this.form.splice(e,1)}copyComparison(e){let i=this.fb.group({condition_A:new S(e.value.condition_A,M.required),condition_B:new S(e.value.condition_B,M.required),fold_change_col:new S(e.value.fold_change_col,M.required),p_value_col:new S(e.value.p_value_col,M.required),comparison_label:new S(`comparison_${this.form.length+1}`,M.required),comparison_col:new S(e.value.comparison_col)});this.form.push(i),i.controls.comparison_col.valueChanges.subscribe(o=>{o&&this.web.getUniqueComparisonLabel(this.comparisonMatrix.file,o).subscribe(a=>{this.comparison_labels=a})}),i.controls.comparison_label.valueChanges.subscribe(o=>{o||i.controls.comparison_label.setValue("temp_title")})}save(){let e=!0;this.form.forEach(i=>{i.valid||(e=!1)}),e&&this.dialogRef.close(this.form.map(i=>i.value))}cancel(){this.dialogRef.close()}};t.\u0275fac=function(i){return new(i||t)(y(ie),y(pe),y(Ee))},t.\u0275cmp=P({type:t,selectors:[["app-analysis-group-comparison-matrix-modal"]],inputs:{comparisonMatrix:"comparisonMatrix",projectFile:"projectFile",sampleAnnotations:"sampleAnnotations"},standalone:!0,features:[j],decls:11,vars:1,consts:[["mat-dialog-title",""],["mat-dialog-content",""],["mat-stretch-tabs","false"],["mat-button","",3,"click"],[3,"label"],[2,"display","flex","flex-direction","column","gap","10px","overflow-y","hidden",3,"formGroup"],["formControlName","condition_A"],[3,"value"],["formControlName","condition_B"],["formControlName","fold_change_col"],["formControlName","p_value_col"],["formControlName","comparison_col"],[2,"display","flex","flex-direction","row","gap","10px"],["mat-icon-button","","color","warn",3,"click"],["formControlName","comparison_label"],["matInput","","type","text","formControlName","comparison_label"]],template:function(i,o){i&1&&(c(0,"h2",0),h(1,"Analysis Group Comparison Matrix"),d(),c(2,"div",1),I(3,To,3,0,"mat-tab-group",2),d(),c(4,"mat-dialog-actions")(5,"button",3),k("click",function(){return o.addComparison()}),h(6," Add Comparison "),d(),c(7,"button",3),k("click",function(){return o.save()}),h(8," Submit "),d(),c(9,"button",3),k("click",function(){return o.cancel()}),h(10," Close "),d()()),i&2&&(g(3),F(o.form.length>0?3:-1))},dependencies:[Fe,Ie,ze,Ue,te,ee,$e,de,J,me,ue,fe,Te,Re,he,Ae,Fi,Ei,Me,ce],styles:["mat-form-field[_ngcontent-%COMP%]{width:100%}"]});let n=t;return n})();var bn=(()=>{let t=class t{constructor(e,i,o,a,s){this.fb=e,this.dialogRef=i,this.web=o,this.ws=a,this.sb=s,this.analysisGroupIDs=[],this.form=this.fb.group({search:new S("",M.required),searchMode:new S("full",M.required),foldChange:new S(.6,M.required),pValue:new S(1.31,M.required)}),this.selectedProjects=[],this.ws.searchWSConnection?.subscribe(l=>{if(l&&l.type==="search_status")switch(l.status){case"complete":this.sb.open(`${location.host}/#/search-session/${l.id}`,"Dismiss",{duration:1e4}),this.dialogRef.close(l.id);break}})}search(){this.form.invalid||(this.selectedProjects.length===0?this.form.value.search&&this.form.value.foldChange&&this.form.value.pValue&&this.form.value.searchMode&&this.web.createSearch(this.analysisGroupIDs,this.form.value.search,this.web.searchSessionID,this.form.value.foldChange,this.form.value.pValue,this.form.value.searchMode).subscribe(e=>{this.sb.open("Search queued","Dismiss",{duration:2e3})}):this.web.getAnalysisGroupsFromProjects(this.selectedProjects).subscribe(e=>{e&&this.form.value.search&&this.form.value.foldChange&&this.form.value.pValue&&this.form.value.searchMode&&this.web.createSearch(e.map(i=>i.id),this.form.value.search,this.web.searchSessionID,this.form.value.foldChange,this.form.value.pValue,this.form.value.searchMode).subscribe(i=>{this.sb.open("Search queued","Dismiss",{duration:2e3})})}))}cancel(){this.dialogRef.close()}handleMultipleProjectSelection(e){this.selectedProjects=e}};t.\u0275fac=function(i){return new(i||t)(y(pe),y(Ee),y(ie),y(gt),y(_t))},t.\u0275cmp=P({type:t,selectors:[["app-search-modal"]],inputs:{analysisGroupIDs:"analysisGroupIDs"},standalone:!0,features:[j],decls:56,vars:2,consts:[["mat-dialog-title",""],["mat-dialog-content",""],[2,"display","flex","flex-direction","column","gap","1px",3,"formGroup"],["matInput","","formControlName","search","id","search","type","text","placeholder","Search Term"],["formControlName","searchMode"],["value","gene"],["value","uniprot"],["value","pi"],["value","full"],["matInput","","type","number","formControlName","foldChange","placeholder","Log2 Fold Change"],["matInput","","type","number","formControlName","pValue","placeholder","P-Value"],[3,"selectedProjects","multipleSelection"],["mat-button","",3,"click"]],template:function(i,o){i&1&&(c(0,"h2",0),h(1,"Data Search"),d(),c(2,"div",1)(3,"form",2)(4,"mat-form-field"),G(5,"input",3),c(6,"mat-label"),h(7,"Search Term"),d()(),c(8,"p")(9,"b"),h(10,"Search Multiple Terms"),d(),G(11,"br"),h(12," In order to search with multiple terms, enclose each term in single quotes and separate them with "),c(13,"b"),h(14,"OR"),d(),h(15,". "),d(),c(16,"mat-form-field")(17,"mat-select",4)(18,"mat-option",5),h(19,"Gene Name"),d(),c(20,"mat-option",6),h(21,"UniProt Accession ID"),d(),c(22,"mat-option",7),h(23,"Primary IDs"),d(),c(24,"mat-option",8),h(25,"Full Text"),d()(),c(26,"mat-label"),h(27,"Search Mode"),d()(),c(28,"mat-form-field"),G(29,"input",9),c(30,"mat-label"),h(31,"Log2 Fold Change"),d()(),c(32,"mat-form-field"),G(33,"input",10),c(34,"mat-label"),h(35,"-Log10(P-Value)"),d()()(),G(36,"hr"),c(37,"p")(38,"b"),h(39,"Search by currently selected analysis groups or by selected projects below"),d(),G(40,"br"),h(41," By selecting the one or more projects below, the currently selected analysis groups will be ignored. "),d(),c(42,"mat-accordion")(43,"mat-expansion-panel")(44,"mat-expansion-panel-header")(45,"mat-panel-title"),h(46," Filter by Project "),d(),c(47,"mat-panel-description"),h(48," Optional "),d()(),c(49,"app-project-search",11),k("selectedProjects",function(s){return o.handleMultipleProjectSelection(s)}),d()()(),G(50,"hr"),d(),c(51,"mat-dialog-actions")(52,"button",12),k("click",function(){return o.search()}),h(53,"Search"),d(),c(54,"button",12),k("click",function(){return o.cancel()}),h(55,"Close"),d()()),i&2&&(g(3),D("formGroup",o.form),g(46),D("multipleSelection",!0))},dependencies:[Fe,Ie,he,Ae,fe,te,ee,$e,gi,de,J,me,ue,Me,ce,Te,Re,Ri,xi,Si,Di,ki,vi]});let n=t;return n})();function Lo(n,t){if(n&1&&(c(0,"mat-option",5),h(1),d()),n&2){let r=t.$implicit;D("value",r),g(),L(r)}}function Po(n,t){if(n&1&&(c(0,"mat-option",5),h(1),d()),n&2){let r=t.$implicit;D("value",r),g(),L(r)}}function Vo(n,t){if(n&1&&(c(0,"mat-option",5),h(1),d()),n&2){let r=t.$implicit;D("value",r),g(),L(r)}}function Oo(n,t){if(n&1&&(c(0,"form",3)(1,"mat-form-field")(2,"mat-select",4),V(3,Lo,2,2,"mat-option",5,H),d(),c(5,"mat-label"),h(6,"Primary ID Column"),d()(),c(7,"mat-form-field")(8,"mat-select",6),V(9,Po,2,2,"mat-option",5,H),d(),c(11,"mat-label"),h(12,"Gene Name Column"),d()(),c(13,"mat-form-field")(14,"mat-select",7),V(15,Vo,2,2,"mat-option",5,H),d(),c(17,"mat-label"),h(18,"UniProt Accession ID Column"),d()()()),n&2){let r=v(2);D("formGroup",r.formDFColumn),g(3),O(r.columns),g(6),O(r.columns),g(6),O(r.columns)}}function jo(n,t){if(n&1&&(c(0,"mat-option",5),h(1),d()),n&2){let r=t.$implicit;D("value",r),g(),L(r)}}function Bo(n,t){if(n&1&&(c(0,"mat-option",5),h(1),d()),n&2){let r=t.$implicit;D("value",r),g(),L(r)}}function Ho(n,t){if(n&1&&(c(0,"mat-option",5),h(1),d()),n&2){let r=t.$implicit;D("value",r),g(),L(r)}}function Uo(n,t){if(n&1&&(c(0,"form",3)(1,"mat-form-field")(2,"mat-select",4),V(3,jo,2,2,"mat-option",5,H),d(),c(5,"mat-label"),h(6,"Primary ID Column"),d()(),c(7,"mat-form-field")(8,"mat-select",6),V(9,Bo,2,2,"mat-option",5,H),d(),c(11,"mat-label"),h(12,"Gene Name Column"),d()(),c(13,"mat-form-field")(14,"mat-select",7),V(15,Ho,2,2,"mat-option",5,H),d(),c(17,"mat-label"),h(18,"UniProt Accession ID Column"),d()()()),n&2){let r=v(2);D("formGroup",r.formSearchedColumn),g(3),O(r.columns),g(6),O(r.columns),g(6),O(r.columns)}}function zo(n,t){if(n&1&&(c(0,"mat-option",5),h(1),d()),n&2){let r=t.$implicit;D("value",r),g(),L(r)}}function $o(n,t){if(n&1&&(c(0,"mat-option",5),h(1),d()),n&2){let r=t.$implicit;D("value",r),g(),L(r)}}function qo(n,t){if(n&1&&(c(0,"mat-option",5),h(1),d()),n&2){let r=t.$implicit;D("value",r),g(),L(r)}}function Ko(n,t){if(n&1&&(c(0,"mat-option",5),h(1),d()),n&2){let r=t.$implicit;D("value",r),g(),L(r)}}function Xo(n,t){if(n&1&&(c(0,"mat-option",5),h(1),d()),n&2){let r=t.$implicit;D("value",r),g(),L(r)}}function Yo(n,t){if(n&1&&(c(0,"form",3)(1,"mat-form-field")(2,"mat-select",4),V(3,zo,2,2,"mat-option",5,H),d(),c(5,"mat-label"),h(6,"Primary ID Column"),d()(),c(7,"mat-form-field")(8,"mat-select",6),V(9,$o,2,2,"mat-option",5,H),d(),c(11,"mat-label"),h(12,"Gene Name Column"),d()(),c(13,"mat-form-field")(14,"mat-select",7),V(15,qo,2,2,"mat-option",5,H),d(),c(17,"mat-label"),h(18,"UniProt Accession ID Column"),d()(),c(19,"mat-form-field")(20,"mat-select",8),V(21,Ko,2,2,"mat-option",5,H),d(),c(23,"mat-label"),h(24,"Copy Number Rank Column"),d()(),c(25,"mat-form-field")(26,"mat-select",9),V(27,Xo,2,2,"mat-option",5,H),d(),c(29,"mat-label"),h(30,"Copy Number Column"),d()()()),n&2){let r=v(2);D("formGroup",r.formSearchedColumn),g(3),O(r.columns),g(6),O(r.columns),g(6),O(r.columns),g(6),O(r.columns),g(6),O(r.columns)}}function Qo(n,t){if(n&1&&I(0,Oo,19,1,"form",3)(1,Uo,19,1,"form",3)(2,Yo,31,1,"form",3),n&2){let r=v();F(r.file.file_category==="df"?0:r.file.file_category==="searched"?1:r.file.file_category==="copy_number"?2:-1)}}var vn=(()=>{let t=class t{set file(e){this._file=e,e.extra_data&&(console.log(e.extra_data),e.file_category==="df"?(this.formDFColumn.controls.primary_id_col.setValue(e.extra_data.primary_id_col),this.formDFColumn.controls.gene_name_col.setValue(e.extra_data.gene_name_col),this.formDFColumn.controls.uniprot_id_col.setValue(e.extra_data.uniprot_id_col),this.formDFColumn.controls.peptide_seq_col.setValue(e.extra_data.peptide_seq_col),this.formDFColumn.controls.modification_position_in_peptide_col.setValue(e.extra_data.modification_position_in_peptide_col),this.formDFColumn.controls.modification_position_in_protein_col.setValue(e.extra_data.modification_position_in_protein_col),this.formDFColumn.controls.localization_prob_col.setValue(e.extra_data.localization_prob_col),console.log(this.formDFColumn.value)):e.file_category==="searched"?(this.formSearchedColumn.controls.primary_id_col.setValue(e.extra_data.primary_id_col),this.formSearchedColumn.controls.gene_name_col.setValue(e.extra_data.gene_name_col),this.formSearchedColumn.controls.uniprot_id_col.setValue(e.extra_data.uniprot_id_col)):e.file_category==="copy_number"&&(this.formCopyNumberColumn.controls.primary_id_col.setValue(e.extra_data.primary_id_col),this.formCopyNumberColumn.controls.gene_name_col.setValue(e.extra_data.gene_name_col),this.formCopyNumberColumn.controls.uniprot_id_col.setValue(e.extra_data.uniprot_id_col),this.formCopyNumberColumn.controls.rank_col.setValue(e.extra_data.rank_col),this.formCopyNumberColumn.controls.copy_number_col.setValue(e.extra_data.copy_number_col))),this.web.getProjectFileColumns(e.id).subscribe(i=>{this.columns=i})}get file(){return this._file}constructor(e,i,o){this.fb=e,this.matDialogRef=i,this.web=o,this._file=void 0,this.formDFColumn=this.fb.group({primary_id_col:new S("",M.required),gene_name_col:new S(""),uniprot_id_col:new S(""),peptide_seq_col:new S(""),modification_position_in_peptide_col:new S(""),modification_position_in_protein_col:new S(""),localization_prob_col:new S("")}),this.formSearchedColumn=this.fb.group({primary_id_col:new S("",M.required),gene_name_col:new S(""),uniprot_id_col:new S("")}),this.formCopyNumberColumn=this.fb.group({primary_id_col:new S("",M.required),gene_name_col:new S(""),uniprot_id_col:new S(""),rank_col:new S(""),copy_number_col:new S("")}),this.columns=[]}save(){let e={file_category:this.file.file_category,extra_data:{}};this.file.file_category==="df"?(this.formDFColumn.controls.uniprot_id_col.value&&(e.extra_data.uniprot_id_col=this.formDFColumn.controls.uniprot_id_col.value),this.formDFColumn.controls.primary_id_col.value&&(e.extra_data.primary_id_col=this.formDFColumn.controls.primary_id_col.value),this.formDFColumn.controls.gene_name_col.value&&(e.extra_data.gene_name_col=this.formDFColumn.controls.gene_name_col.value)):this.file.file_category==="searched"&&(this.formSearchedColumn.controls.uniprot_id_col.value&&(e.extra_data.uniprot_id_col=this.formSearchedColumn.controls.uniprot_id_col.value),this.formSearchedColumn.controls.primary_id_col.value&&(e.extra_data.primary_id_col=this.formSearchedColumn.controls.primary_id_col.value),this.formSearchedColumn.controls.gene_name_col.value&&(e.extra_data.gene_name_col=this.formSearchedColumn.controls.gene_name_col.value)),this.matDialogRef.close(e)}cancel(){this.matDialogRef.close()}};t.\u0275fac=function(i){return new(i||t)(y(pe),y(Ee),y(ie))},t.\u0275cmp=P({type:t,selectors:[["app-file-extra-data-modal"]],inputs:{file:"file"},standalone:!0,features:[j],decls:9,vars:1,consts:[["mat-dialog-title",""],["mat-dialog-content",""],["mat-button","",3,"click"],[2,"display","flex","flex-direction","column","gap","10px",3,"formGroup"],["formControlName","primary_id_col"],[3,"value"],["formControlName","gene_name_col"],["formControlName","uniprot_id_col"],["formControlName","rank_col"],["formControlName","copy_number_col"]],template:function(i,o){i&1&&(c(0,"h2",0),h(1,"File Extra Data"),d(),c(2,"div",1),I(3,Qo,3,1),d(),c(4,"mat-dialog-actions")(5,"button",2),k("click",function(){return o.save()}),h(6,"Submit"),d(),c(7,"button",2),k("click",function(){return o.cancel()}),h(8,"Close"),d()()),i&2&&(g(3),F(o.file?3:-1))},dependencies:[Fe,Ie,te,ee,de,J,me,ue,he,Re,Te,fe,Me,ce]});let n=t;return n})();var Zo=Sn(kn());Pt.plotlyjs=Zo;var xn=(()=>{let t=class t{set curtainData(e){this._curtainData=e,this.drawVolcanoPlot()}get curtainData(){return this._curtainData}constructor(e,i){this.accounts=e,this.graph=i,this.selected=new Q,this._curtainData=void 0,this.graphData=[],this.graphLayout={height:700,width:700,margin:{r:null,l:null,b:null,t:null},xaxis:{title:"<b>Log2FC</b>",tickmode:"linear",ticklen:5,showgrid:!1,visible:!0,tickfont:{size:14,color:"black"}},yaxis:{title:"<b>-log10(p-value)</b>",tickmode:"linear",ticklen:5,showgrid:!1,visible:!0,showticklabels:!0,zeroline:!0,tickfont:{size:14,color:"black"}},annotations:[],showlegend:!0,legend:{orientation:"h"},title:{text:"",font:{size:24,family:"Arial, sans-serif",color:"black"}}},this.revision=0,this.config={toImageButtonOptions:{format:"svg",filename:this.graphLayout.title.text,height:this.graphLayout.height,width:this.graphLayout.width,scale:1}},this.colorMap={},this.graph.redrawTrigger.subscribe(()=>{this.drawVolcanoPlot()})}drawVolcanoPlot(){if(!this.curtainData&&!this.curtainData.settings)return;console.log(this.curtainData),this.graphLayout.title.text=this.curtainData.settings.title,this.colorMap=this.curtainData.settings.colorMap;let e=Object.keys(this.colorMap),i=this.curtainData.data.filter(C=>C["Fold Change"]!==null&&C["Fold Change"]!==void 0&&!isNaN(C["Fold Change"])),o=this.curtainData.data.filter(C=>C["P-value"]!==null&&C["P-value"]!==void 0&&!isNaN(C["P-value"])),a=Math.min(...i.map(C=>C["Fold Change"])),s=Math.max(...i.map(C=>C["Fold Change"])),l=0,p=Math.max(...o.map(C=>C["P-value"]));this.graphLayout.xaxis.range=[a-.5,s+.5],this.graphLayout.yaxis.range=[l,p-l*.5];let f=this.curtainData.settings.volcanoAxis;f.minX&&(this.graphLayout.xaxis.range[0]=f.minX),f.maxX&&(this.graphLayout.xaxis.range[1]=f.maxX),f.minY&&(this.graphLayout.yaxis.range[0]=f.minY),f.maxY&&(this.graphLayout.yaxis.range[1]=f.maxY),f.x&&(this.graphLayout.xaxis.title=`<b>${f.x}</b>`),f.y&&(this.graphLayout.yaxis.title=`<b>${f.y}</b>`);let m={};m.Background={x:[],y:[],mode:"markers",type:"scatter",name:"Background",text:[],data:[],marker:{size:this.curtainData.settings.scatterPlotMarkerSize,color:"#a4a2a2",opacity:.3}};for(let C of this.curtainData.selections)m[C]={x:[],y:[],mode:"markers",type:"scattergl",name:C,text:[],data:[],marker:{size:this.curtainData.settings.scatterPlotMarkerSize,color:this.curtainData.settings.colorMap[C]}};this.curtainData.data.forEach(C=>{if(C["Primary ID"]in this.curtainData.selection_map){let K=this.curtainData.selection_map[C["Primary ID"]];for(let A of this.curtainData.selections)K[A]&&(m[A].x.push(C["Fold Change"]),m[A].y.push(C["P-value"]),m[A].text.push(`${C["Gene Names"]}(${C["Primary ID"]})`),m[A].data.push(C))}else if(this.curtainData.settings.backGroundColorGrey)m.Background.x.push(C["Fold Change"]),m.Background.y.push(C["P-value"]),m.Background.text.push(`${C["Gene Names"]}(${C["Primary ID"]})`),m.Background.data.push(C);else{let K=this.significantGroup(C["Fold Change"],C["P-value"]),A=e.find(Y=>Y.startsWith(`${K[0]} (${C.Comparison})`));A&&(m[A]||(m[A]={x:[],y:[],mode:"markers",type:"scatter",name:A,text:[],data:[],marker:{size:this.curtainData.settings.scatterPlotMarkerSize,color:this.curtainData.settings.colorMap[A]}}),m[A].x.push(C["Fold Change"]),m[A].y.push(C["P-value"]),m[A].text.push(`${C["Gene Names"]}(${C["Primary ID"]})`),m[A].data.push(C))}}),this.graphData=[];for(let C in m)this.graphData.push(m[C]);this.graphData=this.graphData.reverse();let _=[];_.push({type:"line",x0:-this.curtainData.settings.log2FCCutoff,y0:0,x1:-this.curtainData.settings.log2FCCutoff,y1:this.graphLayout.yaxis.range[1],line:{color:"rgb(21,4,4)",width:1,dash:"dot"}}),_.push({type:"line",x0:this.curtainData.settings.log2FCCutoff,x1:this.curtainData.settings.log2FCCutoff,y0:0,y1:this.graphLayout.yaxis.range[1],line:{color:"rgb(21,4,4)",width:1,dash:"dot"}});let w=this.graphLayout.xaxis.range[0]-1;this.curtainData.settings.volcanoAxis.minX&&(w=this.curtainData.settings.volcanoAxis.minX-1);let x=this.graphLayout.xaxis.range[1]+1;if(this.curtainData.settings.volcanoAxis.maxX&&(x=this.curtainData.settings.volcanoAxis.maxX+1),_.push({type:"line",x0:w,x1:x,y0:-Math.log10(this.curtainData.settings.pCutoff),y1:-Math.log10(this.curtainData.settings.pCutoff),line:{color:"rgb(21,4,4)",width:1,dash:"dot"}}),this.graphLayout.shapes=_,this.curtainData.settings.volcanoPlotGrid&&(this.graphLayout.yaxis.showgrid=this.curtainData.settings.volcanoPlotGrid.y,this.graphLayout.xaxis.showgrid=this.curtainData.settings.volcanoPlotGrid.x),this.curtainData.settings.volcanoPlotDimension&&(this.curtainData.settings.volcanoPlotDimension.height&&(this.graphLayout.height=this.curtainData.settings.volcanoPlotDimension.height),this.curtainData.settings.volcanoPlotDimension.width&&(this.graphLayout.width=this.curtainData.settings.volcanoPlotDimension.width),this.curtainData.settings.volcanoPlotDimension.margin))for(let C in this.curtainData.settings.volcanoPlotDimension.margin)this.curtainData.settings.volcanoPlotDimension.margin[C]&&(this.graphLayout.margin[C]=this.curtainData.settings.volcanoPlotDimension.margin[C]);if(this.curtainData.settings.volcanoPlotYaxisPosition&&(this.curtainData.settings.volcanoPlotYaxisPosition.includes("left")&&this.graphLayout.shapes.push({type:"line",x0:this.graphLayout.xaxis.range[0],x1:this.graphLayout.xaxis.range[0],y0:this.graphLayout.yaxis.range[0],y1:this.graphLayout.yaxis.range[1],line:{color:"rgb(21,4,4)",width:1}}),this.curtainData.settings.volcanoPlotYaxisPosition.includes("middle")?this.graphLayout.xaxis.zerolinecolor="#000000":this.graphLayout.xaxis.zerolinecolor="#ffffff"),this.graphLayout.annotations=[],this.curtainData.settings.textAnnotation)for(let C in this.curtainData.settings.textAnnotation)this.curtainData.settings.textAnnotation[C].data.showannotation===!0&&this.graphLayout.annotations.push(this.curtainData.settings.textAnnotation[C].data);this.config={toImageButtonOptions:{format:"svg",filename:this.graphLayout.title.text,height:this.graphLayout.height,width:this.graphLayout.width,scale:1,margin:this.graphLayout.margin}};let R=document.getElementsByTagName("body")[0],U=window.getComputedStyle(R).backgroundColor;if(this.accounts.userAccount.darkMode){this.graphLayout.plot_bgcolor=U,this.graphLayout.paper_bgcolor=U,this.graphLayout.font={color:"white",size:14},this.graphLayout.xaxis.tickfont.color="white",this.graphLayout.yaxis.tickfont.color="white";for(let C of this.graphLayout.shapes)C.line.color="white";this.graphLayout.yaxis.showgrid&&(this.graphLayout.yaxis.gridcolor="white"),this.graphLayout.xaxis.showgrid&&(this.graphLayout.xaxis.gridcolor="white");for(let C of this.graphLayout.annotations)C.font.color="white",C.arrowcolor="white"}else this.graphLayout.plot_bgcolor="#FFFFFF",this.graphLayout.paper_bgcolor="#FFFFFF",this.graphLayout.font={color:"black",size:14};if(this.curtainData.settings.volcanoAdditionalShapes)for(let C of this.curtainData.settings.volcanoAdditionalShapes)this.graphLayout.shapes.push(C);this.revision+=1,console.log("cutoff",_),console.log(this.graphData)}significantGroup(e,i){let o=-Math.log10(this.curtainData.settings.pCutoff),a=[],s="";return o>i?(a.push("P-value > "+this.curtainData.settings.pCutoff),s="P-value > "):(a.push("P-value <= "+this.curtainData.settings.pCutoff),s="P-value <= "),Math.abs(e)>this.curtainData.settings.log2FCCutoff?(a.push("FC > "+this.curtainData.settings.log2FCCutoff),s+="FC > "):(a.push("FC <= "+this.curtainData.settings.log2FCCutoff),s+="FC <= "),[a.join(";"),s]}selectData(e){if("points"in e){let i=[];for(let o of e.points)i.push(o.data.data[o.pointIndex]);this.selected.emit(i)}}};t.\u0275fac=function(i){return new(i||t)(y(ft),y(Mi))},t.\u0275cmp=P({type:t,selectors:[["app-volcano-plot"]],inputs:{curtainData:"curtainData"},outputs:{selected:"selected"},standalone:!0,features:[j],decls:1,vars:5,consts:[[3,"selected","plotlyClick","data","config","layout","revision","updateOnlyWithRevision"]],template:function(i,o){i&1&&(c(0,"plotly-plot",0),k("selected",function(s){return o.selectData(s)})("plotlyClick",function(s){return o.selectData(s)}),d()),i&2&&D("data",o.graphData)("config",o.config)("layout",o.graphLayout)("revision",o.revision)("updateOnlyWithRevision",!0)},dependencies:[Pt,Ii]});let n=t;return n})();function Jo(n,t){if(n&1){let r=z();c(0,"div",0)(1,"app-volcano-plot",3),k("selected",function(i){T(r);let o=v();return N(o.handleVolcanoSelection(i))}),d()()}if(n&2){let r=v();g(),D("curtainData",r.curtainData)}}function er(n,t){if(n&1&&(c(0,"p"),h(1," Associated Project: "),c(2,"a",18),h(3),d()()),n&2){let r=v(2);g(2),ci("href","/#/project/",r.analysisGroup.project,"",ri),g(),L(r.associatedProject.name)}}function tr(n,t){if(n&1&&(c(0,"p"),h(1),d(),G(2,"mat-progress-bar",19)),n&2){let r=v(2);g(),L(r.composingCurtainProgress.message),g(),D("value",r.composingCurtainProgress.progress)("mode","determinate")("color","primary")}}function ir(n,t){if(n&1){let r=z();c(0,"button",20),k("click",function(){T(r);let i=v(2);return N(i.composeDataFromCurtain())}),h(1,"Use Curtain Link For Data"),d()}if(n&2){let r=v(2);D("disabled",!r.accounts.loggedIn)}}function nr(n,t){if(n&1&&h(0),n&2){let r=v(2);W(": ",r.analysisGroupDF.name,"")}}function or(n,t){if(n&1){let r=z();c(0,"app-upload-file",21),k("fileUploaded",function(i){T(r);let o=v(2);return N(o.handleFileUploaded(i,"df"))}),d()}if(n&2){let r=v(2);D("analysisGroupId",r.analysisGroup.id)("fileCategory","df")}}function rr(n,t){if(n&1){let r=z();c(0,"button",22),k("click",function(){T(r);let i=v(2);return N(i.downloadFile(i.analysisGroupDF))}),c(1,"mat-icon"),h(2,"download"),d()(),c(3,"button",22),k("click",function(){T(r);let i=v(2);return N(i.deleteFile(i.analysisGroupDF))}),c(4,"mat-icon"),h(5,"delete"),d()(),c(6,"button",23),k("click",function(){T(r);let i=v(2);return N(i.openExtraDataModal(i.analysisGroupDF))}),h(7,"Extra Data"),d()}if(n&2){let r=v(2);g(6),D("disabled",!r.accounts.loggedIn)}}function ar(n,t){if(n&1&&h(0),n&2){let r=v(2);W(": ",r.analysisGroupSearched.name,"")}}function sr(n,t){if(n&1){let r=z();c(0,"app-upload-file",21),k("fileUploaded",function(i){T(r);let o=v(2);return N(o.handleFileUploaded(i,"searched"))}),d()}if(n&2){let r=v(2);D("analysisGroupId",r.analysisGroup.id)("fileCategory","searched")}}function lr(n,t){if(n&1){let r=z();c(0,"button",22),k("click",function(){T(r);let i=v(2);return N(i.downloadFile(i.analysisGroupSearched))}),c(1,"mat-icon"),h(2,"download"),d()(),c(3,"button",22),k("click",function(){T(r);let i=v(2);return N(i.deleteFile(i.analysisGroupSearched))}),c(4,"mat-icon"),h(5,"delete"),d()(),c(6,"button",23),k("click",function(){T(r);let i=v(2);return N(i.openExtraDataModal(i.analysisGroupSearched))}),h(7,"Extra Data"),d()}if(n&2){let r=v(2);g(6),D("disabled",!r.accounts.loggedIn)}}function cr(n,t){if(n&1&&h(0),n&2){let r=v(2);W(": ",r.analysisGroupCopyNumber.name,"")}}function dr(n,t){if(n&1){let r=z();c(0,"app-upload-file",21),k("fileUploaded",function(i){T(r);let o=v(2);return N(o.handleFileUploaded(i,"copy_number"))}),d()}if(n&2){let r=v(2);D("analysisGroupId",r.analysisGroup.id)("fileCategory","copy_number")}}function mr(n,t){if(n&1){let r=z();c(0,"button",22),k("click",function(){T(r);let i=v(2);return N(i.downloadFile(i.analysisGroupCopyNumber))}),c(1,"mat-icon"),h(2,"download"),d()(),c(3,"button",22),k("click",function(){T(r);let i=v(2);return N(i.deleteFile(i.analysisGroupCopyNumber))}),c(4,"mat-icon"),h(5,"delete"),d()(),c(6,"button",23),k("click",function(){T(r);let i=v(2);return N(i.openExtraDataModal(i.analysisGroupCopyNumber))}),h(7,"Extra Data"),d()}if(n&2){let r=v(2);g(6),D("disabled",!r.accounts.loggedIn)}}function ur(n,t){if(n&1&&h(0),n&2){let r=v(3);W("(",r.sampleAnnotations.annotations.length,")")}}function pr(n,t){if(n&1){let r=z();c(0,"button",23),k("click",function(){T(r);let i=v(2);return N(i.setAnnotationModal(i.analysisGroupSearched))}),h(1,"Sample Annotation "),I(2,ur,1,1),d()}if(n&2){let r=v(2);D("disabled",!r.accounts.loggedIn),g(2),F(r.sampleAnnotations?2:-1)}}function hr(n,t){if(n&1&&h(0),n&2){let r=v(3);W("(",r.comparisonMatrix.matrix.length,")")}}function fr(n,t){if(n&1){let r=z();c(0,"button",23),k("click",function(){T(r);let i=v(2);return N(i.setComparisonMatrixModal(i.sampleAnnotations,i.analysisGroupSearched,i.analysisGroupDF))}),h(1,"Comparison Matrix "),I(2,hr,1,1),d()}if(n&2){let r=v(2);D("disabled",!r.accounts.loggedIn),g(2),F(r.comparisonMatrix?2:-1)}}function _r(n,t){if(n&1){let r=z();I(0,er,4,3,"p"),c(1,"form",4),k("ngSubmit",function(){T(r);let i=v();return N(i.updateAnalysisGroup())}),c(2,"mat-form-field",2),G(3,"input",5),c(4,"mat-label"),h(5,"Analysis Group Name"),d()(),c(6,"mat-form-field",2),G(7,"textarea",6),c(8,"mat-label"),h(9,"Analysis Group Description"),d()(),c(10,"div",7)(11,"mat-form-field",2),G(12,"input",8),c(13,"mat-label"),h(14,"Curtain Link"),d()(),c(15,"button",9),k("click",function(){T(r);let i=v();return N(i.refreshCurtainLink())}),c(16,"mat-icon"),h(17,"refresh"),d()()(),I(18,tr,3,4),c(19,"div",7)(20,"button",10),h(21,"Update Analysis Group"),d(),I(22,ir,2,1,"button",11),d()(),c(23,"div",12)(24,"div")(25,"p"),h(26,"Differential Analysis File "),I(27,nr,1,1),d()(),I(28,or,1,2,"app-upload-file",13)(29,rr,8,1),d(),c(30,"div",12)(31,"div")(32,"p"),h(33,"Searched File "),I(34,ar,1,1),d()(),I(35,sr,1,2,"app-upload-file",13)(36,lr,8,1),d(),c(37,"div",12)(38,"div")(39,"p"),h(40,"Copy Number File "),I(41,cr,1,1),d()(),I(42,dr,1,2,"app-upload-file",13)(43,mr,8,1),d(),c(44,"div",14),I(45,pr,3,2,"button",15)(46,fr,3,2,"button",15),c(47,"button",16),k("click",function(){T(r);let i=v();return N(i.openSearchModal())}),c(48,"mat-icon"),h(49,"search"),d()(),c(50,"button",17),k("click",function(){T(r);let i=v();return N(i.deleteAnalysisGroup())}),c(51,"mat-icon"),h(52,"delete"),d()()()}if(n&2){let r=v();F(r.associatedProject?0:-1),g(),D("formGroup",r.form),g(14),D("disabled",!r.accounts.loggedIn),g(3),F(r.composingCurtainProgress.started?18:-1),g(2),D("disabled",!r.accounts.loggedIn),g(2),F(r.analysisGroup.curtain_link?22:-1),g(5),F(r.analysisGroupDF?27:-1),g(),F(r.accounts.loggedIn?28:-1),g(),F(r.analysisGroupDF?29:-1),g(5),F(r.analysisGroupSearched?34:-1),g(),F(r.accounts.loggedIn?35:-1),g(),F(r.analysisGroupSearched?36:-1),g(5),F(r.analysisGroupCopyNumber?41:-1),g(),F(r.accounts.loggedIn?42:-1),g(),F(r.analysisGroupCopyNumber?43:-1),g(2),F(r.analysisGroupSearched?45:-1),g(),F(r.sampleAnnotations&&r.analysisGroupSearched&&r.analysisGroupDF?46:-1),g(4),D("disabled",!r.accounts.loggedIn)}}var Hs=(()=>{let t=class t{set analysisGroup(e){this._analysisGroup=e,this.curtainData=void 0,e&&(e.curtain_link&&this.getCurtainData(),this.dataService.analysisGroupChoices.forEach(i=>{i.value===e.analysis_group_type&&(this.analysisType=i.label)}),this.titleService.setTitle(`AG - ${e.name}`),this.web.getProject(e.project).subscribe(i=>{this.associatedProject=i}),this.form.controls.name.setValue(e.name),this.form.controls.description.setValue(e.description),this.form.controls.curtain_link.setValue(e.curtain_link),this.getFiles(e))}getFiles(e){this.web.getAnalysisGroupFiles(e.id).subscribe(i=>{this.analysisGroupDF=i.find(o=>o.file_category==="df"),this.analysisGroupSearched=i.find(o=>o.file_category==="searched"),this.analysisGroupSearched&&this.web.getProjectFileSampleAnnotations(this.analysisGroupSearched.id).subscribe(o=>{this.sampleAnnotations=o}),this.analysisGroupDF&&this.web.getProjectFileComparisonMatrix(this.analysisGroupDF.id).subscribe(o=>{this.comparisonMatrix=o})})}get analysisGroup(){return this._analysisGroup}constructor(e,i,o,a,s,l,p,f){this.sb=e,this.dataService=i,this.titleService=o,this.fb=a,this.web=s,this.matDialog=l,this.accounts=p,this.ws=f,this.analysisType="proteomics",this.composingCurtainProgress={progress:0,message:"",completed:!1,error:!1,started:!1},this.deleted=new Q,this.updated=new Q,this.form=this.fb.group({name:new S({value:"",disabled:!this.accounts.loggedIn},{validators:[M.required]}),description:new S({value:"",disabled:!this.accounts.loggedIn},{validators:[M.required]}),curtain_link:new S({value:"",disabled:!this.accounts.loggedIn})}),this.ws.curtainWSConnection?.subscribe(m=>{if(m.analysis_group_id===this.analysisGroup?.id){if(m.type==="curtain_status")switch(m.status){case"started":this.sb.open("Curtain link retrieval started","Dismiss",{duration:5e3});break;case"complete":this.sb.open("Curtain link retrieval complete","Dismiss",{duration:5e3}),this.getCurtainData();break}else if(m.type==="curtain_compose_status")switch(m.status){case"started":this.sb.open("Composing data from Curtain started","Dismiss",{duration:5e3}),this.composingCurtainProgress.progress=30,this.composingCurtainProgress.message="Removed analysis group associated data if exist";break;case"complete":this.sb.open("Composing data from Curtain completed. Please manually set Condition A and Condition B in Comparison Matrix.","Dismiss"),this.composingCurtainProgress.progress=100,this.composingCurtainProgress.message="Composing data from Curtain completed. Please manually set Condition A and Condition B in Comparison Matrix.",this.composingCurtainProgress.completed=!0,this.web.getAnalysisGroup(this.analysisGroup.id).subscribe(_=>{this.analysisGroup=_});break;case"error":this.sb.open("Error composing data from Curtain","Dismiss",{duration:5e3}),this.composingCurtainProgress.error=!0;break}}})}updateAnalysisGroup(){this.form.invalid||this.web.updateAnalysisGroup(this.analysisGroup.id,this.form.value.name,this.form.value.description,this.form.value.curtain_link,this.web.searchSessionID).subscribe(e=>{this.updated.emit(e)})}getCurtainData(){this.analysisGroup&&(this.sb.open("Retrieving curtain visualization","Dismiss",{duration:5e3}),this.web.getCurtainLinkData(this.analysisGroup.id).subscribe(e=>{this.curtainData=e,this.sb.open("Curtain visualization retrieved","Dismiss",{duration:5e3})},e=>{this.sb.open("Error retrieving curtain visualization","Dismiss",{duration:5e3}),this.curtainData=void 0}))}handleFileUploaded(e,i){i==="searched"?(this.analysisGroupSearched=e,this.sb.open("Searched File uploaded","Dismiss",{duration:5e3})):i==="df"?(this.analysisGroupDF=e,this.sb.open("Differential Analysis File uploaded","Dismiss",{duration:5e3})):i==="copy_number"&&(this.analysisGroupCopyNumber=e,this.sb.open("Copy Number Analysis File uploaded","Dismiss",{duration:5e3}))}setAnnotationModal(e){let i=this.matDialog.open(Cn);i.componentInstance.projectFile=e,this.sampleAnnotations&&(i.componentInstance.annotation=this.sampleAnnotations),i.afterClosed().subscribe(o=>{o&&(console.log(this.sampleAnnotations),this.sampleAnnotations?this.web.updateSampleAnnotation(this.sampleAnnotations.id,this.sampleAnnotations.name,o).subscribe(a=>{this.sampleAnnotations=a,this.sb.open("Sample annotation updated","Dismiss",{duration:5e3})}):this.web.createSampleAnnotation(this.analysisGroup.id,this.analysisGroup?.name+" sample annotation",o,this.analysisGroupSearched.id).subscribe(a=>{this.sampleAnnotations=a,this.sb.open("Sample annotation created","Dismiss",{duration:5e3})}))})}setComparisonMatrixModal(e,i,o){let a=this.matDialog.open(wn);a.componentInstance.sampleAnnotations=e,a.componentInstance.projectFile=o,this.comparisonMatrix&&(a.componentInstance.comparisonMatrix=this.comparisonMatrix),a.afterClosed().subscribe(s=>{s&&(this.comparisonMatrix?this.web.updateComparisonMatrix(this.comparisonMatrix.id,this.comparisonMatrix.name,s).subscribe(l=>{this.comparisonMatrix=l,this.sb.open("Comparison matrix updated","Dismiss",{duration:5e3})}):this.web.createComparisonMatrix(this.analysisGroup.id,this.analysisGroup?.name+" comparison matrix",s,o.id).subscribe(l=>{this.comparisonMatrix=l,this.sb.open("Comparison matrix created","Dismiss",{duration:5e3})}))})}deleteAnalysisGroup(){this.matDialog.open(Lt).afterClosed().subscribe(e=>{e&&this.web.deleteAnalysisGroup(this.analysisGroup.id).subscribe(()=>{this.deleted.emit(!0),this.sb.open("Analysis Group deleted","Dismiss",{duration:5e3})})})}openSearchModal(){let e=this.matDialog.open(bn);e.componentInstance.analysisGroupIDs=[this.analysisGroup.id],e.afterClosed().subscribe(i=>{i&&window.open(`/#/search-session/${i}`,"_blank")})}openExtraDataModal(e){let i=this.matDialog.open(vn);i.componentInstance.file=e,i.afterClosed().subscribe(o=>{o&&(console.log(o),this.web.updateProjectFileExtraData(e.id,o.extra_data).subscribe(a=>{e.file_category==="df"?(this.analysisGroupDF=a,this.sb.open("Differential Analysis extra data updated","Dismiss",{duration:5e3})):e.file_category==="searched"?(this.analysisGroupSearched=a,this.sb.open("Searched extra data updated","Dismiss",{duration:5e3})):e.file_category==="copy_number"&&(this.analysisGroupCopyNumber=a,this.sb.open("Copy Number extra data updated","Dismiss",{duration:5e3}))}))})}refreshCurtainLink(){this.analysisGroup&&this.web.searchSessionID&&this.web.refreshCurtainLink(this.analysisGroup.id,this.web.searchSessionID).subscribe(e=>{this.analysisGroup=e,this.sb.open("Curtain data content refreshed","Dismiss",{duration:5e3})})}handleVolcanoSelection(e){console.log(e)}composeDataFromCurtain(){this.composingCurtainProgress={progress:0,message:"",completed:!1,error:!1},this.analysisGroup&&this.web.searchSessionID&&(this.composingCurtainProgress.started=!0,this.web.composeAnalysisGroupFilesFromCurtainData(this.analysisGroup.id,this.web.searchSessionID).subscribe(e=>{this.composingCurtainProgress.progress=10,this.composingCurtainProgress.message="Data composition started",this.sb.open("Data composition started","Dismiss",{duration:5e3})}))}deleteFile(e){this.matDialog.open(Lt).afterClosed().subscribe(i=>{i&&this.web.deleteProjectFile(e.id).subscribe(()=>{e.file_category==="df"?(this.analysisGroupDF=void 0,this.sb.open("Differential Analysis File deleted","Dismiss",{duration:5e3})):e.file_category==="searched"?(this.analysisGroupSearched=void 0,this.sb.open("Searched File deleted","Dismiss",{duration:5e3})):e.file_category==="copy_number"&&(this.analysisGroupCopyNumber=void 0,this.sb.open("Copy Number Analysis File deleted","Dismiss",{duration:5e3}))})})}downloadFile(e){this.web.getFileDownloadToken(e.id).subscribe(i=>{window.open(`${this.web.baseURL}/api/project_files/download/?token=${i.token}`)})}};t.\u0275fac=function(i){return new(i||t)(y(_t),y(ht),y(mi),y(pe),y(ie),y(_i),y(ft),y(gt))},t.\u0275cmp=P({type:t,selectors:[["app-analysis-group-view"]],inputs:{analysisGroup:"analysisGroup"},outputs:{deleted:"deleted",updated:"updated"},standalone:!0,features:[j],decls:4,vars:2,consts:[[2,"display","flex","flex-direction","row","justify-content","center","flex-wrap","wrap"],[2,"display","flex","flex-direction","row","justify-content","center","padding","50px"],[2,"width","100%"],[3,"selected","curtainData"],[2,"display","flex","flex-direction","column","gap","20px","padding","20px",3,"ngSubmit","formGroup"],["matInput","","formControlName","name","type","text","placeholder","Analysis Group Name"],["matInput","","formControlName","description","placeholder","Analysis Group Description"],[2,"display","flex","flex-direction","row","gap","10px"],["matInput","","formControlName","curtain_link","type","text","placeholder","Curtain Link"],["mat-icon-button","","type","button",3,"click","disabled"],["mat-flat-button","","color","primary","type","submit",3,"disabled"],["mat-flat-button","","color","primary","type","button",3,"disabled"],[2,"display","flex","flex-direction","row","gap","20px","align-items","center"],[3,"analysisGroupId","fileCategory"],[2,"display","flex","flex-direction","row","gap","20px","padding","20px"],["mat-flat-button","","color","primary",3,"disabled"],["mat-icon-button","","color","accent",3,"click"],["mat-icon-button","",3,"click","disabled"],["target","_blank",3,"href"],[3,"value","mode","color"],["mat-flat-button","","color","primary","type","button",3,"click","disabled"],[3,"fileUploaded","analysisGroupId","fileCategory"],["mat-icon-button","",3,"click"],["mat-flat-button","","color","primary",3,"click","disabled"]],template:function(i,o){i&1&&(I(0,Jo,2,1,"div",0),c(1,"div",1)(2,"div",2),I(3,_r,53,18),d()()),i&2&&(F(o.curtainData?0:-1),g(3),F(o.analysisGroup?3:-1))},dependencies:[pt,ee,$e,de,J,ce,fe,Ue,Ae,he,te,me,ue,tn,ze,xn,bt]});let n=t;return n})();export{xr as a,cn as b,dn as c,mn as d,un as e,pn as f,hn as g,fn as h,_n as i,gn as j,yn as k,Hs as l};
