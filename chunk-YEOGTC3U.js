import"./chunk-K6UPS26T.js";import{a as K}from"./chunk-TXA6AWK7.js";import{a as Z,b as $}from"./chunk-2XRKWFHU.js";import"./chunk-MAWX3M27.js";import{a as H}from"./chunk-OOM6AWTW.js";import"./chunk-4QNTITRE.js";import"./chunk-FTJM37WF.js";import"./chunk-FNF3YX4S.js";import{a as X,b as Y}from"./chunk-EFA4RKVI.js";import"./chunk-K7QOZPBO.js";import"./chunk-Q4BTCPC6.js";import"./chunk-OG2CUBHY.js";import"./chunk-DUGR6R2K.js";import"./chunk-PTJFY6LV.js";import"./chunk-M4HDPTVA.js";import"./chunk-QNFV5FNB.js";import{c as E}from"./chunk-XE6LPW3G.js";import{Aa as B,Ca as R,Ha as U,Ia as W,La as q,Na as J,Q as V,S as Q,ka as F,oa as P,pa as j,ra as N,ta as L,wa as z,xa as O,ya as k}from"./chunk-5FWRCZN2.js";import"./chunk-HX3ESI56.js";import{l as M,p as T}from"./chunk-7KO7FTCN.js";import{Aa as c,Ba as d,Bb as G,Hb as _,Lb as o,Mb as s,Nb as v,Rb as g,Ub as h,Wb as a,fb as l,fd as D,gb as f,hc as p,ja as b,kc as S,pc as I,sa as A,ta as w,xb as y}from"./chunk-JUSXM7HP.js";function ie(t,u){if(t&1){let e=g();o(0,"div",12)(1,"app-analysis-group-list",13),h("selectedAnalysisGroup",function(n){c(e);let r=a(3);return d(r.onAnalysisGroupSelected(n))}),s()(),o(2,"mat-paginator",14,0),h("page",function(n){c(e);let r=a(3);return d(r.handlePageEvent(n))}),s()}if(t&2){let e=a(3);l(),G("analysisGroupQuery",e.analysisGroupQuery),l(),G("length",e.analysisGroupQuery.count)("pageSize",e.limit)("showFirstLastButtons",!0)("hidePageSize",!0)("pageIndex",e.pageIndex)}}function ne(t,u){t&1&&(o(0,"p"),p(1,"No analysis groups found."),s())}function oe(t,u){if(t&1&&y(0,ie,4,6)(1,ne,2,0,"p"),t&2){let e=a(2);_(e.analysisGroupQuery.count>0?0:1)}}function se(t,u){if(t&1){let e=g();o(0,"div",2)(1,"mat-toolbar")(2,"mat-toolbar-row")(3,"span"),p(4,"Analysis Group"),s(),o(5,"button",5),h("click",function(){c(e);let n=a();return d(n.openCreateAnalysisGroupDialog())}),o(6,"mat-icon"),p(7,"create_new_folder"),s()()()(),o(8,"div",8)(9,"form",9)(10,"mat-form-field",10),v(11,"input",11),o(12,"mat-label"),p(13,"Search Analysis Group"),s()()(),y(14,oe,2,1),s()()}if(t&2){let e=a();l(9),G("formGroup",e.form),l(5),_(e.analysisGroupQuery?14:-1)}}function ae(t,u){if(t&1&&p(0),t&2){let e=a();S(" ",e.selectedAnalysisGroup.name," (",e.dataService.getAnalysisGroupTypeLabel(e.selectedAnalysisGroup.analysis_group_type),") ")}}function re(t,u){t&1&&p(0," Select Analysis Group ")}function le(t,u){if(t&1){let e=g();o(0,"app-analysis-group-view",15),h("deleted",function(){c(e);let n=a();return d(n.refreshData())})("updated",function(n){c(e);let r=a();return d(r.handleUpdateData(n))}),s()}if(t&2){let e=a();G("analysisGroup",e.selectedAnalysisGroup)}}var x=(()=>{class t{set analysisGroupID(e){this._analysisGroupID=e,e&&this.web.getAnalysisGroup(e).subscribe(i=>{this.selectedAnalysisGroup=i})}get analysisGroupID(){return this._analysisGroupID}constructor(e,i,n,r,ee){this.router=e,this.dataService=i,this.fb=n,this.dialog=r,this.web=ee,this.sidebarOpen=!0,this.pageIndex=0,this.limit=15,this.offset=0,this.form=this.fb.group({name:new N}),this.web.getAnalysisGroups(void 0,this.limit,this.offset).subscribe(m=>{this.analysisGroupQuery=m}),this.form.controls.name.valueChanges.subscribe(m=>{m&&this.web.getAnalysisGroups(void 0,this.limit,this.offset,m).subscribe(C=>{this.analysisGroupQuery=C})}),this.web.updateFromLabGroupSelection.subscribe(m=>{m&&this.web.getAnalysisGroups(void 0,this.limit,this.offset).subscribe(C=>{this.analysisGroupQuery=C})})}openCreateAnalysisGroupDialog(){let e=this.dialog.open(K);e.componentInstance.enableProjectSelection=!0,e.afterClosed().subscribe(i=>{i&&this.web.getAnalysisGroups(void 0,this.limit,this.offset).subscribe(n=>{this.analysisGroupQuery=n})})}handlePageEvent(e){this.offset=e.pageIndex*e.pageSize,this.limit=e.pageSize,this.form.controls.name.value?this.web.getAnalysisGroups(void 0,this.limit,this.offset,this.form.controls.name.value).subscribe(i=>{this.analysisGroupQuery=i}):this.web.getAnalysisGroups(void 0,this.limit,this.offset).subscribe(i=>{this.analysisGroupQuery=i})}refreshData(){this.web.getAnalysisGroups(void 0,this.limit,this.offset).subscribe(e=>{this.analysisGroupQuery=e})}handleUpdateData(e){this.selectedAnalysisGroup=e,this.analysisGroupQuery.results=this.analysisGroupQuery.results.map(i=>i.id===e.id?e:i)}toggleSidePanel(){this.sidebarOpen=!this.sidebarOpen}onAnalysisGroupSelected(e){this.router.navigate(["/analysis-group",e.id])}static{this.\u0275fac=function(i){return new(i||t)(f(M),f(H),f(k),f(E),f(J))}}static{this.\u0275cmp=A({type:t,selectors:[["app-analysis-group"]],inputs:{analysisGroupID:"analysisGroupID"},standalone:!0,features:[I],decls:14,vars:3,consts:[["paginator",""],[2,"display","flex","flex-direction","row"],[1,"analysis-side-nav"],[1,"analysis-main-content"],[2,"display","flex","flex-direction","row","justify-content","center","align-items","center"],["mat-icon-button","",3,"click"],[2,"height","calc(100vh - 64px*2 - 20px)","overflow","auto"],[3,"analysisGroup"],[2,"display","flex","flex-direction","column","padding","5px"],[3,"formGroup"],[2,"width","100%"],["matInput","","formControlName","name","type","search","placeholder","Search Analysis Group"],[2,"height","calc(100vh - 64px*4 - 20px)","overflow","auto"],[3,"selectedAnalysisGroup","analysisGroupQuery"],["aria-label","Select page",3,"page","length","pageSize","showFirstLastButtons","hidePageSize","pageIndex"],[3,"deleted","updated","analysisGroup"]],template:function(i,n){i&1&&(o(0,"div",1),y(1,se,15,2,"div",2),o(2,"div",3)(3,"mat-toolbar")(4,"mat-toolbar-row")(5,"div",4)(6,"button",5),h("click",function(){return n.toggleSidePanel()}),o(7,"mat-icon"),p(8,"menu"),s()(),o(9,"span"),y(10,ae,1,2)(11,re,1,0),s()()()(),o(12,"div",6),y(13,le,1,1,"app-analysis-group-view",7),s()()()),i&2&&(l(),_(n.sidebarOpen?1:-1),l(9),_(n.selectedAnalysisGroup?10:11),l(3),_(n.selectedAnalysisGroup?13:-1))},dependencies:[U,V,Q,W,R,q,Y,X,B,L,F,P,j,z,O,Z,$],styles:[".analysis-side-nav[_ngcontent-%COMP%]{width:300px;border-right:1px solid #000000;display:flex;flex-direction:column;height:calc(100vh - 64px)}.analysis-main-content[_ngcontent-%COMP%]{flex:1}"]})}}return t})();var pe=[{path:"",component:x},{path:":analysisGroupID",component:x}],Ve=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=w({type:t})}static{this.\u0275inj=b({imports:[D,T.forChild(pe)]})}}return t})();export{Ve as AnalysisGroupModule};
