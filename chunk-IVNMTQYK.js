import"./chunk-M55CFMUN.js";import{a as J}from"./chunk-JS2SZFQP.js";import{a as Y,o as Z}from"./chunk-G64NVG3L.js";import"./chunk-LR2P6J5K.js";import{a as K,b as X}from"./chunk-YHRYSUAT.js";import{i as W,j as q}from"./chunk-SZUZUZGO.js";import{Ba as H,H as M,J as V,ba as Q,ga as E,ja as F,ka as P,ma as j,na as N,pa as z,qa as L,ra as O,ta as k,va as B,ya as R,za as U}from"./chunk-3R3VACIX.js";import{n as T}from"./chunk-KRNHEGRR.js";import"./chunk-AESYL7IM.js";import{Cb as s,Db as r,Eb as v,Ib as C,Kc as D,Lb as y,Nb as l,Xb as u,Za as p,_a as _,_b as S,ac as I,fa as b,oa as w,pa as A,rb as d,tb as h,wa as m,xa as c,yb as f}from"./chunk-FYJXFM5Q.js";function te(t,o){if(t&1){let n=C();s(0,"div",12)(1,"app-analysis-group-list",13),y("selectedAnalysisGroup",function(e){m(n);let a=l(3);return c(a.selectedAnalysisGroup=e)}),r()(),s(2,"mat-paginator",14,0),y("page",function(e){m(n);let a=l(3);return c(a.handlePageEvent(e))}),r()}if(t&2){let n=l(3);p(),h("analysisGroupQuery",n.analysisGroupQuery),p(),h("length",n.analysisGroupQuery.count)("pageSize",n.limit)("showFirstLastButtons",!0)("hidePageSize",!0)("pageIndex",n.pageIndex)}}function ie(t,o){t&1&&(s(0,"p"),u(1,"No analysis groups found."),r())}function ne(t,o){if(t&1&&d(0,te,4,6)(1,ie,2,0,"p"),t&2){let n=l(2);f(n.analysisGroupQuery.count>0?0:1)}}function oe(t,o){if(t&1){let n=C();s(0,"div",2)(1,"mat-toolbar")(2,"mat-toolbar-row")(3,"span"),u(4,"Analysis Group"),r(),s(5,"button",5),y("click",function(){m(n);let e=l();return c(e.openCreateAnalysisGroupDialog())}),s(6,"mat-icon"),u(7,"create_new_folder"),r()()()(),s(8,"div",8)(9,"form",9)(10,"mat-form-field",10),v(11,"input",11),s(12,"mat-label"),u(13,"Search Analysis Group"),r()()(),d(14,ne,2,1),r()()}if(t&2){let n=l();p(9),h("formGroup",n.form),p(5),f(n.analysisGroupQuery?14:-1)}}function se(t,o){if(t&1&&u(0),t&2){let n=l();S(" ",n.selectedAnalysisGroup.name," (",n.dataService.getAnalysisGroupTypeLabel(n.selectedAnalysisGroup.analysis_group_type),") ")}}function ae(t,o){t&1&&u(0," Select Analysis Group ")}function re(t,o){if(t&1){let n=C();s(0,"app-analysis-group-view",15),y("deleted",function(){m(n);let e=l();return c(e.refreshData())})("updated",function(e){m(n);let a=l();return c(a.handleUpdateData(e))}),r()}if(t&2){let n=l();h("analysisGroup",n.selectedAnalysisGroup)}}var G=(()=>{let o=class o{set analysisGroupID(i){this._analysisGroupID=i,i&&this.web.getAnalysisGroup(i).subscribe(e=>{this.selectedAnalysisGroup=e})}get analysisGroupID(){return this._analysisGroupID}constructor(i,e,a,x){this.dataService=i,this.fb=e,this.dialog=a,this.web=x,this.sidebarOpen=!0,this.pageIndex=0,this.limit=15,this.offset=0,this.form=this.fb.group({name:new j}),this.web.getAnalysisGroups(void 0,this.limit,this.offset).subscribe(g=>{this.analysisGroupQuery=g}),this.form.controls.name.valueChanges.subscribe(g=>{g&&this.web.getAnalysisGroups(void 0,this.limit,this.offset,g).subscribe($=>{this.analysisGroupQuery=$})})}openCreateAnalysisGroupDialog(){let i=this.dialog.open(J);i.componentInstance.enableProjectSelection=!0,i.afterClosed().subscribe(e=>{e&&this.web.getAnalysisGroups(void 0,this.limit,this.offset).subscribe(a=>{this.analysisGroupQuery=a})})}handlePageEvent(i){this.offset=i.pageIndex*i.pageSize,this.limit=i.pageSize,this.form.controls.name.value?this.web.getAnalysisGroups(void 0,this.limit,this.offset,this.form.controls.name.value).subscribe(e=>{this.analysisGroupQuery=e}):this.web.getAnalysisGroups(void 0,this.limit,this.offset).subscribe(e=>{this.analysisGroupQuery=e})}refreshData(){this.web.getAnalysisGroups(void 0,this.limit,this.offset).subscribe(i=>{this.analysisGroupQuery=i})}handleUpdateData(i){this.selectedAnalysisGroup=i,this.analysisGroupQuery.results=this.analysisGroupQuery.results.map(e=>e.id===i.id?i:e)}toggleSidePanel(){this.sidebarOpen=!this.sidebarOpen}};o.\u0275fac=function(e){return new(e||o)(_(q),_(O),_(Q),_(H))},o.\u0275cmp=w({type:o,selectors:[["app-analysis-group"]],inputs:{analysisGroupID:"analysisGroupID"},standalone:!0,features:[I],decls:14,vars:3,consts:[["paginator",""],[2,"display","flex","flex-direction","row"],[1,"analysis-side-nav"],[1,"analysis-main-content"],[2,"display","flex","flex-direction","row","justify-content","center","align-items","center"],["mat-icon-button","",3,"click"],[2,"height","calc(100vh - 64px*2 - 20px)","overflow","auto"],[3,"analysisGroup"],[2,"display","flex","flex-direction","column","padding","5px"],[3,"formGroup"],[2,"width","100%"],["matInput","","formControlName","name","type","search","placeholder","Search Analysis Group"],[2,"height","calc(100vh - 64px*4 - 20px)","overflow","auto"],[3,"selectedAnalysisGroup","analysisGroupQuery"],["aria-label","Select page",3,"page","length","pageSize","showFirstLastButtons","hidePageSize","pageIndex"],[3,"deleted","updated","analysisGroup"]],template:function(e,a){e&1&&(s(0,"div",1),d(1,oe,15,2,"div",2),s(2,"div",3)(3,"mat-toolbar")(4,"mat-toolbar-row")(5,"div",4)(6,"button",5),y("click",function(){return a.toggleSidePanel()}),s(7,"mat-icon"),u(8,"menu"),r()(),s(9,"span"),d(10,se,1,2)(11,ae,1,0),r()()()(),s(12,"div",6),d(13,re,1,1,"app-analysis-group-view",7),r()()()),e&2&&(p(),f(a.sidebarOpen?1:-1),p(9),f(a.selectedAnalysisGroup?10:11),p(3),f(a.selectedAnalysisGroup?13:-1))},dependencies:[R,M,V,U,B,W,X,K,k,N,E,F,P,z,L,Y,Z],styles:[".analysis-side-nav[_ngcontent-%COMP%]{width:300px;border-right:1px solid #000000;display:flex;flex-direction:column;height:calc(100vh - 64px)}.analysis-main-content[_ngcontent-%COMP%]{flex:1}"]});let t=o;return t})();var le=[{path:"",component:G},{path:":analysisGroupID",component:G}],Te=(()=>{let o=class o{};o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=A({type:o}),o.\u0275inj=b({imports:[D,T.forChild(le)]});let t=o;return t})();export{Te as AnalysisGroupModule};
