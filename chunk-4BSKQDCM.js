import{b as H,c as J,d as K,e as U,f as X,g as Y,h as Z}from"./chunk-LRN7XJLX.js";import{Ba as ee,E as M,I as A,aa as w,ca as E,da as F,ea as L,ga as N,ha as d,ja as k,ka as V,ma as m,na as Q,pa as R,qa as q,ra as $,ta as z,va as B,ya as O,za as W}from"./chunk-L4Z5GNPN.js";import{$b as T,Ab as b,Bb as x,Cb as a,Db as r,Eb as C,Ib as D,Lb as j,Nb as u,Xb as c,Za as s,Zb as y,_a as f,ea as S,oa as P,rb as h,tb as p,wa as G,xa as I,yb as g}from"./chunk-QZPYU5ZS.js";var te=(()=>{let t=class t{constructor(){this.analysisGroupChoices=[{value:"proteomics",label:"Proteomics"},{value:"ptm",label:"Post-translational Modification"},{value:"proteogenomics",label:"Proteogenomics"},{value:"metabolomics",label:"Metabolomics"},{value:"lipidomics",label:"Lipidomics"},{value:"glycomics",label:"Glycomics"},{value:"glycoproteomics",label:"Glycoproteomics"}]}};t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=S({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var re=(e,t)=>t.value,ne=(e,t)=>t.id;function le(e,t){if(e&1&&(a(0,"mat-list-option",6),c(1),r()),e&2){let i=t.$implicit;p("value",i),s(),y(" ",i.name," ")}}function se(e,t){if(e&1){let i=D();a(0,"mat-selection-list",10),b(1,le,2,2,"mat-list-option",6,ne),r(),a(3,"mat-paginator",11),j("page",function(n){G(i);let l=u(3);return I(l.handlePageEvent(n))}),r()}if(e&2){let i=u(3);p("multiple",!1),s(),x(i.projectQuery.results),s(2),p("pageSize",i.projectPageLimit)("length",i.projectQuery.count)("pageIndex",i.projectPageIndex)}}function ce(e,t){if(e&1&&h(0,se,4,4),e&2){let i=u(2);g(i.projectQuery.results.length>0?0:-1)}}function me(e,t){if(e&1&&(a(0,"form",1)(1,"mat-form-field",8),C(2,"input",9),a(3,"mat-label"),c(4,"Project Search Term"),r()(),h(5,ce,1,1),r()),e&2){let i=u();p("formGroup",i.formProjectSearch),s(5),g(i.projectQuery?5:-1)}}function pe(e,t){if(e&1&&(a(0,"mat-list")(1,"mat-list-item")(2,"span",12)(3,"b"),c(4),r()()()()),e&2){let i=u();s(4),y("Selected project: ",i.project.name,"")}}function ue(e,t){if(e&1&&(a(0,"mat-option",6),c(1),r()),e&2){let i=t.$implicit;p("value",i.value),s(),y(" ",i.label," ")}}var Se=(()=>{let t=class t{set project(o){this._project=o,this.form.controls.project_id.setValue(o.id),this.form.controls.project_name.setValue(o.name)}get project(){return this._project}constructor(o,n,l,v){this.dataService=o,this.web=n,this.fb=l,this.matDialogRef=v,this.enableProjectSelection=!1,this.form=this.fb.group({name:new m("",d.required),description:new m("",d.required),project_name:new m("",d.required),project_id:new m(0,d.required),analysis_group_type:new m("",d.required)}),this.formProjectSearch=this.fb.group({searchTerm:new m(""),selectedProject:new m(void 0)}),this.projectPageLimit=5,this.projectPageIndex=0,this.projectQuery=void 0,this.analysisGroupTypeChoices=[""],this.formProjectSearch.controls.selectedProject.valueChanges.subscribe(_=>{_&&(this.project=_[0])}),this.formProjectSearch.controls.searchTerm.valueChanges.subscribe(_=>{this.web.getProjects(void 0,this.projectPageLimit,0,_).subscribe(ie=>{this.projectQuery=ie})})}close(){this.matDialogRef.close()}submit(){this.form.valid&&this.project&&this.form.value.name&&this.form.value.description&&this.form.value.project_id&&this.form.value.analysis_group_type&&this.web.createAnalysisGroup(this.form.value.name,this.form.value.description,this.form.value.project_id,this.form.value.analysis_group_type).subscribe(o=>{this.matDialogRef.close(o)},o=>{this.matDialogRef.close(o)})}getProjects(o,n){this.web.getProjects(void 0,n,o,this.formProjectSearch.value.searchTerm).subscribe(l=>{this.projectQuery=l})}handlePageEvent(o){this.projectPageIndex=o.pageIndex;let n=o.pageIndex*o.pageSize;this.getProjects(n,this.projectPageLimit)}};t.\u0275fac=function(n){return new(n||t)(f(te),f(ee),f($),f(w))},t.\u0275cmp=P({type:t,selectors:[["app-create-analysis-group-dialog"]],inputs:{enableProjectSelection:"enableProjectSelection",project:"project"},standalone:!0,features:[T],decls:25,vars:3,consts:[["mat-dialog-title",""],[3,"formGroup"],[2,"display","flex","flex-direction","column","gap","1px",3,"formGroup"],["matInput","","formControlName","name","type","text","placeholder","Analysis Group Name"],["matInput","","formControlName","description","placeholder","Analysis Group Description"],["formControlName","analysis_group_type"],[3,"value"],["mat-button","",3,"click"],[2,"width","100%"],["matInput","","formControlName","searchTerm","placeholder","Project Search","type","search"],["formControlName","selectedProject",3,"multiple"],[3,"page","pageSize","length","pageIndex"],["matListItemTitle",""]],template:function(n,l){n&1&&(a(0,"h2",0),c(1,"Create Analysis Group"),r(),a(2,"mat-dialog-content"),h(3,me,6,2,"form",1),a(4,"form",2),h(5,pe,5,1,"mat-list"),a(6,"mat-form-field"),C(7,"input",3),a(8,"mat-label"),c(9,"Analysis Group Name"),r()(),a(10,"mat-form-field"),C(11,"textarea",4),a(12,"mat-label"),c(13,"Analysis Group Description"),r()(),a(14,"mat-form-field")(15,"mat-select",5),b(16,ue,2,2,"mat-option",6,re),r(),a(18,"mat-label"),c(19,"Analysis Group Type"),r()()()(),a(20,"mat-dialog-actions")(21,"button",7),j("click",function(){return l.submit()}),c(22,"Create"),r(),a(23,"button",7),j("click",function(){return l.close()}),c(24,"Close"),r()()),n&2&&(s(3),g(l.enableProjectSelection?3:-1),s(),p("formGroup",l.form),s(),g(l.project?5:-1),s(11),x(l.dataService.analysisGroupChoices))},dependencies:[E,F,z,Q,N,k,V,R,q,O,W,L,A,X,U,J,K,B,H,Y,Z,M]});let e=t;return e})();export{Se as a};
