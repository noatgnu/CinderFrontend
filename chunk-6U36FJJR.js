import{a as j,c as w}from"./chunk-TSMHSBKG.js";import{a as Q,b as W}from"./chunk-D25H7K5U.js";import{a as P}from"./chunk-HQFSCXZS.js";import{a as O}from"./chunk-HT2TXY4M.js";import{Aa as z,Ca as H,Ea as Y,Ja as $,Ka as J,La as K,Q as E,R as N,ma as D,oa as R,qa as V,ra as B,va as G,ya as A,za as q}from"./chunk-RBHTY4FE.js";import"./chunk-4N6BO7AP.js";import{c as L,p as I}from"./chunk-KCCSOALX.js";import{Aa as S,Ba as y,Bb as M,Hb as u,Lb as o,Mb as r,Nb as d,Rb as U,Ub as v,Wb as g,ed as _,fb as p,gb as m,gc as a,ia as C,ic as F,ja as x,na as T,oc as f,sa as c,ta as b,xb as l}from"./chunk-QNTGE4BG.js";var X=(()=>{let e=class e{constructor(n){this.http=n,this.baseURL=K.baseURL}generateUserToken(n){return this.http.post(`${this.baseURL}/api/users/generate_token/`,{username:n},{responseType:"json",observe:"body"})}};e.\u0275fac=function(i){return new(i||e)(T(L))},e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function ie(t,e){if(t&1){let h=U();o(0,"mat-card",3)(1,"mat-card-content")(2,"p"),a(3),r(),o(4,"div",4)(5,"span"),a(6,"Copy Link:"),r(),o(7,"mat-icon",5),v("click",function(){S(h);let i=g();return y(i.copyTokenLink())}),a(8,"content_paste"),r()()()()}if(t&2){let h=g();p(3),F(" Username: ",h.userTokenForm.value.username," ")}}var Z=(()=>{let e=class e{constructor(n,i,s){this.adminService=n,this.fb=i,this.snackBar=s,this.userTokenForm=this.fb.group({username:["",R.required]}),this.userTokenLink=""}createUserToken(){this.userTokenForm.invalid||this.userTokenForm.value.username&&this.adminService.generateUserToken(this.userTokenForm.value.username).subscribe(n=>{this.userTokenLink=location.protocol+"//"+location.host+"#/user/register/"+n.token})}copyTokenLink(){navigator.clipboard.writeText(this.userTokenLink).then(()=>{this.snackBar.open("Link copied to clipboard","Close",{duration:2e3})})}};e.\u0275fac=function(i){return new(i||e)(m(X),m(z),m(P))},e.\u0275cmp=c({type:e,selectors:[["app-user-management"]],standalone:!0,features:[f],decls:11,vars:2,consts:[[2,"display","flex","flex-direction","column","gap","20px","padding","20px",3,"ngSubmit","formGroup"],["matInput","","formControlName","username","placeholder","Username","type","text"],["mat-raised-button","","color","primary","type","submit"],["appearance","outlined"],[2,"display","flex","align-items","center"],[3,"click"]],template:function(i,s){i&1&&(o(0,"h1"),a(1,"Create User"),r(),o(2,"form",0),v("ngSubmit",function(){return s.createUserToken()}),o(3,"mat-form-field"),d(4,"input",1),o(5,"mat-label"),a(6,"Username"),r()(),o(7,"div")(8,"button",2),a(9,"Create User Registration Token Link"),r()(),l(10,ie,9,1,"mat-card",3),r()),i&2&&(p(2),M("formGroup",s.userTokenForm),p(8),u(s.userTokenLink?10:-1))},dependencies:[H,G,D,V,B,A,q,Y,J,$,N,j,w,E]});let t=e;return t})();function ne(t,e){t&1&&(o(0,"div",0)(1,"div",1)(2,"mat-tab-group")(3,"mat-tab",2),d(4,"app-user-management"),r()()()())}function oe(t,e){t&1&&(o(0,"div",0)(1,"p"),a(2," You are not authorized to view this page. "),r()())}var ee=(()=>{let e=class e{constructor(n){this.accounts=n,this.isStaff=!1,console.log(this.accounts.currentUser),this.isStaff=this.accounts.currentUser?.is_staff||!1}};e.\u0275fac=function(i){return new(i||e)(m(O))},e.\u0275cmp=c({type:e,selectors:[["app-admin"]],standalone:!0,features:[f],decls:2,vars:1,consts:[[2,"display","flex","flex-direction","column","align-items","center","gap","20px"],[2,"width","600px"],["label","User Management"]],template:function(i,s){i&1&&l(0,ne,5,0,"div",0)(1,oe,3,0,"div",0),i&2&&u(s.isStaff?0:1)},dependencies:[W,Q,Z]});let t=e;return t})();var re=[{path:"",component:ee}],Me=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=b({type:e}),e.\u0275inj=x({imports:[_,I.forChild(re)]});let t=e;return t})();export{Me as AdminModule};
