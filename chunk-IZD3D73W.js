import"./chunk-TOL7AFVS.js";import{a as q}from"./chunk-5FUWCK4B.js";import{a as K,l as X}from"./chunk-HUAFVPSX.js";import"./chunk-FIHDPJLG.js";import"./chunk-A6LUJ5IH.js";import{a as H,b as J}from"./chunk-BMPRVVBF.js";import{h as U}from"./chunk-JIDGBZP6.js";import{Aa as W,H as M,J as Q,aa as T,fa as V,ia as E,ja as F,la as N,ma as P,oa as j,pa as z,qa as L,sa as B,ua as k,xa as R,ya as O}from"./chunk-3ISCNT2B.js";import{m as D}from"./chunk-G7EKL6OO.js";import"./chunk-AESYL7IM.js";import{$b as S,Cb as a,Db as r,Eb as A,Ib as g,Jc as I,Lb as _,Nb as l,Xb as m,Za as u,Zb as v,_a as G,fa as x,oa as b,pa as w,rb as f,tb as y,wa as c,xa as d,yb as h}from"./chunk-SHGYA7ZZ.js";function $(t,n){if(t&1){let o=g();a(0,"div",11)(1,"app-analysis-group-list",12),_("selectedAnalysisGroup",function(e){c(o);let s=l(2);return d(s.selectedAnalysisGroup=e)}),r()(),a(2,"mat-paginator",13,0),_("page",function(e){c(o);let s=l(2);return d(s.handlePageEvent(e))}),r()}if(t&2){let o=l(2);u(),y("analysisGroupQuery",o.analysisGroupQuery),u(),y("length",o.analysisGroupQuery.count)("pageSize",o.limit)("showFirstLastButtons",!0)("hidePageSize",!0)("pageIndex",o.pageIndex)}}function ee(t,n){t&1&&(a(0,"p"),m(1,"No analysis groups found."),r())}function te(t,n){if(t&1&&f(0,$,4,6)(1,ee,2,0,"p"),t&2){let o=l();h(o.analysisGroupQuery.count>0?0:1)}}function ie(t,n){if(t&1&&m(0),t&2){let o=l();v(" ",o.selectedAnalysisGroup.name," ")}}function ne(t,n){t&1&&m(0," Select Analysis Group ")}function oe(t,n){if(t&1){let o=g();a(0,"app-analysis-group-view",14),_("deleted",function(){c(o);let e=l();return d(e.refreshData())})("updated",function(e){c(o);let s=l();return d(s.handleUpdateData(e))}),r()}if(t&2){let o=l();y("analysisGroup",o.selectedAnalysisGroup)}}var C=(()=>{let n=class n{set analysisGroupID(i){this._analysisGroupID=i,i&&this.web.getAnalysisGroup(i).subscribe(e=>{this.selectedAnalysisGroup=e})}get analysisGroupID(){return this._analysisGroupID}constructor(i,e,s){this.fb=i,this.dialog=e,this.web=s,this.pageIndex=0,this.limit=15,this.offset=0,this.form=this.fb.group({name:new N}),this.web.getAnalysisGroups(void 0,this.limit,this.offset).subscribe(p=>{this.analysisGroupQuery=p}),this.form.controls.name.valueChanges.subscribe(p=>{p&&this.web.getAnalysisGroups(void 0,this.limit,this.offset,p).subscribe(Y=>{this.analysisGroupQuery=Y})})}openCreateAnalysisGroupDialog(){this.dialog.open(q).afterClosed().subscribe(e=>{e&&this.web.createAnalysisGroup(e.name,e.description,e.project_id).subscribe(s=>{this.web.getAnalysisGroups(void 0,this.limit,this.offset).subscribe(p=>{this.analysisGroupQuery=p})})})}handlePageEvent(i){this.offset=i.pageIndex*i.pageSize,this.limit=i.pageSize,this.form.controls.name.value?this.web.getAnalysisGroups(void 0,this.limit,this.offset,this.form.controls.name.value).subscribe(e=>{this.analysisGroupQuery=e}):this.web.getAnalysisGroups(void 0,this.limit,this.offset).subscribe(e=>{this.analysisGroupQuery=e})}refreshData(){this.web.getAnalysisGroups(void 0,this.limit,this.offset).subscribe(i=>{this.analysisGroupQuery=i})}handleUpdateData(i){this.selectedAnalysisGroup=i,this.analysisGroupQuery.results=this.analysisGroupQuery.results.map(e=>e.id===i.id?i:e)}};n.\u0275fac=function(e){return new(e||n)(G(L),G(T),G(W))},n.\u0275cmp=b({type:n,selectors:[["app-analysis-group"]],inputs:{analysisGroupID:"analysisGroupID"},standalone:!0,features:[S],decls:23,vars:4,consts:[["paginator",""],[2,"display","flex","flex-direction","row"],[1,"analysis-side-nav"],["mat-icon-button","",3,"click"],[2,"display","flex","flex-direction","column","padding","5px"],[3,"formGroup"],[2,"width","100%"],["matInput","","formControlName","name","type","search","placeholder","Search Analysis Group"],[1,"analysis-main-content"],[2,"height","calc(100vh - 64px*2 - 20px)","overflow","auto"],[3,"analysisGroup"],[2,"height","calc(100vh - 64px*4 - 20px)","overflow","auto"],[3,"selectedAnalysisGroup","analysisGroupQuery"],["aria-label","Select page",3,"page","length","pageSize","showFirstLastButtons","hidePageSize","pageIndex"],[3,"deleted","updated","analysisGroup"]],template:function(e,s){e&1&&(a(0,"div",1)(1,"div",2)(2,"mat-toolbar")(3,"mat-toolbar-row")(4,"span"),m(5,"Analysis Group"),r(),a(6,"button",3),_("click",function(){return s.openCreateAnalysisGroupDialog()}),a(7,"mat-icon"),m(8,"create_new_folder"),r()()()(),a(9,"div",4)(10,"form",5)(11,"mat-form-field",6),A(12,"input",7),a(13,"mat-label"),m(14,"Search Analysis Group"),r()()(),f(15,te,2,1),r()(),a(16,"div",8)(17,"mat-toolbar")(18,"mat-toolbar-row"),f(19,ie,1,1)(20,ne,1,0),r()(),a(21,"div",9),f(22,oe,1,1,"app-analysis-group-view",10),r()()()),e&2&&(u(10),y("formGroup",s.form),u(5),h(s.analysisGroupQuery?15:-1),u(4),h(s.selectedAnalysisGroup?19:20),u(3),h(s.selectedAnalysisGroup?22:-1))},dependencies:[R,M,Q,O,k,U,J,H,B,P,V,E,F,j,z,K,X],styles:[".analysis-side-nav[_ngcontent-%COMP%]{width:300px;border-right:1px solid #000000;display:flex;flex-direction:column;height:calc(100vh - 64px)}.analysis-main-content[_ngcontent-%COMP%]{flex:1}"]});let t=n;return t})();var se=[{path:"",component:C},{path:":analysisGroupID",component:C}],ve=(()=>{let n=class n{};n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=w({type:n}),n.\u0275inj=x({imports:[I,D.forChild(se)]});let t=n;return t})();export{ve as AnalysisGroupModule};
