import"./chunk-J5V4MZWJ.js";import{a as K}from"./chunk-TWYGZBNQ.js";import{a as Z,l as $}from"./chunk-SRBXW54K.js";import"./chunk-Y5K2TLQT.js";import"./chunk-EMYDG2KM.js";import{a as H}from"./chunk-4OFRY6ME.js";import"./chunk-JBBKFG6I.js";import"./chunk-X64VYV7J.js";import"./chunk-TJ3D6LW6.js";import"./chunk-FSTE6YFW.js";import{a as X,b as Y}from"./chunk-IAYU7FS6.js";import{j as q}from"./chunk-X4AM5N5B.js";import{Aa as O,Ba as k,Da as B,Fa as R,Ia as U,Ja as W,La as J,O as V,Q,ia as E,na as F,ra as P,sa as j,ua as N,wa as z,za as L}from"./chunk-U4WNT33K.js";import{l as T,p as M}from"./chunk-BXDEQJE3.js";import"./chunk-4N6BO7AP.js";import{Fb as y,Jb as s,Kb as r,Lb as v,Pb as G,Sb as _,Ub as l,cd as D,db as p,eb as d,ec as u,ha as b,hc as S,mc as I,qa as A,ra as w,vb as f,ya as m,za as c,zb as h}from"./chunk-J6UGUFXD.js";function ne(i,o){if(i&1){let n=G();s(0,"div",12)(1,"app-analysis-group-list",13),_("selectedAnalysisGroup",function(e){m(n);let a=l(3);return c(a.onAnalysisGroupSelected(e))}),r()(),s(2,"mat-paginator",14,0),_("page",function(e){m(n);let a=l(3);return c(a.handlePageEvent(e))}),r()}if(i&2){let n=l(3);p(),h("analysisGroupQuery",n.analysisGroupQuery),p(),h("length",n.analysisGroupQuery.count)("pageSize",n.limit)("showFirstLastButtons",!0)("hidePageSize",!0)("pageIndex",n.pageIndex)}}function oe(i,o){i&1&&(s(0,"p"),u(1,"No analysis groups found."),r())}function se(i,o){if(i&1&&f(0,ne,4,6)(1,oe,2,0,"p"),i&2){let n=l(2);y(n.analysisGroupQuery.count>0?0:1)}}function ae(i,o){if(i&1){let n=G();s(0,"div",2)(1,"mat-toolbar")(2,"mat-toolbar-row")(3,"span"),u(4,"Analysis Group"),r(),s(5,"button",5),_("click",function(){m(n);let e=l();return c(e.openCreateAnalysisGroupDialog())}),s(6,"mat-icon"),u(7,"create_new_folder"),r()()()(),s(8,"div",8)(9,"form",9)(10,"mat-form-field",10),v(11,"input",11),s(12,"mat-label"),u(13,"Search Analysis Group"),r()()(),f(14,se,2,1),r()()}if(i&2){let n=l();p(9),h("formGroup",n.form),p(5),y(n.analysisGroupQuery?14:-1)}}function re(i,o){if(i&1&&u(0),i&2){let n=l();S(" ",n.selectedAnalysisGroup.name," (",n.dataService.getAnalysisGroupTypeLabel(n.selectedAnalysisGroup.analysis_group_type),") ")}}function le(i,o){i&1&&u(0," Select Analysis Group ")}function pe(i,o){if(i&1){let n=G();s(0,"app-analysis-group-view",15),_("deleted",function(){m(n);let e=l();return c(e.refreshData())})("updated",function(e){m(n);let a=l();return c(a.handleUpdateData(e))}),r()}if(i&2){let n=l();h("analysisGroup",n.selectedAnalysisGroup)}}var C=(()=>{let o=class o{set analysisGroupID(t){this._analysisGroupID=t,t&&this.web.getAnalysisGroup(t).subscribe(e=>{this.selectedAnalysisGroup=e})}get analysisGroupID(){return this._analysisGroupID}constructor(t,e,a,x,ee){this.router=t,this.dataService=e,this.fb=a,this.dialog=x,this.web=ee,this.sidebarOpen=!0,this.pageIndex=0,this.limit=15,this.offset=0,this.form=this.fb.group({name:new N}),this.web.getAnalysisGroups(void 0,this.limit,this.offset).subscribe(g=>{this.analysisGroupQuery=g}),this.form.controls.name.valueChanges.subscribe(g=>{g&&this.web.getAnalysisGroups(void 0,this.limit,this.offset,g).subscribe(te=>{this.analysisGroupQuery=te})})}openCreateAnalysisGroupDialog(){let t=this.dialog.open(K);t.componentInstance.enableProjectSelection=!0,t.afterClosed().subscribe(e=>{e&&this.web.getAnalysisGroups(void 0,this.limit,this.offset).subscribe(a=>{this.analysisGroupQuery=a})})}handlePageEvent(t){this.offset=t.pageIndex*t.pageSize,this.limit=t.pageSize,this.form.controls.name.value?this.web.getAnalysisGroups(void 0,this.limit,this.offset,this.form.controls.name.value).subscribe(e=>{this.analysisGroupQuery=e}):this.web.getAnalysisGroups(void 0,this.limit,this.offset).subscribe(e=>{this.analysisGroupQuery=e})}refreshData(){this.web.getAnalysisGroups(void 0,this.limit,this.offset).subscribe(t=>{this.analysisGroupQuery=t})}handleUpdateData(t){this.selectedAnalysisGroup=t,this.analysisGroupQuery.results=this.analysisGroupQuery.results.map(e=>e.id===t.id?t:e)}toggleSidePanel(){this.sidebarOpen=!this.sidebarOpen}onAnalysisGroupSelected(t){this.router.navigate(["/analysis-group",t.id])}};o.\u0275fac=function(e){return new(e||o)(d(T),d(H),d(k),d(E),d(J))},o.\u0275cmp=A({type:o,selectors:[["app-analysis-group"]],inputs:{analysisGroupID:"analysisGroupID"},standalone:!0,features:[I],decls:14,vars:3,consts:[["paginator",""],[2,"display","flex","flex-direction","row"],[1,"analysis-side-nav"],[1,"analysis-main-content"],[2,"display","flex","flex-direction","row","justify-content","center","align-items","center"],["mat-icon-button","",3,"click"],[2,"height","calc(100vh - 64px*2 - 20px)","overflow","auto"],[3,"analysisGroup"],[2,"display","flex","flex-direction","column","padding","5px"],[3,"formGroup"],[2,"width","100%"],["matInput","","formControlName","name","type","search","placeholder","Search Analysis Group"],[2,"height","calc(100vh - 64px*4 - 20px)","overflow","auto"],[3,"selectedAnalysisGroup","analysisGroupQuery"],["aria-label","Select page",3,"page","length","pageSize","showFirstLastButtons","hidePageSize","pageIndex"],[3,"deleted","updated","analysisGroup"]],template:function(e,a){e&1&&(s(0,"div",1),f(1,ae,15,2,"div",2),s(2,"div",3)(3,"mat-toolbar")(4,"mat-toolbar-row")(5,"div",4)(6,"button",5),_("click",function(){return a.toggleSidePanel()}),s(7,"mat-icon"),u(8,"menu"),r()(),s(9,"span"),f(10,re,1,2)(11,le,1,0),r()()()(),s(12,"div",6),f(13,pe,1,1,"app-analysis-group-view",7),r()()()),e&2&&(p(),y(a.sidebarOpen?1:-1),p(9),y(a.selectedAnalysisGroup?10:11),p(3),y(a.selectedAnalysisGroup?13:-1))},dependencies:[U,V,Q,W,R,q,Y,X,B,z,F,P,j,L,O,Z,$],styles:[".analysis-side-nav[_ngcontent-%COMP%]{width:300px;border-right:1px solid #000000;display:flex;flex-direction:column;height:calc(100vh - 64px)}.analysis-main-content[_ngcontent-%COMP%]{flex:1}"]});let i=o;return i})();var ue=[{path:"",component:C},{path:":analysisGroupID",component:C}],Qe=(()=>{let o=class o{};o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=w({type:o}),o.\u0275inj=b({imports:[D,M.forChild(ue)]});let i=o;return i})();export{Qe as AnalysisGroupModule};
