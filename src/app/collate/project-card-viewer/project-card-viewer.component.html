@if (project) {
  <mat-card appearance="outlined">
    <mat-card-header cdkDragHandle>
      <mat-card-title><span style="color:#ba0000">{{ project.name }}</span></mat-card-title>
      <mat-card-subtitle>{{ project.description }}</mat-card-subtitle>
    </mat-card-header>
    <mat-card-content>
      <div cdkDropList (cdkDropListDropped)="drop($event)" style="display: flex; gap: 20px; flex-wrap: wrap; justify-content: center">
        @if (searchResults.length > 0) {
          @for (s of searchResults; track s.id) {
            <div cdkDrag>
              @if (s.searched_data.length > 0) {
                <div>
                  <app-bar-chart [colorMap]="colorMap" [data]="s"></app-bar-chart>
                </div>
              } @else {
                <div>
                  <p>No data found for this search</p>
                </div>
              }
              <button mat-icon-button cdkDragHandle><mat-icon>drag_handle</mat-icon></button>
            </div>
          }
        } @else {
          <p>No search results found in this project</p>
        }
      </div>
    </mat-card-content>
    @if (accounts.loggedIn) {
      <mat-card-actions>
        <button mat-button color="primary" (click)="deleteProject.emit(project)"><mat-icon>delete</mat-icon></button>
      </mat-card-actions>
    }
  </mat-card>
}
