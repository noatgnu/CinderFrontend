import{b as J}from"./chunk-54H6KG54.js";import{a as K,l as X}from"./chunk-JZNDLJT4.js";import"./chunk-XR2I7HWO.js";import{h as q}from"./chunk-5YSNDHRT.js";import{$ as F,E as M,F as Q,I as T,J as E,ea as V,ha as N,ia as P,ka as j,la as z,na as L,oa as B,pa as k,ra as R,ta as O,wa as U,xa as W,za as H}from"./chunk-H4GRKNEN.js";import{m as D}from"./chunk-ZOIK2NCC.js";import"./chunk-AESYL7IM.js";import{Ab as a,Bb as r,Cb as G,Dc as I,Gb as x,Ib as g,Jb as l,Tb as m,Vb as v,Xa as u,Xb as S,Ya as _,da as b,ma as w,na as A,pb as c,rb as d,ua as y,va as h,wb as f}from"./chunk-EU3335TE.js";function $(t,n){if(t&1){let o=x();a(0,"div",11),G(1,"app-analysis-group-list",12),r(),a(2,"mat-paginator",13,0),g("page",function(e){y(o);let s=l(2);return h(s.handlePageEvent(e))}),r()}if(t&2){let o=l(2);u(),d("analysisGroupQuery",o.analysisGroupQuery),u(),d("length",o.analysisGroupQuery.count)("pageSize",o.limit)("showFirstLastButtons",!0)("hidePageSize",!0)("pageIndex",o.pageIndex)}}function ee(t,n){t&1&&(a(0,"p"),m(1,"No analysis groups found."),r())}function te(t,n){if(t&1&&c(0,$,4,6)(1,ee,2,0,"p"),t&2){let o=l();f(o.analysisGroupQuery.count>0?0:1)}}function ie(t,n){if(t&1&&m(0),t&2){let o=l();v(" ",o.selectedAnalysisGroup.name," ")}}function ne(t,n){t&1&&m(0," Select Analysis Group ")}function oe(t,n){if(t&1){let o=x();a(0,"app-analysis-group-view",14),g("deleted",function(){y(o);let e=l();return h(e.refreshData())})("updated",function(e){y(o);let s=l();return h(s.handleUpdateData(e))}),r()}if(t&2){let o=l();d("analysisGroup",o.selectedAnalysisGroup)}}var C=(()=>{let n=class n{set analysisGroupID(i){this._analysisGroupID=i,i&&this.web.getAnalysisGroup(i).subscribe(e=>{this.selectedAnalysisGroup=e})}get analysisGroupID(){return this._analysisGroupID}constructor(i,e,s){this.fb=i,this.dialog=e,this.web=s,this.pageIndex=0,this.limit=15,this.offset=0,this.form=this.fb.group({name:new j}),this.web.getAnalysisGroups(void 0,this.limit,this.offset).subscribe(p=>{this.analysisGroupQuery=p}),this.form.controls.name.valueChanges.subscribe(p=>{p&&this.web.getAnalysisGroups(void 0,this.limit,this.offset,p).subscribe(Y=>{this.analysisGroupQuery=Y})})}openCreateAnalysisGroupDialog(){this.dialog.open(J).afterClosed().subscribe(e=>{e&&this.web.createAnalysisGroup(e.name,e.description,e.project_id).subscribe(s=>{this.web.getAnalysisGroups(void 0,this.limit,this.offset).subscribe(p=>{this.analysisGroupQuery=p})})})}handlePageEvent(i){this.offset=i.pageIndex*i.pageSize,this.limit=i.pageSize,this.form.controls.name.value?this.web.getAnalysisGroups(void 0,this.limit,this.offset,this.form.controls.name.value).subscribe(e=>{this.analysisGroupQuery=e}):this.web.getAnalysisGroups(void 0,this.limit,this.offset).subscribe(e=>{this.analysisGroupQuery=e})}refreshData(){this.web.getAnalysisGroups(void 0,this.limit,this.offset).subscribe(i=>{this.analysisGroupQuery=i})}handleUpdateData(i){this.selectedAnalysisGroup=i,this.analysisGroupQuery.results=this.analysisGroupQuery.results.map(e=>e.id===i.id?i:e)}};n.\u0275fac=function(e){return new(e||n)(_(k),_(F),_(H))},n.\u0275cmp=w({type:n,selectors:[["app-analysis-group"]],inputs:{analysisGroupID:"analysisGroupID"},standalone:!0,features:[S],decls:23,vars:4,consts:[["paginator",""],[2,"display","flex","flex-direction","row"],[1,"analysis-side-nav"],["mat-icon-button","",3,"click"],[2,"display","flex","flex-direction","column","padding","5px"],[3,"formGroup"],[2,"width","100%"],["matInput","","formControlName","name","type","search","placeholder","Search Analysis Group"],[1,"analysis-main-content"],[2,"height","calc(100vh - 64px*2 - 20px)","overflow","auto"],[3,"analysisGroup"],[2,"height","calc(100vh - 64px*4 - 20px)","overflow","auto"],[3,"analysisGroupQuery"],["aria-label","Select page",3,"page","length","pageSize","showFirstLastButtons","hidePageSize","pageIndex"],[3,"deleted","updated","analysisGroup"]],template:function(e,s){e&1&&(a(0,"div",1)(1,"div",2)(2,"mat-toolbar")(3,"mat-toolbar-row")(4,"span"),m(5,"Analysis Group"),r(),a(6,"button",3),g("click",function(){return s.openCreateAnalysisGroupDialog()}),a(7,"mat-icon"),m(8,"create_new_folder"),r()()()(),a(9,"div",4)(10,"form",5)(11,"mat-form-field",6),G(12,"input",7),a(13,"mat-label"),m(14,"Search Analysis Group"),r()()(),c(15,te,2,1),r()(),a(16,"div",8)(17,"mat-toolbar")(18,"mat-toolbar-row"),c(19,ie,1,1)(20,ne,1,0),r()(),a(21,"div",9),c(22,oe,1,1,"app-analysis-group-view",10),r()()()),e&2&&(u(10),d("formGroup",s.form),u(5),f(s.analysisGroupQuery?15:-1),u(4),f(s.selectedAnalysisGroup?19:20),u(3),f(s.selectedAnalysisGroup?22:-1))},dependencies:[U,E,T,W,O,q,Q,M,R,z,V,N,P,L,B,K,X],styles:[".analysis-side-nav[_ngcontent-%COMP%]{width:300px;border-right:1px solid #000000;display:flex;flex-direction:column;height:calc(100vh - 64px)}.analysis-main-content[_ngcontent-%COMP%]{flex:1}"]});let t=n;return t})();var se=[{path:"",component:C},{path:":analysisGroupID",component:C}],ve=(()=>{let n=class n{};n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=A({type:n}),n.\u0275inj=b({imports:[I,D.forChild(se)]});let t=n;return t})();export{ve as AnalysisGroupModule};
