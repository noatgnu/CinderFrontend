import"./chunk-CTBE4FYA.js";import{a as J}from"./chunk-U5EUXTHN.js";import{a as Y,b as Z}from"./chunk-QC2WPBNW.js";import"./chunk-TKI47ZKI.js";import{a as q}from"./chunk-VRTDKVJQ.js";import"./chunk-65KTLK7U.js";import"./chunk-X5NKNXFV.js";import"./chunk-DGPBGSKE.js";import{a as K,b as X}from"./chunk-3U7BYZNV.js";import"./chunk-6AV36EJB.js";import"./chunk-4H7GCPEM.js";import"./chunk-PDMYOQ3R.js";import"./chunk-WIP7277F.js";import"./chunk-7UNF3MRY.js";import"./chunk-WJRPEOG5.js";import"./chunk-LGFQMDEX.js";import{c as Q}from"./chunk-QULJEDDU.js";import{Ba as L,Ca as z,Da as O,Fa as k,Ha as B,Ma as R,Na as U,Qa as W,Sa as H,V as T,X as V,pa as E,ta as F,ua as P,wa as j,ya as N}from"./chunk-7KUH4VUZ.js";import"./chunk-3CIC7QKD.js";import{l as D,p as M}from"./chunk-H7YWWURD.js";import{Eb as G,Kb as _,Ob as o,Pb as s,Qb as v,Ub as g,Xb as h,Zb as a,cd as I,eb as l,fa as b,kb as y,kc as p,nc as S,qa as c,ra as d,rb as A,sb as w,xb as f}from"./chunk-DS46NKJA.js";function te(t,u){if(t&1){let e=g();o(0,"div",12)(1,"app-analysis-group-list",13),h("selectedAnalysisGroup",function(n){c(e);let r=a(3);return d(r.onAnalysisGroupSelected(n))}),s()(),o(2,"mat-paginator",14,0),h("page",function(n){c(e);let r=a(3);return d(r.handlePageEvent(n))}),s()}if(t&2){let e=a(3);l(),G("analysisGroupQuery",e.analysisGroupQuery),l(),G("length",e.analysisGroupQuery.count)("pageSize",e.limit)("showFirstLastButtons",!0)("hidePageSize",!0)("pageIndex",e.pageIndex)}}function ie(t,u){t&1&&(o(0,"p"),p(1,"No analysis groups found."),s())}function ne(t,u){if(t&1&&f(0,te,4,6)(1,ie,2,0,"p"),t&2){let e=a(2);_(e.analysisGroupQuery.count>0?0:1)}}function oe(t,u){if(t&1){let e=g();o(0,"div",2)(1,"mat-toolbar")(2,"mat-toolbar-row")(3,"span"),p(4,"Analysis Group"),s(),o(5,"button",5),h("click",function(){c(e);let n=a();return d(n.openCreateAnalysisGroupDialog())}),o(6,"mat-icon"),p(7,"create_new_folder"),s()()()(),o(8,"div",8)(9,"form",9)(10,"mat-form-field",10),v(11,"input",11),o(12,"mat-label"),p(13,"Search Analysis Group"),s()()(),f(14,ne,2,1),s()()}if(t&2){let e=a();l(9),G("formGroup",e.form),l(5),_(e.analysisGroupQuery?14:-1)}}function se(t,u){if(t&1&&p(0),t&2){let e=a();S(" ",e.selectedAnalysisGroup.name," (",e.dataService.getAnalysisGroupTypeLabel(e.selectedAnalysisGroup.analysis_group_type),") ")}}function ae(t,u){t&1&&p(0," Select Analysis Group ")}function re(t,u){if(t&1){let e=g();o(0,"app-analysis-group-view",15),h("deleted",function(){c(e);let n=a();return d(n.refreshData())})("updated",function(n){c(e);let r=a();return d(r.handleUpdateData(n))}),s()}if(t&2){let e=a();G("analysisGroup",e.selectedAnalysisGroup)}}var x=(()=>{class t{set analysisGroupID(e){this._analysisGroupID=e,e&&this.web.getAnalysisGroup(e).subscribe(i=>{this.selectedAnalysisGroup=i})}get analysisGroupID(){return this._analysisGroupID}constructor(e,i,n,r,$){this.router=e,this.dataService=i,this.fb=n,this.dialog=r,this.web=$,this.sidebarOpen=!0,this.pageIndex=0,this.limit=15,this.offset=0,this.form=this.fb.group({name:new j}),this.web.getAnalysisGroups(void 0,this.limit,this.offset).subscribe(m=>{this.analysisGroupQuery=m}),this.form.controls.name.valueChanges.subscribe(m=>{m&&this.web.getAnalysisGroups(void 0,this.limit,this.offset,m).subscribe(C=>{this.analysisGroupQuery=C})}),this.web.updateFromLabGroupSelection.subscribe(m=>{m&&this.web.getAnalysisGroups(void 0,this.limit,this.offset).subscribe(C=>{this.analysisGroupQuery=C})})}openCreateAnalysisGroupDialog(){let e=this.dialog.open(J);e.componentInstance.enableProjectSelection=!0,e.afterClosed().subscribe(i=>{i&&this.web.getAnalysisGroups(void 0,this.limit,this.offset).subscribe(n=>{this.analysisGroupQuery=n})})}handlePageEvent(e){this.offset=e.pageIndex*e.pageSize,this.limit=e.pageSize,this.form.controls.name.value?this.web.getAnalysisGroups(void 0,this.limit,this.offset,this.form.controls.name.value).subscribe(i=>{this.analysisGroupQuery=i}):this.web.getAnalysisGroups(void 0,this.limit,this.offset).subscribe(i=>{this.analysisGroupQuery=i})}refreshData(){this.web.getAnalysisGroups(void 0,this.limit,this.offset).subscribe(e=>{this.analysisGroupQuery=e})}handleUpdateData(e){this.selectedAnalysisGroup=e,this.analysisGroupQuery.results=this.analysisGroupQuery.results.map(i=>i.id===e.id?e:i)}toggleSidePanel(){this.sidebarOpen=!this.sidebarOpen}onAnalysisGroupSelected(e){this.router.navigate(["/analysis-group",e.id])}static{this.\u0275fac=function(i){return new(i||t)(y(D),y(q),y(O),y(Q),y(H))}}static{this.\u0275cmp=A({type:t,selectors:[["app-analysis-group"]],inputs:{analysisGroupID:"analysisGroupID"},decls:14,vars:3,consts:[["paginator",""],[2,"display","flex","flex-direction","row"],[1,"analysis-side-nav"],[1,"analysis-main-content"],[2,"display","flex","flex-direction","row","justify-content","center","align-items","center"],["mat-icon-button","",3,"click"],[2,"height","calc(100vh - 64px*2 - 20px)","overflow","auto"],[3,"analysisGroup"],[2,"display","flex","flex-direction","column","padding","5px"],[3,"formGroup"],[2,"width","100%"],["matInput","","formControlName","name","type","search","placeholder","Search Analysis Group"],[2,"height","calc(100vh - 64px*4 - 20px)","overflow","auto"],[3,"selectedAnalysisGroup","analysisGroupQuery"],["aria-label","Select page",3,"page","length","pageSize","showFirstLastButtons","hidePageSize","pageIndex"],[3,"deleted","updated","analysisGroup"]],template:function(i,n){i&1&&(o(0,"div",1),f(1,oe,15,2,"div",2),o(2,"div",3)(3,"mat-toolbar")(4,"mat-toolbar-row")(5,"div",4)(6,"button",5),h("click",function(){return n.toggleSidePanel()}),o(7,"mat-icon"),p(8,"menu"),s()(),o(9,"span"),f(10,se,1,2)(11,ae,1,0),s()()()(),o(12,"div",6),f(13,re,1,1,"app-analysis-group-view",7),s()()()),i&2&&(l(),_(n.sidebarOpen?1:-1),l(9),_(n.selectedAnalysisGroup?10:11),l(3),_(n.selectedAnalysisGroup?13:-1))},dependencies:[R,T,V,U,B,W,X,K,k,N,E,F,P,L,z,Y,Z],styles:[".analysis-side-nav[_ngcontent-%COMP%]{width:300px;border-right:1px solid #000000;display:flex;flex-direction:column;height:calc(100vh - 64px)}.analysis-main-content[_ngcontent-%COMP%]{flex:1}"]})}}return t})();var le=[{path:"",component:x},{path:":analysisGroupID",component:x}],Te=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=w({type:t})}static{this.\u0275inj=b({imports:[I,M.forChild(le)]})}}return t})();export{Te as AnalysisGroupModule};
