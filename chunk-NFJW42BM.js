import{a as I,c as w}from"./chunk-TSMHSBKG.js";import{a as X,b as Z}from"./chunk-D25H7K5U.js";import{a as Q}from"./chunk-HQFSCXZS.js";import{a as W}from"./chunk-5VOMNKAQ.js";import{Aa as z,Ba as H,Ca as Y,Ea as $,Ga as J,Ja as K,Ka as O,La as P,Q as j,R,S as E,ma as N,oa as B,qa as D,ra as G,va as V,ya as A,za as q}from"./chunk-RBHTY4FE.js";import"./chunk-4N6BO7AP.js";import{c as L,p as _}from"./chunk-KCCSOALX.js";import{Aa as M,Ba as y,Bb as k,Hb as d,Lb as o,Mb as r,Nb as c,Rb as F,Ub as g,Wb as v,ed as U,fb as l,gb as m,gc as a,ia as b,ja as C,na as S,oc as f,sa as p,ta as T,xb as u}from"./chunk-QNTGE4BG.js";var ee=(()=>{let e=class e{constructor(n){this.http=n,this.baseURL=P.baseURL}generateUserToken(n){return this.http.post(`${this.baseURL}/api/users/generate_token/`,{username:n},{responseType:"json",observe:"body"})}};e.\u0275fac=function(i){return new(i||e)(S(L))},e.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function oe(t,e){if(t&1){let h=F();o(0,"mat-card",3)(1,"mat-card-content"),a(2," Registration Link and Information "),o(3,"mat-form-field",4),c(4,"input",5),o(5,"mat-label"),a(6,"Registration Link"),r(),o(7,"button",6),g("click",function(){M(h);let i=v();return y(i.copyTokenLink())}),o(8,"mat-icon"),a(9,"content_paste"),r()()()()()}if(t&2){let h=v();l(4),k("value",h.userTokenLink)}}var te=(()=>{let e=class e{constructor(n,i,s){this.adminService=n,this.fb=i,this.snackBar=s,this.userTokenForm=this.fb.group({username:["",B.required]}),this.userTokenLink=""}createUserToken(){this.userTokenForm.invalid||this.userTokenForm.value.username&&this.adminService.generateUserToken(this.userTokenForm.value.username).subscribe(n=>{this.userTokenLink=location.protocol+"//"+location.host+"#/user/register/"+n.token})}copyTokenLink(){navigator.clipboard.writeText(this.userTokenLink).then(()=>{this.snackBar.open("Link copied to clipboard","Close",{duration:2e3})})}};e.\u0275fac=function(i){return new(i||e)(m(ee),m(z),m(Q))},e.\u0275cmp=p({type:e,selectors:[["app-user-management"]],standalone:!0,features:[f],decls:11,vars:2,consts:[[2,"display","flex","flex-direction","column","gap","20px","padding","20px",3,"ngSubmit","formGroup"],["matInput","","formControlName","username","placeholder","Username","type","text"],["mat-raised-button","","color","primary","type","submit"],["appearance","outlined"],[2,"width","100%"],["matInput","","type","text","readonly","",3,"value"],["mat-icon-button","","matSuffix","",3,"click"]],template:function(i,s){i&1&&(o(0,"h1"),a(1,"Generate Registration Link"),r(),o(2,"form",0),g("ngSubmit",function(){return s.createUserToken()}),o(3,"mat-form-field"),c(4,"input",1),o(5,"mat-label"),a(6,"Username"),r()(),o(7,"div")(8,"button",2),a(9,"Create User Registration Token Link"),r()(),u(10,oe,10,1,"mat-card",3),r()),i&2&&(l(2),k("formGroup",s.userTokenForm),l(8),d(s.userTokenLink?10:-1))},dependencies:[Y,V,N,D,G,A,q,$,O,K,R,I,w,j,H,J,E]});let t=e;return t})();function re(t,e){t&1&&(o(0,"div",0)(1,"div",1)(2,"mat-tab-group")(3,"mat-tab",2),c(4,"app-user-management"),r()()()())}function ae(t,e){t&1&&(o(0,"div",0)(1,"p"),a(2," You are not authorized to view this page. "),r()())}var ie=(()=>{let e=class e{constructor(n){this.accounts=n,this.isStaff=!1,console.log(this.accounts.currentUser),this.isStaff=this.accounts.currentUser?.is_staff||!1}};e.\u0275fac=function(i){return new(i||e)(m(W))},e.\u0275cmp=p({type:e,selectors:[["app-admin"]],standalone:!0,features:[f],decls:2,vars:1,consts:[[2,"display","flex","flex-direction","column","align-items","center","gap","20px"],[2,"width","600px"],["label","User Management"]],template:function(i,s){i&1&&u(0,re,5,0,"div",0)(1,ae,3,0,"div",0),i&2&&d(s.isStaff?0:1)},dependencies:[Z,X,te]});let t=e;return t})();var se=[{path:"",component:ie}],Ue=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=T({type:e}),e.\u0275inj=C({imports:[U,_.forChild(se)]});let t=e;return t})();export{Ue as AdminModule};
