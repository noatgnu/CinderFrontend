import"./chunk-YC3E622U.js";import{a as X}from"./chunk-M5EXVPEQ.js";import{a as $,l as ee}from"./chunk-WCPGWEAE.js";import"./chunk-N7JLAJBQ.js";import"./chunk-O2VZXNLJ.js";import{a as J}from"./chunk-E7WCFS4V.js";import"./chunk-WICPPB3Y.js";import"./chunk-OUGMZIKZ.js";import"./chunk-LMRTTUTL.js";import"./chunk-LU7HVNBM.js";import"./chunk-FPXGVAGB.js";import{a as Y,b as Z}from"./chunk-QPRLUAWP.js";import{j as H}from"./chunk-OZBYPAFL.js";import{b as F}from"./chunk-V5VFZZ6S.js";import{a as K}from"./chunk-QMSCXWF6.js";import"./chunk-D25H7K5U.js";import"./chunk-HQFSCXZS.js";import"./chunk-HT2TXY4M.js";import{Aa as B,Ca as R,Ea as U,Ja as W,Ka as q,Q,S as E,ma as P,qa as j,ra as N,ta as L,va as z,ya as O,za as k}from"./chunk-RBHTY4FE.js";import"./chunk-4N6BO7AP.js";import{l as M,p as V}from"./chunk-KCCSOALX.js";import{Aa as c,Ba as d,Bb as g,Hb as _,Lb as s,Mb as r,Nb as S,Rb as G,Ub as h,Wb as l,ed as T,fb as p,gb as f,gc as u,ja as w,jc as I,oc as D,sa as A,ta as v,xb as y}from"./chunk-QNTGE4BG.js";function ne(i,o){if(i&1){let n=G();s(0,"div",12)(1,"app-analysis-group-list",13),h("selectedAnalysisGroup",function(e){c(n);let a=l(3);return d(a.onAnalysisGroupSelected(e))}),r()(),s(2,"mat-paginator",14,0),h("page",function(e){c(n);let a=l(3);return d(a.handlePageEvent(e))}),r()}if(i&2){let n=l(3);p(),g("analysisGroupQuery",n.analysisGroupQuery),p(),g("length",n.analysisGroupQuery.count)("pageSize",n.limit)("showFirstLastButtons",!0)("hidePageSize",!0)("pageIndex",n.pageIndex)}}function oe(i,o){i&1&&(s(0,"p"),u(1,"No analysis groups found."),r())}function se(i,o){if(i&1&&y(0,ne,4,6)(1,oe,2,0,"p"),i&2){let n=l(2);_(n.analysisGroupQuery.count>0?0:1)}}function ae(i,o){if(i&1){let n=G();s(0,"div",2)(1,"mat-toolbar")(2,"mat-toolbar-row")(3,"span"),u(4,"Analysis Group"),r(),s(5,"button",5),h("click",function(){c(n);let e=l();return d(e.openCreateAnalysisGroupDialog())}),s(6,"mat-icon"),u(7,"create_new_folder"),r()()()(),s(8,"div",8)(9,"form",9)(10,"mat-form-field",10),S(11,"input",11),s(12,"mat-label"),u(13,"Search Analysis Group"),r()()(),y(14,se,2,1),r()()}if(i&2){let n=l();p(9),g("formGroup",n.form),p(5),_(n.analysisGroupQuery?14:-1)}}function re(i,o){if(i&1&&u(0),i&2){let n=l();I(" ",n.selectedAnalysisGroup.name," (",n.dataService.getAnalysisGroupTypeLabel(n.selectedAnalysisGroup.analysis_group_type),") ")}}function le(i,o){i&1&&u(0," Select Analysis Group ")}function pe(i,o){if(i&1){let n=G();s(0,"app-analysis-group-view",15),h("deleted",function(){c(n);let e=l();return d(e.refreshData())})("updated",function(e){c(n);let a=l();return d(a.handleUpdateData(e))}),r()}if(i&2){let n=l();g("analysisGroup",n.selectedAnalysisGroup)}}var x=(()=>{let o=class o{set analysisGroupID(t){this._analysisGroupID=t,t&&this.web.getAnalysisGroup(t).subscribe(e=>{this.selectedAnalysisGroup=e})}get analysisGroupID(){return this._analysisGroupID}constructor(t,e,a,b,te){this.router=t,this.dataService=e,this.fb=a,this.dialog=b,this.web=te,this.sidebarOpen=!0,this.pageIndex=0,this.limit=15,this.offset=0,this.form=this.fb.group({name:new L}),this.web.getAnalysisGroups(void 0,this.limit,this.offset).subscribe(m=>{this.analysisGroupQuery=m}),this.form.controls.name.valueChanges.subscribe(m=>{m&&this.web.getAnalysisGroups(void 0,this.limit,this.offset,m).subscribe(C=>{this.analysisGroupQuery=C})}),this.web.updateFromLabGroupSelection.subscribe(m=>{m&&this.web.getAnalysisGroups(void 0,this.limit,this.offset).subscribe(C=>{this.analysisGroupQuery=C})})}openCreateAnalysisGroupDialog(){let t=this.dialog.open(X);t.componentInstance.enableProjectSelection=!0,t.afterClosed().subscribe(e=>{e&&this.web.getAnalysisGroups(void 0,this.limit,this.offset).subscribe(a=>{this.analysisGroupQuery=a})})}handlePageEvent(t){this.offset=t.pageIndex*t.pageSize,this.limit=t.pageSize,this.form.controls.name.value?this.web.getAnalysisGroups(void 0,this.limit,this.offset,this.form.controls.name.value).subscribe(e=>{this.analysisGroupQuery=e}):this.web.getAnalysisGroups(void 0,this.limit,this.offset).subscribe(e=>{this.analysisGroupQuery=e})}refreshData(){this.web.getAnalysisGroups(void 0,this.limit,this.offset).subscribe(t=>{this.analysisGroupQuery=t})}handleUpdateData(t){this.selectedAnalysisGroup=t,this.analysisGroupQuery.results=this.analysisGroupQuery.results.map(e=>e.id===t.id?t:e)}toggleSidePanel(){this.sidebarOpen=!this.sidebarOpen}onAnalysisGroupSelected(t){this.router.navigate(["/analysis-group",t.id])}};o.\u0275fac=function(e){return new(e||o)(f(M),f(J),f(B),f(F),f(K))},o.\u0275cmp=A({type:o,selectors:[["app-analysis-group"]],inputs:{analysisGroupID:"analysisGroupID"},standalone:!0,features:[D],decls:14,vars:3,consts:[["paginator",""],[2,"display","flex","flex-direction","row"],[1,"analysis-side-nav"],[1,"analysis-main-content"],[2,"display","flex","flex-direction","row","justify-content","center","align-items","center"],["mat-icon-button","",3,"click"],[2,"height","calc(100vh - 64px*2 - 20px)","overflow","auto"],[3,"analysisGroup"],[2,"display","flex","flex-direction","column","padding","5px"],[3,"formGroup"],[2,"width","100%"],["matInput","","formControlName","name","type","search","placeholder","Search Analysis Group"],[2,"height","calc(100vh - 64px*4 - 20px)","overflow","auto"],[3,"selectedAnalysisGroup","analysisGroupQuery"],["aria-label","Select page",3,"page","length","pageSize","showFirstLastButtons","hidePageSize","pageIndex"],[3,"deleted","updated","analysisGroup"]],template:function(e,a){e&1&&(s(0,"div",1),y(1,ae,15,2,"div",2),s(2,"div",3)(3,"mat-toolbar")(4,"mat-toolbar-row")(5,"div",4)(6,"button",5),h("click",function(){return a.toggleSidePanel()}),s(7,"mat-icon"),u(8,"menu"),r()(),s(9,"span"),y(10,re,1,2)(11,le,1,0),r()()()(),s(12,"div",6),y(13,pe,1,1,"app-analysis-group-view",7),r()()()),e&2&&(p(),_(a.sidebarOpen?1:-1),p(9),_(a.selectedAnalysisGroup?10:11),p(3),_(a.selectedAnalysisGroup?13:-1))},dependencies:[W,Q,E,q,U,H,Z,Y,R,z,P,j,N,O,k,$,ee],styles:[".analysis-side-nav[_ngcontent-%COMP%]{width:300px;border-right:1px solid #000000;display:flex;flex-direction:column;height:calc(100vh - 64px)}.analysis-main-content[_ngcontent-%COMP%]{flex:1}"]});let i=o;return i})();var ue=[{path:"",component:x},{path:":analysisGroupID",component:x}],Qe=(()=>{let o=class o{};o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=v({type:o}),o.\u0275inj=w({imports:[T,V.forChild(ue)]});let i=o;return i})();export{Qe as AnalysisGroupModule};
