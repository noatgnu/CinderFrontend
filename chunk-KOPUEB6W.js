import"./chunk-JEIE66ZK.js";import{a as q}from"./chunk-4BSKQDCM.js";import{a as K,l as X}from"./chunk-5VVSD3OO.js";import"./chunk-5OZQCY64.js";import{a as H,b as J}from"./chunk-K5GRZCNB.js";import{h as U}from"./chunk-LRN7XJLX.js";import{Ba as W,H as M,J as T,ba as V,ga as Q,ja as E,ka as F,ma as P,na as N,pa as j,qa as z,ra as O,ta as k,va as L,ya as B,za as R}from"./chunk-L4Z5GNPN.js";import{n as D}from"./chunk-63W3RUDO.js";import"./chunk-AESYL7IM.js";import{$b as S,Cb as s,Db as r,Eb as A,Ib as C,Jc as I,Lb as y,Nb as l,Xb as u,Za as p,Zb as v,_a as g,fa as G,oa as b,pa as w,rb as d,tb as h,wa as m,xa as c,yb as f}from"./chunk-QZPYU5ZS.js";function $(t,n){if(t&1){let o=C();s(0,"div",12)(1,"app-analysis-group-list",13),y("selectedAnalysisGroup",function(e){m(o);let a=l(3);return c(a.selectedAnalysisGroup=e)}),r()(),s(2,"mat-paginator",14,0),y("page",function(e){m(o);let a=l(3);return c(a.handlePageEvent(e))}),r()}if(t&2){let o=l(3);p(),h("analysisGroupQuery",o.analysisGroupQuery),p(),h("length",o.analysisGroupQuery.count)("pageSize",o.limit)("showFirstLastButtons",!0)("hidePageSize",!0)("pageIndex",o.pageIndex)}}function ee(t,n){t&1&&(s(0,"p"),u(1,"No analysis groups found."),r())}function te(t,n){if(t&1&&d(0,$,4,6)(1,ee,2,0,"p"),t&2){let o=l(2);f(o.analysisGroupQuery.count>0?0:1)}}function ie(t,n){if(t&1){let o=C();s(0,"div",2)(1,"mat-toolbar")(2,"mat-toolbar-row")(3,"span"),u(4,"Analysis Group"),r(),s(5,"button",5),y("click",function(){m(o);let e=l();return c(e.openCreateAnalysisGroupDialog())}),s(6,"mat-icon"),u(7,"create_new_folder"),r()()()(),s(8,"div",8)(9,"form",9)(10,"mat-form-field",10),A(11,"input",11),s(12,"mat-label"),u(13,"Search Analysis Group"),r()()(),d(14,te,2,1),r()()}if(t&2){let o=l();p(9),h("formGroup",o.form),p(5),f(o.analysisGroupQuery?14:-1)}}function ne(t,n){if(t&1&&u(0),t&2){let o=l();v(" ",o.selectedAnalysisGroup.name," ")}}function oe(t,n){t&1&&u(0," Select Analysis Group ")}function se(t,n){if(t&1){let o=C();s(0,"app-analysis-group-view",15),y("deleted",function(){m(o);let e=l();return c(e.refreshData())})("updated",function(e){m(o);let a=l();return c(a.handleUpdateData(e))}),r()}if(t&2){let o=l();h("analysisGroup",o.selectedAnalysisGroup)}}var x=(()=>{let n=class n{set analysisGroupID(i){this._analysisGroupID=i,i&&this.web.getAnalysisGroup(i).subscribe(e=>{this.selectedAnalysisGroup=e})}get analysisGroupID(){return this._analysisGroupID}constructor(i,e,a){this.fb=i,this.dialog=e,this.web=a,this.sidebarOpen=!0,this.pageIndex=0,this.limit=15,this.offset=0,this.form=this.fb.group({name:new P}),this.web.getAnalysisGroups(void 0,this.limit,this.offset).subscribe(_=>{this.analysisGroupQuery=_}),this.form.controls.name.valueChanges.subscribe(_=>{_&&this.web.getAnalysisGroups(void 0,this.limit,this.offset,_).subscribe(Y=>{this.analysisGroupQuery=Y})})}openCreateAnalysisGroupDialog(){let i=this.dialog.open(q);i.componentInstance.enableProjectSelection=!0,i.afterClosed().subscribe(e=>{e&&this.web.getAnalysisGroups(void 0,this.limit,this.offset).subscribe(a=>{this.analysisGroupQuery=a})})}handlePageEvent(i){this.offset=i.pageIndex*i.pageSize,this.limit=i.pageSize,this.form.controls.name.value?this.web.getAnalysisGroups(void 0,this.limit,this.offset,this.form.controls.name.value).subscribe(e=>{this.analysisGroupQuery=e}):this.web.getAnalysisGroups(void 0,this.limit,this.offset).subscribe(e=>{this.analysisGroupQuery=e})}refreshData(){this.web.getAnalysisGroups(void 0,this.limit,this.offset).subscribe(i=>{this.analysisGroupQuery=i})}handleUpdateData(i){this.selectedAnalysisGroup=i,this.analysisGroupQuery.results=this.analysisGroupQuery.results.map(e=>e.id===i.id?i:e)}toggleSidePanel(){this.sidebarOpen=!this.sidebarOpen}};n.\u0275fac=function(e){return new(e||n)(g(O),g(V),g(W))},n.\u0275cmp=b({type:n,selectors:[["app-analysis-group"]],inputs:{analysisGroupID:"analysisGroupID"},standalone:!0,features:[S],decls:14,vars:3,consts:[["paginator",""],[2,"display","flex","flex-direction","row"],[1,"analysis-side-nav"],[1,"analysis-main-content"],[2,"display","flex","flex-direction","row","justify-content","center","align-items","center"],["mat-icon-button","",3,"click"],[2,"height","calc(100vh - 64px*2 - 20px)","overflow","auto"],[3,"analysisGroup"],[2,"display","flex","flex-direction","column","padding","5px"],[3,"formGroup"],[2,"width","100%"],["matInput","","formControlName","name","type","search","placeholder","Search Analysis Group"],[2,"height","calc(100vh - 64px*4 - 20px)","overflow","auto"],[3,"selectedAnalysisGroup","analysisGroupQuery"],["aria-label","Select page",3,"page","length","pageSize","showFirstLastButtons","hidePageSize","pageIndex"],[3,"deleted","updated","analysisGroup"]],template:function(e,a){e&1&&(s(0,"div",1),d(1,ie,15,2,"div",2),s(2,"div",3)(3,"mat-toolbar")(4,"mat-toolbar-row")(5,"div",4)(6,"button",5),y("click",function(){return a.toggleSidePanel()}),s(7,"mat-icon"),u(8,"menu"),r()(),s(9,"span"),d(10,ne,1,1)(11,oe,1,0),r()()()(),s(12,"div",6),d(13,se,1,1,"app-analysis-group-view",7),r()()()),e&2&&(p(),f(a.sidebarOpen?1:-1),p(9),f(a.selectedAnalysisGroup?10:11),p(3),f(a.selectedAnalysisGroup?13:-1))},dependencies:[B,M,T,R,L,U,J,H,k,N,Q,E,F,j,z,K,X],styles:[".analysis-side-nav[_ngcontent-%COMP%]{width:300px;border-right:1px solid #000000;display:flex;flex-direction:column;height:calc(100vh - 64px)}.analysis-main-content[_ngcontent-%COMP%]{flex:1}"]});let t=n;return t})();var ae=[{path:"",component:x},{path:":analysisGroupID",component:x}],Se=(()=>{let n=class n{};n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=w({type:n}),n.\u0275inj=G({imports:[I,D.forChild(ae)]});let t=n;return t})();export{Se as AnalysisGroupModule};
